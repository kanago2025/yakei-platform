<!-- src/views/notes/business/HousingDefectWarranty.vue -->
<template>
  <div class="housing-defect-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=business">å®…å»ºä¸šæ³•</router-link> &gt; 
          <span>ä½å®…ç‘•ç–µæ‹…ä¿å±¥è¡Œæ³•</span>
        </div>
        <h1>ä½å®…ç‘•ç–µæ‹…ä¿å±¥è¡Œæ³•</h1>
        <p>ç¡®ä¿æ–°ç­‘ä½å®…å–ä¸»æœ‰è¶³å¤Ÿèµ„åŠ›æ‰¿æ‹…ç‘•ç–µæ‹…ä¿è´£ä»»ï¼Œä¿æŠ¤æ¶ˆè´¹è€…æƒç›Šçš„é‡è¦æ³•å¾‹åˆ¶åº¦</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">18</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">45åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ“š å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£ä½å®…ç‘•ç–µæ‹…ä¿å±¥è¡Œæ³•çš„ç«‹æ³•ç›®çš„å’Œé€‚ç”¨èŒƒå›´</li>
            <li>æŒæ¡èµ„åŠ›ç¡®ä¿æªæ–½çš„ä¸¤ç§æ–¹å¼åŠå…¶å…·ä½“è¦æ±‚</li>
            <li>ç†Ÿæ‚‰ä¾›æ‰˜é‡‘é¢çš„è®¡ç®—æ–¹æ³•å’Œå±Šå‡ºä¹‰åŠ¡</li>
            <li>äº†è§£è¿åè§„å®šçš„æ³•å¾‹åæœ</li>
            <li>æŒæ¡å®åŠ¡æ“ä½œä¸­çš„æ³¨æ„äº‹é¡¹</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ§‘â€âš–ï¸ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- æ³•å¾‹æ¦‚è¿° -->
        <section id="law-overview" class="content-section">
          <h2>1. æ³•å¾‹æ¦‚è¿°ä¸ç«‹æ³•ç›®çš„</h2>
          
          <div class="law-basics">
            <div class="law-item">
              <h4>ğŸ“… åˆ¶å®šä¸æ–½è¡Œ</h4>
              <ul>
                <li><strong>åˆ¶å®šæ—¶é—´</strong>ï¼šå¹³æˆ19å¹´5æœˆ</li>
                <li><strong>æ–½è¡Œæ—¶é—´</strong>ï¼šå¹³æˆ21å¹´10æœˆ</li>
                <li><strong>ç«‹æ³•èƒŒæ™¯</strong>ï¼šè§£å†³å–ä¸»ç¼ºä¹èµ„é‡‘å®åŠ›æ— æ³•å±¥è¡Œç‘•ç–µæ‹…ä¿è´£ä»»çš„é—®é¢˜</li>
              </ul>
            </div>
            <div class="law-item">
              <h4>ğŸ¯ ç«‹æ³•ç›®çš„</h4>
              <ul>
                <li>ç¡®ä¿æ–°ç­‘ä½å®…å–ä¸»æœ‰è¶³å¤Ÿèµ„åŠ›æ‰¿æ‹…ç‘•ç–µæ‹…ä¿è´£ä»»</li>
                <li>ä¿æŠ¤æ¶ˆè´¹è€…ï¼ˆä¹°ä¸»ï¼‰çš„åˆæ³•æƒç›Š</li>
                <li>ä¿ƒè¿›ä½å®…å¸‚åœºçš„å¥åº·å‘å±•</li>
              </ul>
            </div>
          </div>

          <h3>é€‚ç”¨èŒƒå›´</h3>
          <div class="applicability-table">
            <div class="table-container">
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>æƒ…å†µ</th>
                    <th>æ˜¯å¦é€‚ç”¨</th>
                    <th>è¯´æ˜</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>å®…å»ºä¸šè€…ä½œä¸ºè‡ªå–ä¸»</strong></td>
                    <td class="applicable">âœ… é€‚ç”¨</td>
                    <td>ä¸»è¦é€‚ç”¨å¯¹è±¡</td>
                  </tr>
                  <tr>
                    <td><strong>ä¹°ä¸»ä¸ºå®…å»ºä¸šè€…</strong></td>
                    <td class="not-applicable">âŒ ä¸é€‚ç”¨</td>
                    <td>ä¸šè€…é—´äº¤æ˜“ä¸é€‚ç”¨</td>
                  </tr>
                  <tr>
                    <td><strong>åª’ä»‹ä¸šåŠ¡</strong></td>
                    <td class="not-applicable">âŒ ä¸é€‚ç”¨</td>
                    <td>ä»…é€‚ç”¨äºè‡ªå–ä¸»æƒ…å†µ</td>
                  </tr>
                  <tr>
                    <td><strong>æ–°ç­‘ä½å®…ï¼ˆå®Œå·¥1å¹´å†…æœªå…¥ä½ï¼‰</strong></td>
                    <td class="applicable">âœ… é€‚ç”¨</td>
                    <td>ç‰¹å®šå¯¹è±¡ç‰©</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <h3>è´£ä»»æœŸé—´ä¸ä¹°ä¸»æƒåˆ©</h3>
          <div class="responsibility-period">
            <div class="period-info">
              <div class="info-item">
                <h4>â±ï¸ è´£ä»»æœŸé—´</h4>
                <p><strong>10å¹´</strong>ï¼ˆè‡ªç‰©ä»¶äº¤ä»˜æ—¥èµ·ï¼‰</p>
              </div>
              <div class="info-item">
                <h4>ğŸ  é€‚ç”¨èŒƒå›´</h4>
                <p>ç»“æ„è€åŠ›éƒ¨åˆ† + é›¨æ°´æµ¸å…¥é˜²æ­¢éƒ¨åˆ†</p>
              </div>
              <div class="info-item">
                <h4>âš–ï¸ ä¹°ä¸»æƒåˆ©</h4>
                <p>æŸå®³èµ”å¿ã€å¥‘çº¦è§£é™¤ã€ç‘•ç–µä¿®è¡¥ã€ä»£é‡‘å‡é¢</p>
              </div>
            </div>
          </div>
        </section>

        <!-- èµ„åŠ›ç¡®ä¿æªæ–½ -->
        <section id="financial-measures" class="content-section">
          <h2>2. èµ„åŠ›ç¡®ä¿æªæ–½çš„ç§ç±»</h2>
          
          <div class="measures-comparison">
            <div class="measure-card">
              <div class="measure-header">
                <h3>ğŸ’° ä¾›æ‰˜ä¿è¯é‡‘æ–¹å¼</h3>
                <div class="measure-icon">ğŸ¦</div>
              </div>
              <div class="measure-content">
                <h4>ä¾›æ‰˜è¦æ±‚</h4>
                <ul>
                  <li><strong>åœºæ‰€</strong>ï¼šä¸»äº‹åŠ¡æ‰€æœ€è¿‘çš„ä¾›æ‰˜æ‰€</li>
                  <li><strong>ç‰©å“ç§ç±»</strong>ï¼šé‡‘é’±æˆ–æœ‰ä»·è¯åˆ¸</li>
                  <li><strong>æ—¶é—´</strong>ï¼šåŸºå‡†æ—¥èµ·3å‘¨å†…å®Œæˆ</li>
                </ul>
                
                <h4>é‡‘é¢è®¡ç®—</h4>
                <div class="calculation-method">
                  <div class="formula">
                    <strong>ä¾›æ‰˜é‡‘é¢ = åŸºå‡†æ—¥å‰10å¹´äº¤ä»˜æˆ·æ•° Ã— å•ä½é‡‘é¢</strong>
                  </div>
                  <div class="special-rule">
                    <h5>ç‰¹æ®Šè®¡ç®—è§„åˆ™</h5>
                    <p>åºŠé¢ç§¯<strong>55ã¡ä»¥ä¸‹</strong>çš„ä½å®…ï¼š<strong>2æˆ·æŒ‰1æˆ·</strong>è®¡ç®—</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="measure-card">
              <div class="measure-header">
                <h3>ğŸ›¡ï¸ åŠ å…¥ä¿é™©æ–¹å¼</h3>
                <div class="measure-icon">ğŸ“„</div>
              </div>
              <div class="measure-content">
                <h4>ä¿é™©è¦æ±‚</h4>
                <ul>
                  <li><strong>ä¿é™©è´¹ç”¨</strong>ï¼šç”±å®…å»ºä¸šè€…ï¼ˆå–ä¸»ï¼‰æ”¯ä»˜</li>
                  <li><strong>ä¿é™©é‡‘é¢</strong>ï¼š<strong class="highlight">2000ä¸‡æ—¥å…ƒä»¥ä¸Š</strong></li>
                  <li><strong>ä¿é™©æœŸé—´</strong>ï¼š<strong class="highlight">10å¹´ä»¥ä¸Š</strong>ï¼ˆè‡ªäº¤ä»˜æ—¥èµ·ï¼‰</li>
                </ul>
                
                <h4>æ–‡ä»¶è¦æ±‚</h4>
                <ul>
                  <li>å¿…é¡»å°†<strong>ä¿é™©è¯åˆ¸</strong>äº¤ä»˜ç»™ä¹°ä¸»</li>
                  <li>æˆ–é€šè¿‡ç”µç£æ–¹æ³•æä¾›æ›¿ä»£ä¹¦é¢</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="measures-note">
            <div class="notice-box important">
              <h4>ğŸ’¡ é‡è¦æç¤º</h4>
              <p>ä¾›æ‰˜å’ŒåŠ å…¥ä¿é™©<strong>å¯ä»¥å¹¶ç”¨</strong>ï¼Œä¸šè€…å¯æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©æœ€é€‚åˆçš„æ–¹å¼ã€‚</p>
            </div>
          </div>
        </section>

        <!-- ä¾›æ‰˜ä¿è¯é‡‘å…·ä½“è¦æ±‚ -->
        <section id="deposit-requirements" class="content-section">
          <h2>3. ä¾›æ‰˜ä¿è¯é‡‘çš„å…·ä½“è¦æ±‚</h2>
          
          <h3>ä¾›æ‰˜æ—¶é—´è¦æ±‚</h3>
          <div class="timeline">
            <div class="timeline-item">
              <div class="timeline-marker">1</div>
              <div class="timeline-content">
                <h4>åŸºå‡†æ—¥ç¡®å®š</h4>
                <p>æ¯å¹´<strong>3æœˆ31æ—¥</strong>ä¸ºåŸºå‡†æ—¥</p>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-marker">2</div>
              <div class="timeline-content">
                <h4>ä¾›æ‰˜æœŸé™</h4>
                <p>åŸºå‡†æ—¥èµ·<strong>3å‘¨å†…</strong>å¿…é¡»å®Œæˆä¾›æ‰˜</p>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-marker">3</div>
              <div class="timeline-content">
                <h4>è®¡ç®—æœŸé—´</h4>
                <p>åŸºå‡†æ—¥å‰<strong>10å¹´é—´</strong>äº¤ä»˜çš„æ–°ç­‘ä½å®…</p>
              </div>
            </div>
          </div>

          <h3>ç‰¹æ®Šæƒ…å†µå¤„ç†</h3>
          <div class="special-cases">
            <div class="case-item">
              <h4>ğŸ¢ ä¸»äº‹åŠ¡æ‰€ç§»è½¬</h4>
              <div class="case-content">
                <div class="case-option">
                  <strong>ä»…é‡‘é’±ä¾›æ‰˜æ—¶</strong>ï¼šå¯è¯·æ±‚<strong class="highlight">ä¿ç®¡æ›¿ãˆ</strong>
                </div>
                <div class="case-option">
                  <strong>åŒ…å«æœ‰ä»·è¯åˆ¸æ—¶</strong>ï¼šéœ€è¦<strong class="highlight">é‡æ–°ä¾›æ‰˜</strong>
                </div>
              </div>
            </div>
            
            <div class="case-item">
              <h4>ğŸ“Š é¢ç§¯è®¡ç®—ç‰¹ä¾‹</h4>
              <div class="case-content">
                <p>åºŠé¢ç§¯<strong>55ã¡ä»¥ä¸‹</strong>çš„æ–°ç­‘ä½å®…ï¼š</p>
                <div class="calculation-example">
                  <strong>2æˆ· = 1æˆ·</strong>ï¼ˆä¾›æ‰˜è®¡ç®—æ—¶ï¼‰
                </div>
              </div>
            </div>
          </div>

          <h3>ä¿¡æ¯æä¾›ä¹‰åŠ¡</h3>
          <div class="information-obligation">
            <div class="obligation-item">
              <h4>ğŸ“ ä¹¦é¢è¯´æ˜</h4>
              <p>å¿…é¡»åœ¨<strong>å¥‘çº¦ç¼”ç»“å‰</strong>ï¼Œå‘ä¹°ä¸»ä¹¦é¢è¯´æ˜ä¾›æ‰˜æ‰€çš„æ‰€åœ¨åœ°ç­‰ä¿¡æ¯</p>
            </div>
            <div class="obligation-item">
              <h4>ğŸ’» ç”µç£æ–¹æ³•</h4>
              <p>åœ¨å¾—åˆ°ä¹°ä¸»åŒæ„åï¼Œå¯é€šè¿‡<strong>ç”µç£æ–¹æ³•</strong>æä¾›ç›¸å…³ä¿¡æ¯</p>
            </div>
          </div>

          <h3>ä¿è¯é‡‘ç®¡ç†</h3>
          <div class="deposit-management">
            <div class="management-item">
              <h4>â¬‡ï¸ ä¿è¯é‡‘ä¸è¶³æ—¶</h4>
              <ul>
                <li>æ”¶åˆ°é€šçŸ¥å<strong>2å‘¨å†…</strong>å¿…é¡»è¡¥è¶³</li>
                <li>ä¾›æ‰˜å®Œæˆå<strong>2å‘¨å†…</strong>å‘å…è®¸æƒè€…å±Šå‡º</li>
              </ul>
            </div>
            <div class="management-item">
              <h4>â¬†ï¸ ä¿è¯é‡‘è¶…é¢æ—¶</h4>
              <ul>
                <li>å¯åœ¨åŸºå‡†æ—¥è·å¾—å…è®¸æƒè€…æ‰¿è®¤å</li>
                <li>å–å›<strong>è¶…é¢éƒ¨åˆ†</strong></li>
              </ul>
            </div>
          </div>
        </section>

        <!-- å±Šå‡ºä¹‰åŠ¡ -->
        <section id="reporting-obligation" class="content-section">
          <h2>4. å±Šå‡ºä¹‰åŠ¡ä¸è¿ååæœ</h2>
          
          <h3>å±Šå‡ºå†…å®¹è¦æ±‚</h3>
          <div class="reporting-content">
            <div class="reporting-item">
              <div class="reporting-number">1</div>
              <div class="reporting-details">
                <h4>æ€»æˆ·æ•°ç»Ÿè®¡</h4>
                <p>åŸºå‡†æ—¥å‰<strong>10å¹´å†…</strong>äº¤ä»˜çš„æ–°ç­‘ä½å®…<strong>æ€»æˆ·æ•°</strong></p>
              </div>
            </div>
            <div class="reporting-item">
              <div class="reporting-number">2</div>
              <div class="reporting-details">
                <h4>ä¾›æ‰˜æªæ–½æˆ·æ•°</h4>
                <p>é€šè¿‡<strong>ä¾›æ‰˜</strong>å±¥è¡Œç‘•ç–µæ‹…ä¿æªæ–½çš„<strong>æ€»æˆ·æ•°</strong></p>
              </div>
            </div>
            <div class="reporting-item">
              <div class="reporting-number">3</div>
              <div class="reporting-details">
                <h4>ä¿é™©æªæ–½æˆ·æ•°</h4>
                <p>é€šè¿‡<strong>ä¿é™©</strong>å±¥è¡Œç‘•ç–µæ‹…ä¿æªæ–½çš„<strong>æ€»æˆ·æ•°</strong></p>
              </div>
            </div>
          </div>

          <div class="reporting-timeline">
            <div class="timeline-visual">
              <div class="timeline-start">
                <div class="timeline-date">åŸºå‡†æ—¥</div>
                <div class="timeline-label">3æœˆ31æ—¥</div>
              </div>
              <div class="timeline-arrow">â†’</div>
              <div class="timeline-middle">
                <div class="timeline-date">3å‘¨å†…</div>
                <div class="timeline-label">å±Šå‡ºæœŸé™</div>
              </div>
              <div class="timeline-arrow">â†’</div>
              <div class="timeline-end">
                <div class="timeline-date">ç¬¬51å¤©</div>
                <div class="timeline-label">ä¸šåŠ¡ç¦æ­¢å¼€å§‹</div>
              </div>
            </div>
          </div>

          <h3>è¿ååæœ</h3>
          <div class="violation-consequences">
            <div class="consequence-item serious">
              <div class="consequence-icon">ğŸ’°</div>
              <div class="consequence-content">
                <h4>è¡Œæ”¿å¤„ç½š</h4>
                <ul>
                  <li><strong>ç½šé‡‘</strong>ï¼š50ä¸‡æ—¥å…ƒä»¥ä¸‹</li>
                  <li><strong>ä¸šåŠ¡ç¦æ­¢</strong>ï¼šåŸºå‡†æ—¥åç¬¬51å¤©èµ·ç¦æ­¢æ–°ç­‘ä½å®…ä¹°å–</li>
                </ul>
              </div>
            </div>
            <div class="consequence-item critical">
              <div class="consequence-icon">âš–ï¸</div>
              <div class="consequence-content">
                <h4>åˆ‘äº‹å¤„ç½š</h4>
                <ul>
                  <li><strong>è¿åç¦æ­¢è§„å®šæ—¶</strong>ï¼š</li>
                  <li>1å¹´ä»¥ä¸‹æƒ©å½¹ <strong>æˆ–</strong> 100ä¸‡æ—¥å…ƒä»¥ä¸‹ç½šé‡‘</li>
                  <li><strong>æˆ–ä¸¤è€…å¹¶ç½š</strong></li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- å®åŠ¡è¦ç‚¹ -->
        <section id="practical-points" class="content-section">
          <h2>5. å®åŠ¡æ“ä½œè¦ç‚¹</h2>
          
          <div class="practical-grid">
            <div class="practical-item">
              <h4>ğŸ›¡ï¸ ä¹°ä¸»æƒåˆ©ä¿éšœ</h4>
              <div class="practical-content">
                <p>å‘ç”Ÿç‘•ç–µæ—¶ï¼Œä¹°ä¸»å¯è¦æ±‚ï¼š</p>
                <ul>
                  <li><strong>æŸå®³èµ”å¿</strong></li>
                  <li><strong>å¥‘çº¦è§£é™¤</strong></li>
                  <li><strong>ç‘•ç–µä¿®è¡¥</strong></li>
                  <li><strong>ä»£é‡‘å‡é¢</strong></li>
                </ul>
              </div>
            </div>

            <div class="practical-item">
              <h4>ğŸ“ é¢ç§¯è®¡ç®—å®åŠ¡</h4>
              <div class="practical-content">
                <p>åºŠé¢ç§¯<strong>55ã¡ä»¥ä¸‹</strong>çš„æ–°ç­‘ä½å®…ï¼š</p>
                <div class="calculation-rule">
                  <strong>2æˆ· = 1æˆ·</strong>ï¼ˆä¾›æ‰˜è®¡ç®—æ—¶ï¼‰
                </div>
                <p class="note">é€‚ç”¨äºå°æˆ·å‹ä½å®…çš„ç‰¹æ®Šè®¡ç®—è§„åˆ™</p>
              </div>
            </div>

            <div class="practical-item">
              <h4>ğŸ“„ ä¿é™©è¯åˆ¸äº¤ä»˜</h4>
              <div class="practical-content">
                <p>åŠ å…¥ä¿é™©æ—¶ï¼Œå¿…é¡»ï¼š</p>
                <ul>
                  <li>å°†<strong>ä¿é™©è¯åˆ¸</strong>äº¤ä»˜ç»™ä¹°ä¸»</li>
                  <li>æˆ–æä¾›<strong>æ›¿ä»£ä¹¦é¢</strong></li>
                  <li>ç¡®ä¿ä¹°ä¸»æ”¶åˆ°ç›¸å…³è¯æ˜æ–‡ä»¶</li>
                </ul>
              </div>
            </div>

            <div class="practical-item">
              <h4>ğŸ”„ åŒé‡æªæ–½è¿ç”¨</h4>
              <div class="practical-content">
                <p><strong>ä¾›æ‰˜å’ŒåŠ å…¥ä¿é™©å¯ä»¥å¹¶ç”¨</strong></p>
                <p class="note">ä¸šè€…å¯æ ¹æ®ä¸šåŠ¡è§„æ¨¡å’Œé£é™©çŠ¶å†µé€‰æ‹©æœ€é€‚åˆçš„æ–¹æ¡ˆç»„åˆ</p>
              </div>
            </div>
          </div>

          <div class="practical-reminder">
            <div class="reminder-box">
              <h4>ğŸ’ æ ¸å¿ƒè¦ç‚¹æ€»ç»“</h4>
              <div class="reminder-content">
                <div class="reminder-item">
                  <strong>é€‚ç”¨å¯¹è±¡</strong>ï¼šå®…å»ºä¸šè€…ä½œä¸ºè‡ªå–ä¸» + æ–°ç­‘ä½å®…ï¼ˆå®Œå·¥1å¹´å†…æœªå…¥ä½ï¼‰
                </div>
                <div class="reminder-item">
                  <strong>è´£ä»»æœŸé—´</strong>ï¼šäº¤ä»˜å10å¹´ï¼ˆç»“æ„è€åŠ›éƒ¨åˆ† + é›¨æ°´æµ¸å…¥é˜²æ­¢éƒ¨åˆ†ï¼‰
                </div>
                <div class="reminder-item">
                  <strong>èµ„åŠ›æªæ–½</strong>ï¼šä¾›æ‰˜ä¿è¯é‡‘ æˆ– åŠ å…¥ä¿é™©ï¼ˆ2000ä¸‡ä»¥ä¸Šï¼Œ10å¹´ä»¥ä¸Šï¼‰
                </div>
                <div class="reminder-item">
                  <strong>å±Šå‡ºä¹‰åŠ¡</strong>ï¼šåŸºå‡†æ—¥ï¼ˆ3æœˆ31æ—¥ï¼‰èµ·3å‘¨å†…
                </div>
                <div class="reminder-item">
                  <strong>è¿ååæœ</strong>ï¼šç½šé‡‘50ä¸‡ä»¥ä¸‹ + ä¸šåŠ¡ç¦æ­¢ï¼ˆç¬¬51å¤©èµ·ï¼‰
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>â“ åˆ¤æ–­é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=housing-defect" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=housing-defect" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=business" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›å®…å»ºä¸šæ³•
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ§‘â€âš–ï¸' },
  { id: 'law-overview', title: 'æ³•å¾‹æ¦‚è¿°', icon: 'ğŸ“–' },
  { id: 'financial-measures', title: 'èµ„åŠ›æªæ–½', icon: 'ğŸ’°' },
  { id: 'deposit-requirements', title: 'ä¾›æ‰˜è¦æ±‚', icon: 'ğŸ¦' },
  { id: 'reporting-obligation', title: 'å±Šå‡ºä¹‰åŠ¡', icon: 'ğŸ“' },
  { id: 'practical-points', title: 'å®åŠ¡è¦ç‚¹', icon: 'ğŸ’¼' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'â“' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'ä½å®…ç‘•ç–µæ‹…ä¿å±¥è¡Œæ³•ï¼ˆã˜ã‚…ã†ãŸãã‹ã—ãŸã‚“ã½ã‚Šã“ã†ã»ã†ï¼‰',
    chinese: 'ä½å®…ç‘•ç–µæ‹…ä¿å±¥è¡Œæ³•',
    explanation: 'ç¡®ä¿æ–°ç­‘ä½å®…å–ä¸»æœ‰è¶³å¤Ÿèµ„åŠ›æ‰¿æ‹…ç‘•ç–µæ‹…ä¿è´£ä»»çš„æ³•å¾‹',
    example: 'å¹³æˆ19å¹´åˆ¶å®šï¼Œå¹³æˆ21å¹´æ–½è¡Œ'
  },
  {
    japanese: 'è³‡åŠ›ç¢ºä¿æªç½®ï¼ˆã—ã‚Šã‚‡ãã‹ãã»ãã¡ï¼‰',
    chinese: 'èµ„åŠ›ç¡®ä¿æªæ–½',
    explanation: 'å–ä¸»ä¸ºç¡®ä¿èƒ½å¤Ÿå±¥è¡Œç‘•ç–µæ‹…ä¿è´£ä»»è€Œé‡‡å–çš„èµ„é‡‘ä¿éšœæªæ–½',
    example: 'ä¾›æ‰˜ä¿è¯é‡‘æˆ–åŠ å…¥ä¿é™©'
  },
  {
    japanese: 'ä¾›è¨—ï¼ˆãã‚‡ã†ãŸãï¼‰',
    chinese: 'ä¾›æ‰˜',
    explanation: 'å°†ä¿è¯é‡‘å­˜å…¥æŒ‡å®šä¾›æ‰˜æ‰€çš„æ³•å¾‹è¡Œä¸º',
    example: 'åœ¨ä¸»äº‹åŠ¡æ‰€æœ€è¿‘çš„ä¾›æ‰˜æ‰€å­˜å…¥é‡‘é’±æˆ–æœ‰ä»·è¯åˆ¸'
  },
  {
    japanese: 'åŸºæº–æ—¥ï¼ˆãã˜ã‚…ã‚“ã³ï¼‰',
    chinese: 'åŸºå‡†æ—¥',
    explanation: 'æ¯å¹´3æœˆ31æ—¥ï¼Œç”¨äºè®¡ç®—ä¾›æ‰˜é‡‘é¢å’Œå±Šå‡ºçš„å…³é”®æ—¥æœŸ',
    example: 'ä»¥åŸºå‡†æ—¥å‰10å¹´å†…çš„äº¤ä»˜æˆ·æ•°è®¡ç®—ä¾›æ‰˜é‡‘é¢'
  },
  {
    japanese: 'æ§‹é€ è€åŠ›ä¸Šä¸»è¦ãªéƒ¨åˆ†ï¼ˆã“ã†ãã†ãŸã„ã‚Šã‚‡ãã˜ã‚‡ã†ã—ã‚…ã‚ˆã†ãªã¶ã¶ã‚“ï¼‰',
    chinese: 'ç»“æ„è€åŠ›ä¸Šä¸»è¦éƒ¨åˆ†',
    explanation: 'å»ºç­‘ç‰©çš„åŸºç¡€ã€åœŸå°ã€å±‹é¡¶ã€å¢™å£ã€æŸ±å­ç­‰æ‰¿é‡ç»“æ„',
    example: 'åŸºç¡€ã€åœŸå°ã€å±‹æ ¹ã€å£ã€æŸ±ç­‰'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'è‡ªã‚‰å£²ä¸»ã¨ã—ã¦æ–°ç¯‰ä½å®…ã‚’å®…åœ°å»ºç‰©å–å¼•æ¥­è€…ã§ãªã„è²·ä¸»ã«å¼•ãæ¸¡ã—ãŸå®…åœ°å»ºç‰©å–å¼•æ¥­è€…ã¯ã€å½“è©²ä½å®…ã‚’å¼•ãæ¸¡ã—ãŸæ—¥ã‹ã‚‰ï¼“é€±é–“ä»¥å†…ã«ã€ãã®ä½å®…ã«é–¢ã™ã‚‹è³‡åŠ›ç¢ºä¿æªç½®ã®çŠ¶æ³ã«ã¤ã„ã¦ã€ãã®å…è¨±ã‚’å—ã‘ãŸå›½åœŸäº¤é€šå¤§è‡£åˆã¯éƒ½é“åºœçœŒçŸ¥äº‹ã«å±Šã‘å‡ºãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'å±Šå‡ºæœŸé™æ˜¯"åŸºå‡†æ—¥"èµ·3å‘¨å†…ï¼Œä¸æ˜¯"äº¤ä»˜æ—¥"èµ·3å‘¨å†…ã€‚'
  },
  {
    question: 'å®…åœ°å»ºç‰©å–å¼•æ¥­è€…ãŒè‡ªã‚‰å£²ä¸»ã¨ãªã‚‹æ–°ç¯‰ä½å®…ã®å£²è²·ã«ãŠã„ã¦ã€è³‡åŠ›ç¢ºä¿æªç½®ã¨ã—ã¦åŠ å…¥ã™ã‚‹ä¿é™ºã®ä¿é™ºé‡‘é¡ã¯ã€1,000ä¸‡å††ä»¥ä¸Šã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'ä¿é™©é‡‘é¢å¿…é¡»æ˜¯2000ä¸‡æ—¥å…ƒä»¥ä¸Šï¼Œä¸æ˜¯1000ä¸‡æ—¥å…ƒã€‚'
  },
  {
    question: 'åºŠé¢ç©ãŒ50ã¡ã®æ–°ç¯‰ä½å®…ã¯ã€ä¾›è¨—é‡‘ã®ç®—å®šåŸºç¤ã¨ãªã‚‹æˆ¸æ•°ã®è¨ˆç®—ã«ãŠã„ã¦ã€2æˆ¸ã‚’ã‚‚ã£ã¦1æˆ¸ã¨ã¿ãªã™ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'åºŠé¢ç§¯55ã¡ä»¥ä¸‹çš„ä½å®…ï¼Œåœ¨è®¡ç®—ä¾›æ‰˜æˆ·æ•°æ—¶ï¼Œ2æˆ·æŒ‰1æˆ·è®¡ç®—ã€‚'
  },
  {
    question: 'å®…åœ°å»ºç‰©å–å¼•æ¥­è€…ã¯ã€è³‡åŠ›ç¢ºä¿æªç½®ã‚’è¬›ã˜ã¦ã„ãªã„å ´åˆã€åŸºæº–æ—¥ã®ç¿Œæ—¥ã‹ã‚‰ç›´ã¡ã«æ–°ç¯‰ä½å®…ã®å£²è²·å¥‘ç´„ã‚’ç· çµã™ã‚‹ã“ã¨ãŒã§ããªããªã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'åŸºå‡†æ—¥åç¬¬51å¤©èµ·æ‰ç¦æ­¢æ–°ç­‘ä½å®…ä¹°å–ï¼Œä¸æ˜¯åŸºå‡†æ—¥æ¬¡æ—¥ã€‚'
  },
  {
    question: 'è³‡åŠ›ç¢ºä¿æªç½®ã®å±Šå‡ºã‚’æ€ ã£ãŸå ´åˆã€50ä¸‡å††ä»¥ä¸‹ã®ç½°é‡‘ã«å‡¦ã›ã‚‰ã‚Œã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'è¿åå±Šå‡ºä¹‰åŠ¡çš„ç½šåˆ™æ˜¯50ä¸‡æ—¥å…ƒä»¥ä¸‹ç½šé‡‘ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('housing-defect', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('housing-defect')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('housing-defect')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('housing-defect', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.housing-defect-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= æ³•å¾‹æ¦‚è¿°æ ·å¼ ========= */
.law-basics {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.law-item {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.law-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.law-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.law-item li {
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  line-height: 1.5;
}

.applicability-table {
  margin: 2rem 0;
}

.table-container {
  overflow-x: auto;
  margin: 1.5rem 0;
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.comparison-table th, .comparison-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: left;
}

.comparison-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
  text-align: center;
}

.comparison-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.comparison-table tr:hover {
  background-color: #e9ecef;
}

.applicable {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
  text-align: center;
}

.not-applicable {
  background-color: #ffe7e7 !important;
  color: #c62828;
  font-weight: bold;
  text-align: center;
}

.responsibility-period {
  margin: 2rem 0;
}

.period-info {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
}

.info-item {
  text-align: center;
  padding: 1.5rem 1rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.info-item h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  justify-content: center;
}

.info-item p {
  margin: 0;
}

/* ========= èµ„åŠ›ç¡®ä¿æªæ–½æ ·å¼ ========= */
.measures-comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.measure-card {
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
  overflow: hidden;
}

.measure-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
}

.measure-header h3 {
  margin: 0;
  font-size: 1.25rem;
}

.measure-icon {
  font-size: 2rem;
}

.measure-content {
  padding: 1.5rem;
}

.measure-content h4 {
  margin: 1rem 0 0.5rem 0;
  color: #1a472a;
}

.measure-content ul {
  padding-left: 1.25rem;
  margin: 0;
}

.measure-content li {
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  line-height: 1.5;
}

.calculation-method {
  margin-top: 1rem;
}

.formula {
  background: #f0f7ff;
  padding: 1rem;
  border-radius: 8px;
  text-align: center;
  margin-bottom: 1rem;
  border-left: 4px solid #2a7960;
}

.special-rule {
  background: #fff9e6;
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid #ffcc00;
}

.special-rule h5 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.highlight {
  color: #c62828;
  font-weight: bold;
}

.measures-note {
  margin: 2rem 0;
}

.notice-box {
  background: #fff9e6;
  border: 1px solid #ffcc00;
  border-radius: 12px;
  padding: 1.5rem;
}

.notice-box.important {
  background: #ffe7e7;
  border-color: #dc3545;
}

.notice-box h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* ========= ä¾›æ‰˜ä¿è¯é‡‘æ ·å¼ ========= */
.timeline {
  display: flex;
  justify-content: space-between;
  margin: 2rem 0;
  position: relative;
}

.timeline::before {
  content: '';
  position: absolute;
  top: 20px;
  left: 0;
  right: 0;
  height: 2px;
  background: #2a7960;
  z-index: 1;
}

.timeline-item {
  text-align: center;
  position: relative;
  z-index: 2;
  flex: 1;
}

.timeline-marker {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
  position: relative;
}

.timeline-content {
  background: white;
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.timeline-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timeline-content p {
  margin: 0;
  font-size: 0.875rem;
}

.special-cases {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.case-item {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.case-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.case-content {
  margin: 0;
}

.case-option {
  margin-bottom: 1rem;
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 8px;
}

.calculation-example {
  background: #e7f7e7;
  padding: 1rem;
  border-radius: 8px;
  text-align: center;
  font-weight: bold;
  margin-top: 1rem;
  border: 1px solid #28a745;
}

.information-obligation {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.obligation-item {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.obligation-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.obligation-item p {
  margin: 0;
  line-height: 1.6;
}

.deposit-management {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.management-item {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.management-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.management-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.management-item li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= å±Šå‡ºä¹‰åŠ¡æ ·å¼ ========= */
.reporting-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.reporting-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.reporting-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  flex-shrink: 0;
}

.reporting-details h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.reporting-details p {
  margin: 0;
  line-height: 1.6;
}

.reporting-timeline {
  margin: 2rem 0;
}

.timeline-visual {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 2rem;
  background: #f8f9fa;
  border-radius: 12px;
}

.timeline-start, .timeline-middle, .timeline-end {
  text-align: center;
  flex: 1;
}

.timeline-date {
  font-weight: bold;
  font-size: 1.125rem;
  color: #2a7960;
  margin-bottom: 0.5rem;
}

.timeline-label {
  font-size: 0.875rem;
  color: #6c757d;
}

.timeline-arrow {
  color: #2a7960;
  font-weight: bold;
  font-size: 1.5rem;
}

.violation-consequences {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.consequence-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  border-radius: 12px;
}

.consequence-item.serious {
  background: #fff9e6;
  border: 1px solid #ffcc00;
}

.consequence-item.critical {
  background: #ffe7e7;
  border: 1px solid #dc3545;
}

.consequence-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.consequence-content h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.consequence-content ul {
  padding-left: 1.25rem;
  margin: 0;
}

.consequence-content li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= å®åŠ¡è¦ç‚¹æ ·å¼ ========= */
.practical-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.practical-item {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.practical-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.practical-content p {
  margin: 0 0 1rem 0;
}

.practical-content ul {
  padding-left: 1.25rem;
  margin: 0;
}

.practical-content li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.calculation-rule {
  background: #e7f7e7;
  padding: 1rem;
  border-radius: 8px;
  text-align: center;
  font-weight: bold;
  margin: 1rem 0;
  border: 1px solid #28a745;
}

.note {
  font-size: 0.75rem;
  color: #6c757d;
  margin-top: 0.5rem;
}

.practical-reminder {
  margin: 2rem 0;
}

.reminder-box {
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  border-radius: 12px;
  padding: 2rem;
}

.reminder-box h4 {
  margin: 0 0 1.5rem 0;
  font-size: 1.25rem;
  text-align: center;
}

.reminder-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
}

.reminder-item {
  padding: 1rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  line-height: 1.6;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .law-basics {
    grid-template-columns: 1fr;
  }
  
  .measures-comparison {
    grid-template-columns: 1fr;
  }
  
  .special-cases {
    grid-template-columns: 1fr;
  }
  
  .information-obligation {
    grid-template-columns: 1fr;
  }
  
  .deposit-management {
    grid-template-columns: 1fr;
  }
  
  .violation-consequences {
    grid-template-columns: 1fr;
  }
  
  .practical-grid {
    grid-template-columns: 1fr;
  }
  
  .reporting-content {
    grid-template-columns: 1fr;
  }
  
  .timeline {
    flex-direction: column;
    gap: 2rem;
  }
  
  .timeline::before {
    display: none;
  }
  
  .timeline-visual {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
  
  .reminder-content {
    grid-template-columns: 1fr;
  }
}
</style>