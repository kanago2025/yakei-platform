<!-- src/views/notes/yefa/ImportantMatters.vue -->
<template>
  <div class="important-matters">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=business">å®…å»ºä¸šæ³•</router-link> &gt; 
          <span>é‡è¦äº‹é¡¹è¯´æ˜</span>
        </div>
        <h1>é‡è¦äº‹é¡¹è¯´æ˜ï¼ˆ35æ¡ä¹¦é¢ï¼‰</h1>
        <p>å®…å»ºå£«è€ƒè¯•æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ŒæŒæ¡å¥‘çº¦å‰å¿…é¡»è¯´æ˜çš„é‡è¦äº‹é¡¹å†…å®¹å’Œæµç¨‹</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">25</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">40åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ“š å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£é‡è¦äº‹é¡¹è¯´æ˜çš„æ³•å¾‹ä¾æ®å’Œç›®çš„</li>
            <li>æŒæ¡é‡è¦äº‹é¡¹è¯´æ˜çš„æ—¶æœºã€å¯¹è±¡å’Œæ–¹æ³•</li>
            <li>ç†Ÿæ‚‰ä¸åŒäº¤æ˜“ç±»å‹ä¸‹çš„è¯´æ˜äº‹é¡¹å·®å¼‚</li>
            <li>èƒ½å¤ŸåŒºåˆ†ä¹°å–ã€ç§Ÿèµã€äº¤æ¢ç­‰ä¸åŒæƒ…å†µä¸‹çš„è¯´æ˜è¦æ±‚</li>
            <li>äº†è§£åŒºåˆ†æ‰€æœ‰å»ºç‰©çš„ç‰¹æ®Šè¯´æ˜äº‹é¡¹</li>
            <li>æŒæ¡æœ€æ–°æ³•å¾‹ä¿®æ­£è¦ç‚¹ï¼ˆ2024-2025å¹´ï¼‰</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ§‘â€âš–ï¸ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- é‡è¦äº‹é¡¹è¯´æ˜æ¦‚è¿° -->
        <section id="basic-concepts" class="content-section">
          <h2>1. é‡è¦äº‹é¡¹è¯´æ˜æ¦‚è¿°</h2>
          <p><strong>é‡è¦äº‹é¡¹è¯´æ˜</strong>æ˜¯å®…å»ºä¸šæ³•è§„å®šçš„æ ¸å¿ƒä¹‰åŠ¡ä¹‹ä¸€ï¼Œæ—¨åœ¨ç¡®ä¿ä¸åŠ¨äº§äº¤æ˜“ä¸­çš„ä¿¡æ¯å¯¹ç§°ï¼Œä¿æŠ¤æ¶ˆè´¹è€…æƒç›Šã€‚</p>
          
          <div class="case-scenario">
            <strong>å®åŠ¡åœºæ™¯ï¼š</strong>
            "å¦‚æœæ—©çŸ¥é“è¿™å—åœ°ä¸èƒ½å»ºæˆ¿å­ï¼Œæˆ‘ç»å¯¹ä¸ä¼šä¹°ï¼" "å¦‚æœæ—©çŸ¥é“ä¸èƒ½å¼€ç¾ç”²åº—ï¼Œæˆ‘ç»å¯¹ä¸ä¼šç§Ÿè¿™ä¸ªå…¬å¯“ï¼" ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œå®…å»ºä¸šè€…å¿…é¡»åœ¨å¥‘çº¦å‰å‘å®¢æˆ·å……åˆ†è¯´æ˜é‡è¦äº‹é¡¹ã€‚
          </div>
          
          <div class="highlight-box">
            <strong>æ ¸å¿ƒè¦ç‚¹ï¼š</strong>
            <ul>
              <li>å¿…é¡»åœ¨<strong>å¥‘çº¦æˆç«‹å‰</strong>è¿›è¡Œè¯´æ˜</li>
              <li>é’ˆå¯¹<strong>å¤§å®—å•†å“</strong>çš„"è¯´æ˜ä¹¦"å¼è®²è§£</li>
              <li>ä¿éšœå®¢æˆ·çŸ¥æƒ…æƒï¼Œé¿å…åç»­çº çº·</li>
              <li>ç”±<strong>å®…åœ°å»ºç‰©å–å¼•å£«</strong>ä¸“ä¸šæ‰§è¡Œ</li>
            </ul>
          </div>
        </section>

        <!-- æ³•å¾‹ä¾æ®ä¸ç›®çš„ -->
        <section id="legal-basis" class="content-section">
          <h2>2. æ³•å¾‹ä¾æ®ä¸ç›®çš„</h2>
          
          <h3>æ³•å¾‹ä¾æ®</h3>
          <ul>
            <li><strong>å®…å»ºä¸šæ³•ç¬¬35æ¡</strong>ï¼šè§„å®šé‡è¦äº‹é¡¹è¯´æ˜ä¹‰åŠ¡</li>
            <li><strong>å®…å»ºä¸šæ³•æ–½è¡Œè§„åˆ™</strong>ï¼šå…·ä½“è§„å®šè¯´æ˜äº‹é¡¹å†…å®¹</li>
            <li><strong>æ¶ˆè´¹è€…å¥‘çº¦æ³•</strong>ï¼šè¡¥å……æ¶ˆè´¹è€…ä¿æŠ¤è§„å®š</li>
          </ul>
          
          <h3>ç«‹æ³•ç›®çš„</h3>
          <ol>
            <li><strong>ä¿¡æ¯å¯¹ç§°</strong>ï¼šå¼¥è¡¥æ¶ˆè´¹è€…ä¸“ä¸šçŸ¥è¯†ä¸è¶³ï¼Œé˜²æ­¢ä¿¡æ¯ä¸å¯¹ç§°å¯¼è‡´çš„æŸå¤±</li>
            <li><strong>é£é™©é˜²èŒƒ</strong>ï¼šé˜²æ­¢é‡å¤§è¯¯è§£å’Œäº¤æ˜“é£é™©ï¼Œç¡®ä¿äº¤æ˜“å®‰å…¨</li>
            <li><strong>çº çº·é¢„é˜²</strong>ï¼šå‡å°‘åç»­æ³•å¾‹çº çº·ï¼Œæé«˜äº¤æ˜“æ•ˆç‡</li>
            <li><strong>å¸‚åœºè§„èŒƒ</strong>ï¼šä¿ƒè¿›ä¸åŠ¨äº§å¸‚åœºå¥åº·å‘å±•ï¼Œå»ºç«‹è¯šä¿¡ä½“ç³»</li>
          </ol>

          <div class="highlight-box">
            <strong>æœ€æ–°æ³•å¾‹ä¿®æ­£è¦ç‚¹ï¼ˆ2024-2025å¹´ï¼‰ï¼š</strong>
            <ul>
              <li><strong>å»ºç‰©çŠ¶å†µè°ƒæŸ¥æœ‰æ•ˆæœŸ</strong>ï¼šæœ¨é€ ä½å®…1å¹´ï¼Œå…±åŒä½å®…ï¼ˆRCé€ ç­‰ï¼‰2å¹´</li>
              <li><strong>æŒ‡å®šæµé€šæœºæ„ç™»è®°æƒ…å†µ</strong>ï¼šéœ€è¯´æ˜ç‰©ä¸šåœ¨æŒ‡å®šæµé€šæœºæ„çš„"äº¤æ˜“ç”³è¯·å—ç†çŠ¶å†µ"</li>
              <li><strong>å®…å»ºå£«æŠ¼å°ä¹‰åŠ¡åºŸé™¤</strong>ï¼š2022å¹´5æœˆä¿®æ­£ï¼Œåªéœ€ç­¾åä¸å†éœ€è¦æŠ¼å°</li>
            </ul>
          </div>
        </section>

        <!-- è¯´æ˜æ—¶æœºä¸å¯¹è±¡ -->
        <section id="timing-object" class="content-section">
          <h2>3. è¯´æ˜æ—¶æœºä¸å¯¹è±¡</h2>
          
          <h3>è¯´æ˜æ—¶æœº</h3>
          <p><strong>ä¸¥æ ¼åœ¨å¥‘çº¦æˆç«‹å‰</strong>è¿›è¡Œï¼Œä½œä¸ºå®¢æˆ·å†³ç­–çš„é‡è¦ä¾æ®ã€‚è¯´æ˜å®Œæˆåæ‰èƒ½ç­¾è®¢æ­£å¼å¥‘çº¦ã€‚</p>
          
          <h3>è¯´æ˜å¯¹è±¡</h3>
          <ul>
            <li><strong>ä¹°å–å¥‘çº¦</strong> â†’ <strong>ä¹°ä¸»</strong></li>
            <li><strong>ç§Ÿèµå¥‘çº¦</strong> â†’ <strong>å€Ÿä¸»</strong></li>
            <li><strong>äº¤æ¢å¥‘çº¦</strong> â†’ <strong>åŒæ–¹å½“äº‹è€…</strong></li>
          </ul>
          
          <div class="highlight-box">
            <strong>ä¾‹å¤–æƒ…å†µï¼š</strong>
            <ul>
              <li><strong>å¯¹æ–¹æ˜¯å®…å»ºä¸šè€…æ—¶</strong>ï¼šåªéœ€äº¤ä»˜ä¹¦é¢ï¼Œæ— éœ€å£å¤´è¯´æ˜ï¼ˆä¸“ä¸šäººå‘˜å…·å¤‡ç†è§£èƒ½åŠ›ï¼‰</li>
              <li><strong>ä¸åŠ¨äº§ä¿¡æ‰˜å—ç›Šæƒäº¤æ˜“</strong>ï¼šå³ä½¿å¯¹æ–¹æ˜¯ä¸šè€…ä¹Ÿéœ€è¯´æ˜ï¼ˆç‰¹æ®Šå•†å“éœ€è¦ä¸“ä¸šè§£é‡Šï¼‰</li>
              <li><strong>åª’ä»‹å¥‘çº¦</strong>ï¼šå‘äº¤æ˜“çš„å®é™…å½“äº‹äººè¯´æ˜ï¼Œè€Œéå§”æ‰˜äºº</li>
            </ul>
          </div>

          <h3>è¯´æ˜åœºæ‰€</h3>
          <p>æ²¡æœ‰åœºæ‰€é™åˆ¶ï¼Œå¯ä»¥åœ¨äº‹åŠ¡æ‰€ã€å’–å•¡å…ã€å®¢æˆ·å®¶ä¸­ç­‰ä»»ä½•é€‚åˆçš„åœºæ‰€è¿›è¡Œã€‚</p>
        </section>

        <!-- è¯´æ˜æ–¹æ³•ä¸è´£ä»» -->
        <section id="method-responsibility" class="content-section">
          <h2>4. è¯´æ˜æ–¹æ³•ä¸è´£ä»»</h2>
          
          <h3>è¯´æ˜ä¹‰åŠ¡äºº</h3>
          <p><strong>å®…å»ºä¸šè€…</strong>ï¼ˆè¯´æ˜ä¹‰åŠ¡ä¸»ä½“ï¼‰</p>
          
          <h3>å®é™…è¯´æ˜è€…</h3>
          <p><strong>å®…åœ°å»ºç‰©å–å¼•å£«</strong>ï¼ˆä¸“èŒæˆ–å…¼èŒå‡å¯ï¼Œå¿…é¡»åœ¨å®…å»ºä¸šè€…åç°¿ä¸Šç™»è®°ï¼‰</p>
          
          <h3>è¯´æ˜æ–¹å¼</h3>
          <ul>
            <li>å®…å»ºå£«è®°åçš„<strong>35æ¡ä¹¦é¢äº¤ä»˜</strong> + å£å¤´è¯´æ˜</li>
            <li>å¯¹æ–¹æ‰¿è¯ºæ—¶å¯ä½¿ç”¨<strong>ç”µç£æ–¹æ³•</strong>ä»£æ›¿ä¹¦é¢äº¤ä»˜</li>
            <li><strong>ITé‡è¯´</strong>ï¼ˆè§†é¢‘ä¼šè®®ï¼‰åœ¨æ»¡è¶³æ¡ä»¶æ—¶å¯ç”¨</li>
            <li>æœªå®Œæˆç‰©ä»¶å¿…é¡»äº¤ä»˜<strong>å¹³é¢å›¾</strong>è¯´æ˜å½¢çŠ¶ç»“æ„</li>
          </ul>
          
          <div class="case-scenario">
            <strong>å®åŠ¡è¦æ±‚ï¼š</strong>
            <ul>
              <li>å¿…é¡»ä¸»åŠ¨æç¤ºå®…å»ºå£«è¯ï¼ˆè¿è€…å¤„10ä¸‡æ—¥å…ƒä»¥ä¸‹è¿‡æ–™ï¼‰</li>
              <li>å¤šä¸ªä¸šè€…å‚ä¸æ—¶ï¼Œæ‰€æœ‰ä¸šè€…éƒ½æœ‰è¯´æ˜ä¹‰åŠ¡ï¼Œä½†å¯ç”±ä»»ä¸€å®…å»ºå£«å®é™…è¯´æ˜</li>
              <li>è°ƒæŸ¥é”™è¯¯ç”±<strong>æ‰€æœ‰ä¸šè€…å…±åŒæ‰¿æ‹…è´£ä»»</strong></li>
              <li>ITé‡è¯´éœ€ç¡®ä¿åŒæ–¹èƒ½æ¸…æ¥šäº¤æµï¼Œäº‹å…ˆäº¤ä»˜ä¹¦é¢ææ–™</li>
            </ul>
          </div>

          <h3>è¿ååæœ</h3>
          <ul>
            <li><strong>è¡Œæ”¿å¤„åˆ†</strong>ï¼šä¸šåŠ¡åœæ­¢ã€å…è®¸å–æ¶ˆ</li>
            <li><strong>æ°‘äº‹è´£ä»»</strong>ï¼šæŸå®³èµ”å¿</li>
            <li><strong>åˆ‘äº‹è´£ä»»</strong>ï¼šç½šæ¬¾ç­‰å¤„ç½š</li>
          </ul>
        </section>

        <!-- åŸºæœ¬è¯´æ˜äº‹é¡¹ -->
        <section id="basic-items" class="content-section">
          <h2>5. åŸºæœ¬è¯´æ˜äº‹é¡¹</h2>
          <p>æ— è®ºä¹°å–ã€äº¤æ¢è¿˜æ˜¯ç§Ÿèµï¼Œéƒ½å¿…é¡»è¯´æ˜çš„åŸºæœ¬äº‹é¡¹ï¼š</p>
          
          <div class="table-container">
            <table class="comparison-table">
              <thead>
                <tr>
                  <th>äº‹é¡¹</th>
                  <th>å†…å®¹è¯´æ˜</th>
                  <th>å¤‡æ³¨</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>ç™»è®°æƒåˆ©çŠ¶å†µ</td>
                  <td>æ‰€æœ‰æƒã€æŠµæŠ¼æƒã€åœ°ä¸Šæƒã€ç§Ÿèµæƒç­‰ç™»è®°æƒ…å†µ</td>
                  <td>å¿…é¡»è¯´æ˜ç™»è®°åç¾©äººå’Œæƒåˆ©å†…å®¹ï¼ŒåŒ…æ‹¬æŠµæŠ¼æƒäººæ˜¯å¦åŒæ„è½¬è®©</td>
                </tr>
                <tr>
                  <td>æ³•ä»¤é™åˆ¶</td>
                  <td>éƒ½å¸‚è®¡åˆ’æ³•ã€å»ºç­‘åŸºå‡†æ³•ç­‰æ³•ä»¤é™åˆ¶</td>
                  <td>åŒ…æ‹¬å»ºè”½ç‡ã€å®¹ç§¯ç‡ã€ç”¨é€”è¦åˆ¶ã€é˜²ç¾åŒºåŸŸç­‰</td>
                </tr>
                <tr>
                  <td>åŸºç¡€è®¾æ–½</td>
                  <td>æ°´ç”µç‡ƒæ°”ã€æ’æ°´è®¾æ–½çŠ¶å†µ</td>
                  <td>æœªæ•´å¤‡æ—¶è¦è¯´æ˜æ•´å¤‡è®¡åˆ’å’Œç‰¹åˆ«è´Ÿæ‹…</td>
                </tr>
                <tr>
                  <td>ç¾å®³é£é™©</td>
                  <td>åœŸç ‚ç¾å®³ã€æ´¥æ³¢ç¾å®³ã€é€ æˆå®…åœ°é˜²ç¾åŒºåŸŸç­‰</td>
                  <td>ä»…å‘ŠçŸ¥å­˜åœ¨ï¼Œä¸è¦æ±‚ä¸šè€…è°ƒæŸ¥ï¼ˆ2025å¹´æ–°å¢æ°´å®³é£é™©è¯´æ˜ï¼‰</td>
                </tr>
                <tr>
                  <td>ç§é“è´Ÿæ‹…</td>
                  <td>ç§é“ç›¸å…³çš„ç‰¹åˆ«è´Ÿæ‹…äº‹é¡¹</td>
                  <td>å»ºç‰©ç§Ÿèµæ—¶ä¸éœ€è¦è¯´æ˜</td>
                </tr>
                <tr>
                  <td>å¥‘çº¦è§£é™¤</td>
                  <td>è§£é™¤æ¡ä»¶ã€æ‰‹ç»­ç­‰ç›¸å…³äº‹é¡¹</td>
                  <td>åŒ…æ‹¬æ‰‹ä»˜è§£é™¤ç­‰ç‰¹æ®Šè§£é™¤æƒ</td>
                </tr>
                <tr>
                  <td>æŸå®³èµ”å¿</td>
                  <td>æŸå®³èµ”å¿é¢é¢„å®šã€è¿çº¦é‡‘ç­‰äº‹é¡¹</td>
                  <td>éœ€æ˜ç¡®é‡‘é¢å’Œè®¡ç®—æ–¹å¼</td>
                </tr>
                <tr>
                  <td>ä¿å…¨æªæ–½</td>
                  <td>æ‰‹ä»˜é‡‘ã€ä»£é‡‘ç­‰æ”¯ä»˜é‡‘çš„ä¿å…¨æªæ–½</td>
                  <td>é‡‘é¢ä¸è¶³50ä¸‡æ—¥å…ƒæ—¶å¯ä¸è¯´æ˜</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="highlight-box">
            <strong>2024å¹´é‡è¦æ›´æ–°ï¼šå»ºç‰©çŠ¶å†µè°ƒæŸ¥æœ‰æ•ˆæœŸ</strong>
            <ul>
              <li><strong>æœ¨é€ ç‹¬æ ‹ä½å®…</strong>ï¼šè°ƒæŸ¥æ—¥èµ·<strong>1å¹´</strong>å†…æœ‰æ•ˆ</li>
              <li><strong>å…±åŒä½å®…ï¼ˆRCé€ ç­‰ï¼‰</strong>ï¼šè°ƒæŸ¥æ—¥èµ·<strong>2å¹´</strong>å†…æœ‰æ•ˆ</li>
              <li>å¿…é¡»åœ¨é‡è¦äº‹é¡¹è¯´æ˜ä¸­å‘ŠçŸ¥è°ƒæŸ¥å®æ–½æƒ…å†µå’Œç»“æœæ¦‚è¦</li>
            </ul>
          </div>
        </section>

        <!-- äº¤æ˜“ç±»å‹å·®å¼‚ -->
        <section id="transaction-differences" class="content-section">
          <h2>6. äº¤æ˜“ç±»å‹å·®å¼‚</h2>
          
          <h3>ä¹°å–ä¸ç§Ÿèµçš„è¯´æ˜å·®å¼‚</h3>
          
          <div class="table-container">
            <table class="comparison-table">
              <thead>
                <tr>
                  <th>è¯´æ˜äº‹é¡¹</th>
                  <th>ä¹°å–</th>
                  <th>ç§Ÿèµ</th>
                  <th>å¤‡æ³¨</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>ç§é“è´Ÿæ‹…</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>å»ºç‰©ç§Ÿèµæ—¶ä¸éœ€è¦</td>
                </tr>
                <tr>
                  <td>æ‰‹ä»˜é‡‘ä¿å…¨</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>ç§Ÿèµæ²¡æœ‰æ‰‹ä»˜é‡‘</td>
                </tr>
                <tr>
                  <td>è´·æ¬¾æ–¡æ—‹</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>ç§Ÿèµé€šå¸¸ä¸æ¶‰åŠè´·æ¬¾</td>
                </tr>
                <tr>
                  <td>æ‹…ä¿è´£ä»»</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>ç§Ÿèµæ²¡æœ‰æ‹…ä¿è´£ä»»æªæ–½</td>
                </tr>
                <tr>
                  <td>çŸ³æ£‰è®°å½•</td>
                  <td class="required">å¿…è¦</td>
                  <td class="required">å¿…è¦</td>
                  <td>ä»…å»ºç‰©éœ€è¦è¯´æ˜</td>
                </tr>
                <tr>
                  <td>è€éœ‡è¯Šæ–­</td>
                  <td class="required">å¿…è¦</td>
                  <td class="required">å¿…è¦</td>
                  <td>ä»…å»ºç‰©éœ€è¦ï¼Œ1981å¹´6æœˆåæ–°ç­‘ä¸è¦</td>
                </tr>
                <tr>
                  <td>ä½å®…æ€§èƒ½è¯„ä»·</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>ä»…æ–°ç­‘ä½å®…ä¹°å–æ—¶éœ€è¦</td>
                </tr>
                <tr>
                  <td>å¥‘çº¦æœŸé—´Â·æ›´æ–°</td>
                  <td class="not-required">ä¸è¦</td>
                  <td class="required">å¿…è¦</td>
                  <td>ç§Ÿèµç‰¹æœ‰äº‹é¡¹</td>
                </tr>
                <tr>
                  <td>æ•·é‡‘ç²¾ç®—</td>
                  <td class="not-required">ä¸è¦</td>
                  <td class="required">å¿…è¦</td>
                  <td>ç§Ÿèµç‰¹æœ‰äº‹é¡¹</td>
                </tr>
                <tr>
                  <td>è®¾å¤‡çŠ¶å†µ</td>
                  <td class="not-required">ä¸è¦</td>
                  <td class="required">å¿…è¦</td>
                  <td>ä»…å»ºç‰©ç§Ÿèµéœ€è¦è¯´æ˜å¨æˆ¿ã€æµ´å®¤ç­‰</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="highlight-box">
            <strong>è®°å¿†æŠ€å·§ï¼š</strong>
            <ul>
              <li><strong>ä»…ä¹°å–éœ€è¦</strong>ï¼šç§é“è´Ÿæ‹…ã€æ‰‹ä»˜é‡‘ä¿å…¨ã€è´·æ¬¾æ–¡æ—‹ã€æ‹…ä¿è´£ä»»ã€ä½å®…æ€§èƒ½è¯„ä»·</li>
              <li><strong>ä»…å»ºç‰©éœ€è¦</strong>ï¼šçŸ³æ£‰ã€è€éœ‡è¯Šæ–­ã€è®¾å¤‡çŠ¶å†µ</li>
              <li><strong>ç§Ÿèµç‰¹æœ‰</strong>ï¼šå¥‘çº¦æœŸé—´ã€æ•·é‡‘ç²¾ç®—ã€è®¾å¤‡çŠ¶å†µã€å®šæœŸå€Ÿå®¶æƒ</li>
              <li><strong>å…±é€šäº‹é¡¹</strong>ï¼šç™»è®°æƒåˆ©ã€æ³•ä»¤é™åˆ¶ã€åŸºç¡€è®¾æ–½ã€ç¾å®³é£é™©</li>
            </ul>
          </div>
        </section>

        <!-- åŒºåˆ†æ‰€æœ‰å»ºç‰©è§„åˆ™ -->
        <section id="condominium-rules" class="content-section">
          <h2>7. åŒºåˆ†æ‰€æœ‰å»ºç‰©è§„åˆ™</h2>
          <p>å…¬å¯“ç­‰åŒºåˆ†æ‰€æœ‰å»ºç‰©æœ‰ç‰¹æ®Šçš„è¯´æ˜è¦æ±‚ï¼Œä¸»è¦æ¶‰åŠè§„çº¦å’Œç®¡ç†ç›¸å…³äº‹é¡¹ï¼š</p>
          
          <div class="table-container">
            <table class="comparison-table">
              <thead>
                <tr>
                  <th>è¯´æ˜äº‹é¡¹</th>
                  <th>ä¹°å–</th>
                  <th>ç§Ÿèµ</th>
                  <th>å¤‡æ³¨</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>æ•·åœ°æƒåˆ©</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>æ‰€æœ‰æƒã€åœ°ä¸Šæƒç­‰ï¼ˆè§„çº¦å®šæœ‰æ—¶ï¼‰</td>
                </tr>
                <tr>
                  <td>å…±ç”¨éƒ¨åˆ†è§„çº¦</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>åŒ…æ‹¬è§„çº¦æ¡ˆï¼Œå…±ç”¨éƒ¨åˆ†èŒƒå›´ã€æŒåˆ†ç­‰</td>
                </tr>
                <tr>
                  <td>ä¸“æœ‰éƒ¨åˆ†ç”¨é€”é™åˆ¶</td>
                  <td class="required">å¿…è¦</td>
                  <td class="required">å¿…è¦</td>
                  <td>å® ç‰©ç¦æ­¢ã€å•†ä¸šç”¨é€”é™åˆ¶ç­‰ï¼ˆè§„çº¦å®šæœ‰æ—¶ï¼‰</td>
                </tr>
                <tr>
                  <td>ä¸“ç”¨ä½¿ç”¨æƒ</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>ä¸“ç”¨åº­ã€ä¸“ç”¨é˜³å°ç­‰ï¼ˆè§„çº¦å®šæœ‰æ—¶ï¼‰</td>
                </tr>
                <tr>
                  <td>ä¿®ç¹•ç§¯ç«‹é‡‘</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>å†…å®¹ã€å·²ç§¯é‡‘é¢ã€æ»çº³é¢ï¼ˆè§„çº¦å®šæœ‰æ—¶ï¼‰</td>
                </tr>
                <tr>
                  <td>ç®¡ç†è´¹</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>é‡‘é¢ã€æ»çº³é¢</td>
                </tr>
                <tr>
                  <td>ç®¡ç†å§”æ‰˜</td>
                  <td class="required">å¿…è¦</td>
                  <td class="required">å¿…è¦</td>
                  <td>ä»…å§”æ‰˜æ—¶è¯´æ˜ï¼ˆç®¡ç†å…¬å¸åç§°ã€åœ°å€ï¼‰</td>
                </tr>
                <tr>
                  <td>è´¹ç”¨å‡å…</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>ç‰¹å®šäººå‘˜è´¹ç”¨å‡å…ï¼ˆè§„çº¦å®šæœ‰æ—¶ï¼‰</td>
                </tr>
                <tr>
                  <td>ç»´æŒä¿®ç¹•è®°å½•</td>
                  <td class="required">å¿…è¦</td>
                  <td class="not-required">ä¸è¦</td>
                  <td>ä»…è®°å½•å­˜åœ¨æ—¶è¯´æ˜</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="case-scenario">
            <strong>å®åŠ¡è¦ç‚¹ï¼š</strong>
            <ul>
              <li>åŒºåˆ†æ‰€æœ‰å»ºç‰©çš„è¯´æ˜äº‹é¡¹å¤§å¤šä»¥"è§„çº¦å®šæœ‰æ—¶"ä¸ºæ¡ä»¶</li>
              <li>ç§Ÿèµæ—¶åªéœ€è¯´æ˜ä¸“æœ‰éƒ¨åˆ†ç”¨é€”é™åˆ¶å’Œç®¡ç†å§”æ‰˜æƒ…å†µ</li>
              <li>ä¿®ç¹•ç§¯ç«‹é‡‘å’Œç®¡ç†è´¹éœ€è¯´æ˜å…·ä½“é‡‘é¢å’Œæ»çº³æƒ…å†µ</li>
              <li>ç®¡ç†å§”æ‰˜éœ€è¯´æ˜å—æ‰˜æ–¹åç§°ã€åœ°å€å’Œç™»è®°ç¼–å·</li>
            </ul>
          </div>
        </section>

        <!-- ç‰¹æ®Šæƒ…å†µå¤„ç† -->
        <section id="special-cases" class="content-section">
          <h2>8. ç‰¹æ®Šæƒ…å†µå¤„ç†</h2>
          
          <h3>å¤šä¸ªä¸šè€…å‚ä¸</h3>
          <ul>
            <li>æ‰€æœ‰å‚ä¸ä¸šè€…éƒ½æœ‰è¯´æ˜ä¹‰åŠ¡ï¼ˆå¦‚å–ä¸»ä¸šè€…å’Œåª’ä»‹ä¸šè€…ï¼‰</li>
            <li>å¯ç”±ä»»ä¸€å®…å»ºå£«å®é™…è¯´æ˜</li>
            <li>è°ƒæŸ¥é”™è¯¯ç”±<strong>æ‰€æœ‰ä¸šè€…å…±åŒæ‰¿æ‹…è´£ä»»</strong></li>
            <li>éœ€åœ¨35æ¡ä¹¦é¢ä¸Šå…±åŒè®°å</li>
          </ul>
          
          <h3>æœªå®Œæˆç‰©ä»¶</h3>
          <ul>
            <li>å¿…é¡»äº¤ä»˜<strong>å¹³é¢å›¾</strong>è¿›è¡Œè¯´æ˜</li>
            <li>è¯´æ˜å·¥äº‹å®Œæˆæ—¶çš„å½¢çŠ¶ã€ç»“æ„ã€å†…å¤–è£…ç­‰</li>
            <li>å®…åœ°éœ€è¯´æ˜é“è·¯å®½åº¦ã€ç»“æ„ç­‰</li>
          </ul>
          
          <h3>ITé‡è¯´ï¼ˆè§†é¢‘è¯´æ˜ï¼‰</h3>
          <ul>
            <li>éœ€äº‹å…ˆäº¤ä»˜è¯´æ˜ä¹¦ï¼ˆç”µç£æ–¹æ³•ä¹Ÿå¯ï¼‰</li>
            <li>ç¡®è®¤è§†é¢‘è¯­éŸ³é€šä¿¡çŠ¶å†µè‰¯å¥½</li>
            <li>å¯¹æ–¹èƒ½æ¸…æ¥šçœ‹åˆ°å®…å»ºå£«è¯ä¿¡æ¯</li>
            <li>é€‚ç”¨äºæ‰€æœ‰äº¤æ˜“ç±»å‹ï¼ˆ2020å¹´ä¿®æ­£åï¼‰</li>
          </ul>

          <h3>ä¸åŠ¨äº§ä¿¡æ‰˜å—ç›Šæƒäº¤æ˜“</h3>
          <ul>
            <li>å³ä½¿å¯¹æ–¹æ˜¯å®…å»ºä¸šè€…ä¹Ÿéœ€è¯´æ˜</li>
            <li>éœ€è¯´æ˜ä¿¡æ‰˜è´¢äº§ç›¸å…³çš„é‡è¦äº‹é¡¹</li>
            <li>ç‰¹å®šæŠ•èµ„è€…ç­‰ä¾‹å¤–æƒ…å†µå¯çœç•¥è¯´æ˜</li>
          </ul>

          <div class="highlight-box">
            <strong>2025å¹´æ–°å¢è¦æ±‚ï¼šæŒ‡å®šæµé€šæœºæ„ç™»è®°æƒ…å†µ</strong>
            <p>æ ¹æ®2025å¹´1æœˆ1æ—¥çš„è§„åˆ™æ”¹æ­£ï¼Œéœ€è¦è¯´æ˜è¯¥ç‰©ä¸šåœ¨æŒ‡å®šæµé€šæœºæ„çš„"äº¤æ˜“ç”³è¯·å—ç†çŠ¶å†µ"ï¼Œå¹¶ä¸”æ­¤ä¿¡æ¯å¿…é¡»ç¬¦åˆäº‹å®ï¼Œå¦åˆ™å¯èƒ½é¢ä¸´æŒ‡ç¤ºå¤„åˆ†ã€‚</p>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>â“ åˆ¤æ–­é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <button class="answer-btn" @click="toggleAnswer(index)">
              {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
            </button>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=important-matters" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=important-matters" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=business" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›å®…å»ºä¸šæ³•
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ§‘â€âš–ï¸' },
  { id: 'basic-concepts', title: 'æ¦‚è¿°', icon: 'ğŸ“' },
  { id: 'legal-basis', title: 'æ³•å¾‹ä¾æ®', icon: 'âš–ï¸' },
  { id: 'timing-object', title: 'æ—¶æœºä¸å¯¹è±¡', icon: 'â°' },
  { id: 'method-responsibility', title: 'æ–¹æ³•ä¸è´£ä»»', icon: 'ğŸ“‹' },
  { id: 'basic-items', title: 'åŸºæœ¬äº‹é¡¹', icon: 'ğŸ“„' },
  { id: 'transaction-differences', title: 'äº¤æ˜“å·®å¼‚', icon: 'ğŸ”„' },
  { id: 'condominium-rules', title: 'åŒºåˆ†æ‰€æœ‰', icon: 'ğŸ¢' },
  { id: 'special-cases', title: 'ç‰¹æ®Šæƒ…å†µ', icon: 'ğŸ”' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'â“' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'é‡è¦äº‹é …èª¬æ˜ (ã˜ã‚…ã†ã‚ˆã†ã˜ã“ã†ã›ã¤ã‚ã„)',
    chinese: 'é‡è¦äº‹é¡¹è¯´æ˜',
    explanation: 'æŒ‡å®…å»ºä¸šè€…åœ¨å¥‘çº¦æˆç«‹å‰ï¼Œå¿…é¡»é€šè¿‡å®…åœ°å»ºç‰©å–å¼•å£«å‘å®¢æˆ·è¯´æ˜ç‰©ä»¶ç›¸å…³é‡è¦äº‹é¡¹çš„æ³•å®šä¹‰åŠ¡ã€‚è¿™æ˜¯æ¶ˆè´¹è€…ä¿æŠ¤çš„æ ¸å¿ƒåˆ¶åº¦ã€‚',
    example: 'ä¾‹å­ï¼šåœ¨è´­ä¹°æˆ¿äº§å‰ï¼Œå®…å»ºå£«å¿…é¡»å‘ä¹°ä¸»è¯´æ˜è¯¥æˆ¿äº§çš„äº§æƒçŠ¶å†µã€æ³•ä»¤é™åˆ¶ç­‰é‡è¦ä¿¡æ¯ã€‚'
  },
  {
    japanese: 'å®…åœ°å»ºç‰©å–å¼•å£« (ãŸãã¡ãŸã¦ã‚‚ã®ã¨ã‚Šã²ãã—)',
    chinese: 'å®…åœ°å»ºç‰©äº¤æ˜“å£«',
    explanation: 'å…·æœ‰ä¸“ä¸šèµ„æ ¼çš„ä¸åŠ¨äº§äº¤æ˜“ä¸“ä¸šäººå‘˜ï¼Œè´Ÿè´£è¿›è¡Œé‡è¦äº‹é¡¹è¯´æ˜ã€‚å¿…é¡»é€šè¿‡å›½å®¶è€ƒè¯•å¹¶æ³¨å†Œã€‚',
    example: 'ä¾‹å­ï¼šåªæœ‰æŒæœ‰å®…å»ºå£«è¯ä¹¦çš„ä¸“ä¸šäººå‘˜æ‰èƒ½è¿›è¡Œæ­£å¼çš„é‡è¦äº‹é¡¹è¯´æ˜ã€‚'
  },
  {
    japanese: '35æ¡æ›¸é¢ (35ã˜ã‚‡ã†ã—ã‚‡ã‚ã‚“)',
    chinese: '35æ¡ä¹¦é¢',
    explanation: 'è®°è½½é‡è¦äº‹é¡¹è¯´æ˜å†…å®¹çš„æ³•å®šæ–‡ä¹¦ï¼Œå¿…é¡»ç”±å®…å»ºå£«è®°åå¹¶äº¤ä»˜ç»™å®¢æˆ·ã€‚æ˜¯è¯´æ˜ä¹‰åŠ¡å±¥è¡Œçš„ä¹¦é¢è¯æ˜ã€‚',
    example: 'ä¾‹å­ï¼šå®…å»ºå£«åœ¨è¿›è¡Œè¯´æ˜æ—¶å¿…é¡»äº¤ä»˜ç»™å®¢æˆ·çš„æ­£å¼ä¹¦é¢æ–‡ä»¶ã€‚'
  },
  {
    japanese: 'åŒºåˆ†æ‰€æœ‰å»ºç‰© (ãã¶ã‚“ã—ã‚‡ã‚†ã†ãŸã¦ã‚‚ã®)',
    chinese: 'åŒºåˆ†æ‰€æœ‰å»ºç‰©',
    explanation: 'æŒ‡å…¬å¯“ç­‰ç”±å¤šä¸ªä¸“æœ‰éƒ¨åˆ†å’Œå…±ç”¨éƒ¨åˆ†æ„æˆçš„å»ºç­‘ç‰©ï¼Œæœ‰ç‰¹æ®Šçš„è¯´æ˜è¦æ±‚ã€‚',
    example: 'ä¾‹å­ï¼šå…¬å¯“ä¹°å–æ—¶éœ€è¦é¢å¤–è¯´æ˜å…±ç”¨éƒ¨åˆ†è§„çº¦ã€ä¿®ç¹•ç§¯ç«‹é‡‘ç­‰å†…å®¹ã€‚'
  },
  {
    japanese: 'åª’ä»‹å¥‘ç´„ (ã°ã„ã‹ã„ã‘ã„ã‚„ã)',
    chinese: 'åª’ä»‹å¥‘çº¦',
    explanation: 'å®…å»ºä¸šè€…åœ¨äº¤æ˜“åŒæ–¹é—´æ–¡æ—‹ã€ä¿ƒæˆåˆåŒæˆç«‹ï¼Œä½†ä¸ä»¥ä»»ä½•ä¸€æ–¹åä¹‰è¡Œäº‹çš„å¥‘çº¦å½¢å¼ã€‚',
    example: 'ä¾‹å­ï¼šæˆ¿äº§ä¸­ä»‹ä¸ºä¹°å–åŒæ–¹æä¾›ç£‹å•†æœºä¼šï¼Œä½†ä¸ä»£è¡¨ä»»ä½•ä¸€æ–¹ç­¾è®¢åˆåŒã€‚'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'å®…å»ºæ¥­è€…ãŒå£²è²·å¥‘ç´„ã‚’ç· çµã™ã‚‹å ´åˆã€é‡è¦äº‹é …ã®èª¬æ˜ã¯å¥‘ç´„æˆç«‹å¾Œã§ã‚‚ã‚ˆã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'é‡è¦äº‹é¡¹è¯´æ˜å¿…é¡»åœ¨å¥‘çº¦æˆç«‹å‰è¿›è¡Œï¼Œè¿™æ˜¯ä¸ºäº†ç¡®ä¿å®¢æˆ·åœ¨ç­¾çº¦å‰å……åˆ†äº†è§£æƒ…å†µï¼Œä½œä¸ºå†³ç­–ä¾æ®ã€‚'
  },
  {
    question: 'å€Ÿä¸»ãŒå®…å»ºæ¥­è€…ã§ã‚ã‚‹å ´åˆã€é‡è¦äº‹é …ã®èª¬æ˜ã¯çœç•¥ã§ãã‚‹ãŒã€æ›¸é¢ã®äº¤ä»˜ã¯å¿…è¦ã§ã‚ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'å¯¹æ–¹æ˜¯å®…å»ºä¸šè€…æ—¶ï¼Œç”±äºå…·å¤‡ä¸“ä¸šçŸ¥è¯†ï¼Œå¯ä»¥çœç•¥å£å¤´è¯´æ˜ï¼Œä½†ä»éœ€äº¤ä»˜35æ¡ä¹¦é¢ã€‚'
  },
  {
    question: 'åŒºåˆ†æ‰€æœ‰å»ºç‰©ã®è²¸å€Ÿå¥‘ç´„ã«ãŠã„ã¦ã€ä¿®ç¹•ç©ç«‹é‡‘ã®å†…å®¹ã«ã¤ã„ã¦èª¬æ˜ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'åŒºåˆ†æ‰€æœ‰å»ºç‰©çš„ç§Ÿèµå¥‘çº¦ä¸­ï¼Œä¸éœ€è¦è¯´æ˜ä¿®ç¹•ç§¯ç«‹é‡‘çš„å†…å®¹ï¼Œè¿™æ˜¯ä¹°å–æ—¶æ‰éœ€è¦è¯´æ˜çš„äº‹é¡¹ã€‚'
  },
  {
    question: 'æœªå®Œæˆç‰©ä»¶ã®é‡è¦äº‹é …èª¬æ˜ã«ã¯ã€å¹³é¢å›³ã®äº¤ä»˜ãŒå¿…è¦ã§ã‚ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'æœªå®Œæˆç‰©ä»¶å¿…é¡»é€šè¿‡å¹³é¢å›¾è¯´æ˜å·¥äº‹å®Œæˆæ—¶çš„å½¢çŠ¶å’Œç»“æ„ï¼Œè¿™æ˜¯æ³•å®šè¦æ±‚ã€‚'
  },
  {
    question: 'è¤‡æ•°ã®å®…å»ºæ¥­è€…ãŒé–¢ä¸ã™ã‚‹å–å¼•ã§ã¯ã€ã™ã¹ã¦ã®æ¥­è€…ãŒå…±åŒã—ã¦èª¬æ˜ç¾©å‹™ã‚’è² ã†ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'å¤šä¸ªå®…å»ºä¸šè€…å‚ä¸çš„äº¤æ˜“ä¸­ï¼Œæ‰€æœ‰ä¸šè€…éƒ½æœ‰è¯´æ˜ä¹‰åŠ¡ï¼Œè°ƒæŸ¥é”™è¯¯æ—¶æ‰€æœ‰ä¸šè€…å…±åŒæ‰¿æ‹…è´£ä»»ã€‚'
  },
  {
    question: 'é‰„ç­‹ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆé€ ã®å…±åŒä½å®…ã«ãŠã‘ã‚‹å»ºç‰©çŠ¶æ³èª¿æŸ»ã®çµæœã¯ã€èª¿æŸ»æ—¥ã‹ã‚‰1å¹´é–“æœ‰åŠ¹ã§ã‚ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æ ¹æ®2024å¹´4æœˆ1æ—¥æ–½è¡Œçš„æ”¹æ­£ï¼Œå…±åŒä½å®…ï¼ˆRCé€ ç­‰ï¼‰çš„å»ºç‰©çŠ¶å†µè°ƒæŸ¥ç»“æœæœ‰æ•ˆæœŸä¸º2å¹´ï¼Œæœ¨é€ ä½å®…æ‰æ˜¯1å¹´ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('important_matters', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('important_matters')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('important_matters')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('important_matters', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.important-matters {
  min-height: 100vh;
  background-color: var(--bg);
}

.container {
  max-width: var(--max-width, 1200px);
  margin: 0 auto;
  padding: 0 var(--container-padding, 2rem);
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: var(--radius);
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: var(--muted);
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: var(--primary);
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: var(--primary-dark);
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: var(--muted);
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: var(--muted);
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--primary-dark);
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: var(--bg);
  border-radius: 8px;
  text-decoration: none;
  color: var(--text);
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: var(--primary-light);
  color: var(--primary-dark);
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 1.5rem;
  box-shadow: var(--shadow);
  border-left: 4px solid var(--primary);
}

.term-japanese {
  font-weight: bold;
  color: var(--primary);
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: var(--text);
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--border);
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--primary-dark);
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= æ¡ˆä¾‹å’Œé‡ç‚¹ç›’å­ ========= */
.case-scenario {
  background: #f0f7ff;
  border-radius: var(--radius);
  padding: 1.5rem;
  margin: 1.5rem 0;
  border-left: 4px solid var(--primary);
  line-height: 1.6;
}

.highlight-box {
  background: #fff9e6;
  border: 1px solid #ffcc00;
  border-radius: var(--radius);
  padding: 1.5rem;
  margin: 1.5rem 0;
  line-height: 1.6;
}

.highlight-box strong {
  color: #92400e;
}

/* ========= è¡¨æ ¼æ ·å¼ ========= */
.table-container {
  overflow-x: auto;
  margin: 1.5rem 0;
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.comparison-table th, .comparison-table td {
  border: 1px solid var(--border);
  padding: 12px;
  text-align: left;
}

.comparison-table th {
  background-color: var(--primary);
  color: white;
  font-weight: 600;
  text-align: center;
}

.comparison-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.comparison-table tr:hover {
  background-color: #e9ecef;
}

.comparison-table .required {
  color: #28a745;
  font-weight: bold;
  text-align: center;
}

.comparison-table .not-required {
  color: #dc3545;
  font-weight: bold;
  text-align: center;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: var(--radius);
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: var(--primary);
  background: var(--primary-light);
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.answer-btn {
  background: var(--primary);
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: var(--primary-dark);
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: var(--primary);
  color: white;
}

.btn-primary:hover {
  background: var(--primary-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: var(--primary);
  border: 1px solid var(--primary);
}

.btn-outline:hover {
  background: var(--primary-light);
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid var(--border);
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  text-decoration: none;
  border-radius: var(--radius);
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  background: linear-gradient(135deg, var(--primary-dark), #164536);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

.action-button.video:hover {
  background: linear-gradient(135deg, #205e4a, #164536);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
}
</style>