<!-- src/views/notes/business/37Document.vue -->
<template>
  <div class="document37-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=business">å®…å»ºä¸šæ³•</router-link> &gt; 
          <span>37æ¡ä¹¦é¢</span>
        </div>
        <h1>37æ¡ä¹¦é¢ï¼ˆå¥‘çº¦ä¹¦äº¤ä»˜ä¹‰åŠ¡ï¼‰</h1>
        <p>å®…å»ºä¸šè€…åœ¨å¥‘çº¦æˆç«‹åå¿…é¡»å‘å½“äº‹äººäº¤ä»˜çš„å¥‘çº¦å†…å®¹ä¹¦é¢ï¼Œç¡®ä¿äº¤æ˜“é€æ˜åº¦å’Œäº‹åçº çº·é¢„é˜²</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">18</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">45åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£37æ¡ä¹¦é¢çš„æ³•å¾‹å®šä½å’Œäº¤ä»˜æ—¶æœºè¦æ±‚</li>
            <li>æŒæ¡å¿…é¡»è®°è½½äº‹é¡¹å’Œä»»æ„è®°è½½äº‹é¡¹çš„åŒºåˆ«</li>
            <li>ç†Ÿæ‚‰37æ¡ä¹¦é¢ä¸35æ¡ä¹¦é¢çš„æ ¸å¿ƒå·®å¼‚</li>
            <li>äº†è§£äº¤ä»˜å¯¹è±¡ã€äº¤ä»˜æ–¹å¼å’Œä¾‹å¤–æƒ…å†µ</li>
            <li>æŒæ¡å®åŠ¡ä¸­çš„æ­£ç¡®äº¤ä»˜æµç¨‹å’Œæ³¨æ„äº‹é¡¹</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div class="term-card">
              <div class="term-japanese">37æ¡æ›¸é¢ï¼ˆ37ã˜ã‚‡ã†ã—ã‚‡ã‚ã‚“ï¼‰</div>
              <div class="term-chinese">37æ¡ä¹¦é¢</div>
              <div class="term-explanation">å®…å»ºä¸šæ³•ç¬¬37æ¡è§„å®šçš„å¥‘çº¦ä¹¦äº¤ä»˜ä¹‰åŠ¡ï¼Œå¥‘çº¦æˆç«‹åå¿…é¡»äº¤ä»˜çš„ä¹¦é¢æ–‡ä»¶</div>
              <div class="term-example">åŒ…å«å¥‘çº¦åŒæ–¹åˆæ„çš„å…·ä½“å†…å®¹ï¼Œä½œä¸ºæ³•å¾‹å‡­è¯</div>
            </div>
            <div class="term-card">
              <div class="term-japanese">å¿…è¦çš„è¨˜è¼‰äº‹é …ï¼ˆã²ã¤ã‚ˆã†ã¦ããã•ã„ã˜ã“ã†ï¼‰</div>
              <div class="term-chinese">å¿…é¡»è®°è½½äº‹é¡¹</div>
              <div class="term-explanation">æ— è®ºå¥‘çº¦å†…å®¹å¦‚ä½•éƒ½å¿…é¡»è®°è½½çš„æ³•å®šäº‹é¡¹ï¼Œç¼ºå°‘åˆ™ä¹¦é¢æ— æ•ˆ</div>
              <div class="term-example">å½“äº‹äººä¿¡æ¯ã€ç‰©ä»¶ç‰¹å®šè¡¨ç¤ºã€ä»£é‡‘é‡‘é¢ç­‰</div>
            </div>
            <div class="term-card">
              <div class="term-japanese">ä»»æ„çš„è¨˜è¼‰äº‹é …ï¼ˆã«ã‚“ã„ã¦ããã•ã„ã˜ã“ã†ï¼‰</div>
              <div class="term-chinese">ä»»æ„è®°è½½äº‹é¡¹</div>
              <div class="term-explanation">å¥‘çº¦ä¸­æœ‰ç›¸å…³çº¦å®šæ—¶æ‰éœ€è¦è®°è½½çš„äº‹é¡¹ï¼Œæ— çº¦å®šåˆ™æ— éœ€è®°è½½</div>
              <div class="term-example">å¥‘çº¦è§£é™¤æ¡æ¬¾ã€è¿çº¦é‡‘ã€å±é™©è´Ÿæ‹…ç­‰</div>
            </div>
            <div class="term-card">
              <div class="term-japanese">é›»ç£çš„æ–¹æ³•ï¼ˆã§ã‚“ã˜ã¦ãã»ã†ã»ã†ï¼‰</div>
              <div class="term-chinese">ç”µç£æ–¹æ³•</div>
              <div class="term-explanation">ç»å½“äº‹äººåŒæ„åï¼Œå¯ç”¨ç”µå­æ•°æ®æ–¹å¼ä»£æ›¿çº¸è´¨ä¹¦é¢äº¤ä»˜</div>
              <div class="term-example">ç”µå­é‚®ä»¶ã€ä¸“ç”¨ç³»ç»Ÿç­‰ç”µå­æ–¹å¼äº¤ä»˜</div>
            </div>
            <div class="term-card">
              <div class="term-japanese">å¥‘ç´„ã®ä¸¡å½“äº‹è€…ï¼ˆã‘ã„ã‚„ãã®ã‚Šã‚‡ã†ã¨ã†ã˜ã—ã‚ƒï¼‰</div>
              <div class="term-chinese">å¥‘çº¦åŒæ–¹å½“äº‹äºº</div>
              <div class="term-explanation">ä¹°å–ã€äº¤æ¢ã€å€Ÿè´·ç­‰å¥‘çº¦çš„åŒæ–¹å½“äº‹äººéƒ½è¦äº¤ä»˜37æ¡ä¹¦é¢</div>
              <div class="term-example">å–ä¸»ä¸ä¹°ä¸»ã€è´·ä¸»ä¸å€Ÿä¸»éƒ½éœ€è¦æ¥æ”¶ä¹¦é¢</div>
            </div>
          </div>
        </section>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concept" class="content-section">
          <h2>1. 37æ¡ä¹¦é¢çš„åŸºæœ¬æ¦‚å¿µ</h2>
          
          <div class="concept-definition">
            <div class="definition-card">
              <h3>ğŸ“ ä»€ä¹ˆæ˜¯37æ¡ä¹¦é¢ï¼Ÿ</h3>
              <p>æ ¹æ®<strong>å®…åœ°å»ºç‰©å–å¼•ä¸šæ³•ç¬¬37æ¡</strong>è§„å®šï¼Œå®…å»ºä¸šè€…åœ¨å¥‘çº¦æˆç«‹åå¿…é¡»å‘å¥‘çº¦åŒæ–¹å½“äº‹äººäº¤ä»˜çš„<strong>å¥‘çº¦å†…å®¹ä¹¦é¢</strong>ã€‚</p>
              <div class="legal-basis">
                <strong>æ³•å¾‹ä¾æ®ï¼š</strong>å®…å»ºä¸šæ³•ç¬¬37æ¡ç¬¬1é¡¹ã€ç¬¬2é¡¹
              </div>
            </div>
          </div>

          <h3>37æ¡ä¹¦é¢çš„ç›®çš„</h3>
          <div class="purpose-grid">
            <div class="purpose-item">
              <div class="purpose-icon">ğŸ›¡ï¸</div>
              <div class="purpose-content">
                <h4>çº çº·é¢„é˜²</h4>
                <p>æ˜ç¡®è®°è½½åŒæ–¹åˆæ„å†…å®¹ï¼Œé˜²æ­¢äº‹åå› è®°å¿†ä¸æ¸…æˆ–ç†è§£å·®å¼‚äº§ç”Ÿçº çº·</p>
              </div>
            </div>
            <div class="purpose-item">
              <div class="purpose-icon">ğŸ“‹</div>
              <div class="purpose-content">
                <h4>äº¤æ˜“é€æ˜</h4>
                <p>ç¡®ä¿äº¤æ˜“æ¡ä»¶å…¬å¼€é€æ˜ï¼Œä¿æŠ¤æ¶ˆè´¹è€…æƒç›Š</p>
              </div>
            </div>
            <div class="purpose-item">
              <div class="purpose-icon">âš–ï¸</div>
              <div class="purpose-content">
                <h4>æ³•å¾‹å‡­è¯</h4>
                <p>ä½œä¸ºæ³•å¾‹ä¸Šçš„é‡è¦è¯æ®ï¼Œåœ¨çº çº·è§£å†³ä¸­å‘æŒ¥å…³é”®ä½œç”¨</p>
              </div>
            </div>
          </div>

          <h3>äº¤ä»˜æ—¶æœºè¦æ±‚</h3>
          <div class="timing-requirement">
            <div class="timing-card important">
              <div class="timing-icon">â°</div>
              <div class="timing-content">
                <h4>å¥‘ç´„æˆç«‹å¾Œé…æ»ãªã</h4>
                <p><strong>å¥‘çº¦æˆç«‹åå¿…é¡»ç«‹å³äº¤ä»˜</strong>ï¼Œä¸å¾—æœ‰ä¸åˆç†çš„å»¶è¿Ÿ</p>
                <div class="timing-note">å®åŠ¡ä¸­é€šå¸¸åœ¨å¥‘çº¦æˆç«‹å½“æ—¥æˆ–æ¬¡æ—¥äº¤ä»˜</div>
              </div>
            </div>
          </div>
        </section>

        <!-- æ³•å¾‹ä¾æ® -->
        <section id="legal-basis" class="content-section">
          <h2>2. æ³•å¾‹ä¾æ®ä¸å®åŠ¡è¦ç‚¹</h2>
          
          <h3>å®…å»ºä¸šæ³•ç¬¬37æ¡æ ¸å¿ƒå†…å®¹</h3>
          <div class="legal-content">
            <div class="law-article">
              <h4>ç¬¬37æ¡ç¬¬1é¡¹ï¼ˆä¹°å–ã€äº¤æ¢å¥‘çº¦ï¼‰</h4>
              <p>å®…å»ºä¸šè€…åœ¨å®…åœ°æˆ–å»ºç‰©çš„ä¹°å–ã€äº¤æ¢å¥‘çº¦ä¸­ï¼š</p>
              <ul>
                <li>è‡ªã‚‰å½“äº‹è€…ã¨ã—ã¦å¥‘ç´„ç· çµï¼šå‘å¯¹æ–¹äº¤ä»˜</li>
                <li>å½“äº‹è€…ã‚’ä»£ç†ã—ã¦å¥‘ç´„ç· çµï¼šå‘å¯¹æ–¹åŠå§”æ‰˜è€…äº¤ä»˜</li>
                <li>åª’ä»‹ã«ã‚ˆã‚Šå¥‘ç´„æˆç«‹ï¼šå‘å„å½“äº‹äººäº¤ä»˜</li>
              </ul>
            </div>
            <div class="law-article">
              <h4>ç¬¬37æ¡ç¬¬2é¡¹ï¼ˆå€Ÿè´·å¥‘çº¦ï¼‰</h4>
              <p>å®…å»ºä¸šè€…åœ¨å®…åœ°æˆ–å»ºç‰©çš„å€Ÿè´·å¥‘çº¦ä¸­ï¼š</p>
              <ul>
                <li>å½“äº‹è€…ã‚’ä»£ç†ã—ã¦å¥‘ç´„ç· çµï¼šå‘å¯¹æ–¹åŠå§”æ‰˜è€…äº¤ä»˜</li>
                <li>åª’ä»‹ã«ã‚ˆã‚Šå¥‘ç´„æˆç«‹ï¼šå‘å„å½“äº‹äººäº¤ä»˜</li>
              </ul>
            </div>
          </div>

          <h3>äº¤ä»˜å¯¹è±¡è¦æ±‚</h3>
          <div class="delivery-target">
            <div class="target-comparison">
              <div class="comparison-item">
                <h4>ğŸ“„ 37æ¡ä¹¦é¢äº¤ä»˜å¯¹è±¡</h4>
                <ul>
                  <li><strong>å¥‘çº¦åŒæ–¹å½“äº‹äºº</strong></li>
                  <li>ä¹°å–ï¼šå–ä¸»ä¸ä¹°ä¸»</li>
                  <li>äº¤æ¢ï¼šåŒæ–¹å½“äº‹è€…</li>
                  <li>å€Ÿè´·ï¼šè´·ä¸»ä¸å€Ÿä¸»</li>
                  <li>å¯¹æ–¹æ˜¯å®…å»ºä¸šè€…æ—¶<strong>åŒæ ·éœ€è¦äº¤ä»˜</strong></li>
                </ul>
              </div>
              <div class="comparison-item">
                <h4>ğŸ“‹ 35æ¡è¯´æ˜å¯¹è±¡</h4>
                <ul>
                  <li><strong>å¥‘çº¦çš„ä¸€æ–¹å½“äº‹äºº</strong></li>
                  <li>å–å¾—æˆ–å€Ÿå…¥å®…åœ°å»ºç‰©çš„ä¸€æ–¹</li>
                  <li>å¯¹æ–¹æ˜¯å®…å»ºä¸šè€…æ—¶<strong>ä¸éœ€è¦è¯´æ˜</strong></li>
                  <li>éœ€å®…å»ºå£«å½“é¢è¯´æ˜</li>
                </ul>
              </div>
            </div>
          </div>

          <h3>å¤šä¸ªä¸šè€…å‚ä¸çš„æƒ…å†µ</h3>
          <div class="multiple-agents">
            <div class="notice-box important">
              <strong>æ‰€æœ‰ç›¸å…³å®…å»ºä¸šè€…éƒ½æœ‰äº¤ä»˜ä¹‰åŠ¡</strong>
              <p>åŒä¸€äº¤æ˜“ä¸­æœ‰å¤šä¸ªå®…å»ºä¸šè€…å‚ä¸æ—¶ï¼Œ<strong>æ‰€æœ‰ç›¸å…³çš„å®…å»ºä¸šè€…</strong>éƒ½å¿…é¡»å±¥è¡Œ37æ¡ä¹¦é¢äº¤ä»˜ä¹‰åŠ¡</p>
              <div class="exception-note">
                <strong>ä¾‹å¤–ï¼š</strong>è‡ªã‚‰è²¸ä¸»ã¨ãªã‚‹å®…å»ºæ¥­è€…ã¯é™¤ãï¼ˆè‡ªå·±ä½œä¸ºè´·ä¸»çš„å®…å»ºä¸šè€…é™¤å¤–ï¼‰
              </div>
            </div>
          </div>
        </section>

        <!-- å¿…é¡»è®°è½½äº‹é¡¹ -->
        <section id="required-items" class="content-section">
          <h2>3. å¿…é¡»è®°è½½äº‹é¡¹ï¼ˆå¿…è¦çš„è¨˜è¼‰äº‹é …ï¼‰</h2>
          
          <div class="notice-box important">
            <strong>å¿…é¡»è®°è½½ï¼æ— è®ºå¥‘çº¦å†…å®¹å¦‚ä½•éƒ½å¿…é¡»è®°è½½</strong>
            <p>ä»¥ä¸‹äº‹é¡¹å³ä½¿å¥‘çº¦ä¸­æ²¡æœ‰çº¦å®šï¼Œæˆ–å¾—åˆ°åŒæ–¹åŒæ„ä¸è®°è½½ï¼Œä¹Ÿ<strong>å¿…é¡»è®°è½½</strong>åœ¨37æ¡ä¹¦é¢ä¸­</p>
          </div>

          <h3>ä¹°å–ã€äº¤æ¢å¥‘çº¦çš„å¿…é¡»è®°è½½äº‹é¡¹</h3>
          <div class="required-items-grid">
            <div class="required-item">
              <div class="item-number">A</div>
              <div class="item-content">
                <h4>å¥‘ç´„å½“äº‹è€…ã®æ°åãƒ»ä½æ‰€</h4>
                <p>å¥‘çº¦å½“äº‹äººçš„å§“åå’Œä½æ‰€</p>
                <div class="item-note">æ³•äººéœ€è®°è½½åç§°</div>
              </div>
            </div>
            <div class="required-item">
              <div class="item-number">B</div>
              <div class="item-content">
                <h4>ç‰©ä»¶ç‰¹å®šè¡¨ç¤º</h4>
                <p>å®…åœ°çš„æ‰€åœ¨ã€åœ°ç•ªç­‰ï¼›å»ºç‰©çš„æ‰€åœ¨ã€ç§ç±»ã€ç»“æ„ç­‰</p>
                <div class="item-note">è¶³ä»¥ç‰¹å®šç‰©ä»¶çš„å¿…è¦ä¿¡æ¯</div>
              </div>
            </div>
            <div class="required-item">
              <div class="item-number">C</div>
              <div class="item-content">
                <h4>æ—¢å­˜å»ºç‰©æ§‹é€ ç¢ºèªäº‹é …</h4>
                <p>æ—¢å­˜å»ºç‰©å…³äºæ„é€ è€åŠ›ä¸»è¦éƒ¨åˆ†ç­‰çŠ¶å†µçš„åŒæ–¹ç¡®è®¤äº‹é¡¹</p>
                <div class="item-note">ä»…é™æ—¢å­˜å»ºç‰©</div>
              </div>
            </div>
            <div class="required-item">
              <div class="item-number">D</div>
              <div class="item-content">
                <h4>ä»£é‡‘ãƒ»äº¤æ›å·®é‡‘</h4>
                <p>é‡‘é¢ã€æ”¯ä»˜æ—¶æœŸåŠæ”¯ä»˜æ–¹æ³•</p>
                <div class="item-note">å€Ÿè´·å¥‘çº¦ä¸éœ€è¦</div>
              </div>
            </div>
            <div class="required-item">
              <div class="item-number">E</div>
              <div class="item-content">
                <h4>å¼•æ¸¡æ™‚æœŸ</h4>
                <p>å®…åœ°æˆ–å»ºç‰©çš„äº¤ä»˜æ—¶æœŸ</p>
                <div class="item-note">æ‰€æœ‰å¥‘çº¦ç±»å‹éƒ½éœ€è¦</div>
              </div>
            </div>
            <div class="required-item">
              <div class="item-number">F</div>
              <div class="item-content">
                <h4>ç§»è»¢ç™»è¨˜ç”³è«‹æ™‚æœŸ</h4>
                <p>æ‰€æœ‰æƒè½¬ç§»ç™»è®°çš„ç”³è¯·æ—¶æœŸ</p>
                <div class="item-note">å€Ÿè´·å¥‘çº¦ä¸éœ€è¦</div>
              </div>
            </div>
          </div>

          <h3>å€Ÿè´·å¥‘çº¦çš„å¿…é¡»è®°è½½äº‹é¡¹</h3>
          <div class="rental-required">
            <div class="table-container">
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>äº‹é¡¹</th>
                    <th>ä¹°å–ãƒ»äº¤æ¢</th>
                    <th>å€Ÿè´·</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>å½“äº‹äººå§“åä½æ‰€</td>
                    <td>âœ… å¿…é¡»</td>
                    <td>âœ… å¿…é¡»</td>
                  </tr>
                  <tr>
                    <td>ç‰©ä»¶ç‰¹å®šè¡¨ç¤º</td>
                    <td>âœ… å¿…é¡»</td>
                    <td>âœ… å¿…é¡»</td>
                  </tr>
                  <tr>
                    <td>ä»£é‡‘/äº¤æ¢å·®é‡‘</td>
                    <td>âœ… å¿…é¡»</td>
                    <td>âŒ ä¸éœ€è¦</td>
                  </tr>
                  <tr>
                    <td>å€Ÿè´·é‡‘é¢</td>
                    <td>âŒ ä¸éœ€è¦</td>
                    <td>âœ… å¿…é¡»</td>
                  </tr>
                  <tr>
                    <td>äº¤ä»˜æ—¶æœŸ</td>
                    <td>âœ… å¿…é¡»</td>
                    <td>âœ… å¿…é¡»</td>
                  </tr>
                  <tr>
                    <td>ç™»è®°ç”³è¯·æ—¶æœŸ</td>
                    <td>âœ… å¿…é¡»</td>
                    <td>âŒ ä¸éœ€è¦</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- ä»»æ„è®°è½½äº‹é¡¹ -->
        <section id="optional-items" class="content-section">
          <h2>4. ä»»æ„è®°è½½äº‹é¡¹ï¼ˆä»»æ„çš„è¨˜è¼‰äº‹é …ï¼‰</h2>
          
          <div class="notice-box">
            <strong>æœ‰çº¦å®šæ‰è®°è½½ï¼Œæ— çº¦å®šä¸è®°è½½</strong>
            <p>ä»¥ä¸‹äº‹é¡¹åªæœ‰åœ¨å¥‘çº¦ä¸­æœ‰ç›¸å…³çº¦å®šæ—¶æ‰éœ€è¦è®°è½½ï¼Œæ²¡æœ‰çº¦å®šåˆ™æ— éœ€è®°è½½</p>
          </div>

          <h3>ä¹°å–ã€äº¤æ¢å¥‘çº¦çš„ä»»æ„è®°è½½äº‹é¡¹</h3>
          <div class="optional-items-grid">
            <div class="optional-category">
              <h4>ğŸ’° é‡‘é’±ç›¸å…³äº‹é¡¹</h4>
              <ul>
                <li><strong>ä»£é‡‘åŠäº¤æ¢å·®é‡‘ä»¥å¤–é‡‘é’±</strong>ï¼šé‡‘é¢ã€æˆå—æ—¶æœŸåŠç›®çš„</li>
                <li><strong>è´·æ¬¾æ–¡æ—‹</strong>ï¼šä»£é‡‘ãƒ»äº¤æ¢å·®é‡‘ç›¸å…³è´·æ¬¾æ–¡æ—‹å†…å®¹åŠä¸æˆç«‹æ—¶çš„æªæ–½</li>
              </ul>
            </div>
            <div class="optional-category">
              <h4>âš–ï¸ æ³•å¾‹æ¡æ¬¾ç›¸å…³</h4>
              <ul>
                <li><strong>å¥‘çº¦è§£é™¤</strong>ï¼šç›¸å…³çº¦å®šçš„å†…å®¹</li>
                <li><strong>æŸå®³èµ”å¿é¢é¢„å®šæˆ–è¿çº¦é‡‘</strong>ï¼šç›¸å…³çº¦å®šçš„å†…å®¹</li>
                <li><strong>å±é™©è´Ÿæ‹…</strong>ï¼šå¤©ç¾ç­‰ä¸å¯æŠ—åŠ›é€ æˆæŸå®³è´Ÿæ‹…çš„çº¦å®š</li>
              </ul>
            </div>
            <div class="optional-category">
              <h4>ğŸ  ç‰©ä»¶è´£ä»»ç›¸å…³</h4>
              <ul>
                <li><strong>å¥‘çº¦ä¸é©åˆæ‹…ä¿è²¬ä»»</strong>ï¼šç§ç±»å“è´¨ä¸é€‚åˆæ—¶çš„è´£ä»»å†…å®¹</li>
                <li><strong>ä¿è¯ä¿é™©å¥‘çº¦</strong>ï¼šè´£ä»»å±¥è¡Œç›¸å…³çš„ä¿è¯ä¿é™©å¥‘çº¦ç­‰æªæ–½</li>
                <li><strong>ç§Ÿç¨å…¬è¯¾è´Ÿæ‹…</strong>ï¼šå®…åœ°å»ºç‰©ç›¸å…³ç§Ÿç¨åŠå…¶ä»–å…¬è¯¾è´Ÿæ‹…çš„çº¦å®š</li>
              </ul>
            </div>
          </div>

          <h3>å€Ÿè´·å¥‘çº¦çš„ç‰¹æ®Šè§„åˆ™</h3>
          <div class="rental-special">
            <div class="special-rule">
              <h4>ğŸš« å€Ÿè´·å¥‘çº¦ä¸­æ— éœ€è®°è½½çš„äº‹é¡¹</h4>
              <p>å³ä½¿å¥‘çº¦ä¸­æœ‰ä»¥ä¸‹çº¦å®šï¼Œåœ¨å€Ÿè´·å¥‘çº¦çš„37æ¡ä¹¦é¢ä¸­ä¹Ÿ<strong>æ— éœ€è®°è½½</strong>ï¼š</p>
              <ul>
                <li>ä»£é‡‘ãƒ»äº¤æ¢å·®é‡‘ç›¸å…³è´·æ¬¾æ–¡æ—‹çš„çº¦å®š</li>
                <li>å¥‘çº¦ä¸é©åˆæ‹…ä¿è²¬ä»»çš„çº¦å®š</li>
                <li>ç§Ÿç¨å…¬è¯¾è´Ÿæ‹…çš„çº¦å®š</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- 35æ¡ä¸37æ¡æ¯”è¾ƒ -->
        <section id="comparison" class="content-section">
          <h2>5. 35æ¡ä¹¦é¢ vs 37æ¡ä¹¦é¢</h2>
          
          <h3>æ ¸å¿ƒå·®å¼‚å¯¹æ¯”</h3>
          <div class="comparison-table-large">
            <table class="comparison-table">
              <thead>
                <tr>
                  <th>æ¯”è¾ƒé¡¹ç›®</th>
                  <th>35æ¡ä¹¦é¢ï¼ˆé‡è¦äº‹é¡¹è¯´æ˜ï¼‰</th>
                  <th>37æ¡ä¹¦é¢ï¼ˆå¥‘çº¦ä¹¦ï¼‰</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>äº¤ä»˜æ—¶æœº</strong></td>
                  <td>å¥‘ç´„æˆç«‹å‰</td>
                  <td>å¥‘ç´„æˆç«‹å¾Œé…æ»ãªã</td>
                </tr>
                <tr>
                  <td><strong>äº¤ä»˜å¯¹è±¡</strong></td>
                  <td>å–å¾—/å€Ÿå…¥çš„ä¸€æ–¹</td>
                  <td>å¥‘çº¦åŒæ–¹å½“äº‹äºº</td>
                </tr>
                <tr>
                  <td><strong>å®…å»ºå£«è¦æ±‚</strong></td>
                  <td>å¿…é¡»å½“é¢è¯´æ˜ + è®°å</td>
                  <td>åªéœ€è®°åï¼Œæ— éœ€è¯´æ˜</td>
                </tr>
                <tr>
                  <td><strong>å†…å®¹æ€§è´¨</strong></td>
                  <td>äº‹å®ä¿¡æ¯è¯´æ˜</td>
                  <td>åŒæ–¹åˆæ„å†…å®¹è®°è½½</td>
                </tr>
                <tr>
                  <td><strong>å¯¹æ–¹æ˜¯ä¸šè€…æ—¶</strong></td>
                  <td>ä¸éœ€è¦è¯´æ˜</td>
                  <td>éœ€è¦äº¤ä»˜</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3>å…·ä½“äº‹é¡¹è®°è½½å¯¹æ¯”</h3>
          <div class="detailed-comparison">
            <div class="table-container">
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>è®°è½½äº‹é¡¹</th>
                    <th>35æ¡ä¹¦é¢</th>
                    <th>37æ¡ä¹¦é¢</th>
                    <th>å¤‡æ³¨</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>æ—¢å­˜å»ºç‰©æ§‹é€ ç¢ºèªäº‹é …</td>
                    <td>âœ…</td>
                    <td>âœ…</td>
                    <td>åŒæ–¹éƒ½å¿…é¡»è®°è½½</td>
                  </tr>
                  <tr>
                    <td>ä»£é‡‘/äº¤æ¢å·®é‡‘/å€Ÿè´·</td>
                    <td>âŒ</td>
                    <td>âœ…</td>
                    <td>37æ¡å¿…é¡»è®°è½½</td>
                  </tr>
                  <tr>
                    <td>å¼•æ¸¡æ™‚æœŸ</td>
                    <td>âŒ</td>
                    <td>âœ…</td>
                    <td>37æ¡å¿…é¡»è®°è½½</td>
                  </tr>
                  <tr>
                    <td>ç§»è»¢ç™»è¨˜ç”³è«‹æ™‚æœŸ</td>
                    <td>âŒ</td>
                    <td>âœ…â˜…</td>
                    <td>â˜…å€Ÿè´·ä¸è¦</td>
                  </tr>
                  <tr>
                    <td>å±é™©è´Ÿæ‹…ï¼ˆå¤©ç¾ç­‰ï¼‰</td>
                    <td>âŒ</td>
                    <td>â–²</td>
                    <td>æœ‰çº¦å®šåˆ™è®°è½½</td>
                  </tr>
                  <tr>
                    <td>å¥‘çº¦ä¸é©åˆæ‹…ä¿è²¬ä»»</td>
                    <td>âŒ</td>
                    <td>â–²â˜…</td>
                    <td>â˜…å€Ÿè´·ä¸è¦</td>
                  </tr>
                  <tr>
                    <td>ç§Ÿç¨å…¬è¯¾è´Ÿæ‹…</td>
                    <td>âŒ</td>
                    <td>â–²â˜…</td>
                    <td>â˜…å€Ÿè´·ä¸è¦</td>
                  </tr>
                  <tr>
                    <td>å¥‘çº¦è§£é™¤</td>
                    <td>âœ…</td>
                    <td>â–²</td>
                    <td>35æ¡è¯´æ˜ï¼Œ37æ¡æœ‰çº¦å®šåˆ™è®°è½½</td>
                  </tr>
                  <tr>
                    <td>æŸå®³èµ”å¿/è¿çº¦é‡‘</td>
                    <td>âœ…</td>
                    <td>â–²</td>
                    <td>35æ¡è¯´æ˜ï¼Œ37æ¡æœ‰çº¦å®šåˆ™è®°è½½</td>
                  </tr>
                  <tr>
                    <td>ä»£é‡‘ä»¥å¤–é‡‘é’±</td>
                    <td>âœ…â€»</td>
                    <td>â–²</td>
                    <td>â€»35æ¡ä¸è¯´æ˜æ—¶æœŸ</td>
                  </tr>
                  <tr>
                    <td>è´·æ¬¾æ–¡æ—‹ä¸æˆç«‹æªæ–½</td>
                    <td>âœ…â˜…</td>
                    <td>â–²â˜…</td>
                    <td>â˜…ä¹°å–äº¤æ¢ã®ã¿</td>
                  </tr>
                  <tr>
                    <td>ä¿è¯ä¿é™©å¥‘çº¦ç­‰æªæ–½</td>
                    <td>âœ…â˜…</td>
                    <td>â–²â˜…</td>
                    <td>â˜…ä¹°å–äº¤æ¢ã®ã¿</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="table-legend">
              <p><strong>å›¾ä¾‹ï¼š</strong> âœ…å¿…é¡» âœ•ä¸è¦ â–²æœ‰çº¦å®šåˆ™è®°è½½ â˜…ä»…ä¹°å–äº¤æ¢ï¼ˆå€Ÿè´·ä¸è¦ï¼‰</p>
            </div>
          </div>
        </section>

        <!-- å®åŠ¡è¦ç‚¹ -->
        <section id="practical-points" class="content-section">
          <h2>6. å®åŠ¡è¦ç‚¹ä¸æ³¨æ„äº‹é¡¹</h2>
          
          <h3>äº¤ä»˜æ–¹å¼ä¸æŠ€æœ¯è¦æ±‚</h3>
          <div class="delivery-methods">
            <div class="method-item">
              <h4>ğŸ“„ ä¼ ç»Ÿçº¸è´¨äº¤ä»˜</h4>
              <ul>
                <li>å®…å»ºå£«<strong>å¿…é¡»è®°å</strong></li>
                <li>äº¤ä»˜äºº<strong>ä¸é™äºå®…å»ºå£«</strong>ï¼Œå…¶ä»–ä»ä¸šè€…ä¹Ÿå¯äº¤ä»˜</li>
                <li>äº¤ä»˜åœºæ‰€<strong>æ²¡æœ‰é™åˆ¶</strong></li>
              </ul>
            </div>
            <div class="method-item">
              <h4>ğŸ’» ç”µç£æ–¹æ³•äº¤ä»˜</h4>
              <ul>
                <li>ç»<strong>åŒæ–¹å½“äº‹äººåŒæ„</strong>å¯ä½¿ç”¨ç”µç£æ–¹æ³•</li>
                <li>éœ€é‡‡å–<strong>æ›¿ä»£è®°åçš„ç›¸åº”æªæ–½</strong></li>
                <li>è§†ä¸ºä¸ä¼ ç»Ÿäº¤ä»˜<strong>åŒç­‰æ•ˆåŠ›</strong></li>
              </ul>
            </div>
          </div>

          <h3>å®…å»ºå£«çš„è®°åè¦æ±‚</h3>
          <div class="signature-requirements">
            <div class="requirement-grid">
              <div class="req-item">
                <h4>âœï¸ 37æ¡ä¹¦é¢è®°å</h4>
                <ul>
                  <li>å®…å»ºä¸šè€…<strong>å¿…é¡»è®©å®…å»ºå£«è®°å</strong></li>
                  <li>è®°åä½ç½®åœ¨ä¹¦é¢é€‚å½“ä½ç½®</li>
                  <li>ç”µç£æ–¹æ³•äº¤ä»˜æ—¶éœ€æœ‰æ›¿ä»£æªæ–½</li>
                </ul>
              </div>
              <div class="req-item">
                <h4>ğŸ” ä¸35æ¡è®°ååŒºåˆ«</h4>
                <ul>
                  <li>35æ¡ï¼šè¯´æ˜<strong>å‰</strong>è®°å + è¯´æ˜</li>
                  <li>37æ¡ï¼šäº¤ä»˜<strong>å‰</strong>è®°åï¼ˆæ— éœ€è¯´æ˜ï¼‰</li>
                  <li>ä¸¤ä»½ä¹¦é¢éƒ½éœ€å®…å»ºå£«è®°å</li>
                </ul>
              </div>
            </div>
          </div>

          <h3>é‡è¦å®åŠ¡æ³¨æ„äº‹é¡¹</h3>
          <div class="practical-notes">
            <div class="note-item important">
              <h4>ğŸš¨ ç‰¹åˆ«æ³¨æ„</h4>
              <ul>
                <li>37æ¡ä¹¦é¢<strong>ä¸éœ€è¦è¯´æ˜</strong>ï¼Œåªéœ€äº¤ä»˜</li>
                <li>å†…å®¹ä»¥<strong>åŒæ–¹åˆæ„äº‹é¡¹</strong>ä¸ºä¸­å¿ƒè®°è½½</li>
                <li>ç‰¹çº¦äº‹é¡¹<strong>åŸåˆ™ä¸Šéƒ½éœ€è¦è®°è½½</strong></li>
                <li>äº¤ä»˜è¿Ÿå»¶å¯èƒ½è¿åå®…å»ºä¸šæ³•</li>
              </ul>
            </div>
            <div class="note-item">
              <h4>ğŸ’¡ å®åŠ¡æŠ€å·§</h4>
              <ul>
                <li>å‡†å¤‡æ ‡å‡†åŒ–çš„37æ¡ä¹¦é¢æ¨¡æ¿</li>
                <li>ç¡®ä¿æ‰€æœ‰å¿…é¡»è®°è½½äº‹é¡¹å®Œæ•´</li>
                <li>ç‰¹çº¦äº‹é¡¹è¦æ˜ç¡®å…·ä½“åœ°è®°è½½</li>
                <li>äº¤ä»˜åè¯·å¯¹æ–¹ç­¾æ”¶ç¡®è®¤</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=37document" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=37document" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=business" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›å®…å»ºä¸šæ³•
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concept', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“' },
  { id: 'legal-basis', title: 'æ³•å¾‹ä¾æ®', icon: 'âš–ï¸' },
  { id: 'required-items', title: 'å¿…é¡»è®°è½½äº‹é¡¹', icon: 'ğŸ“‹' },
  { id: 'optional-items', title: 'ä»»æ„è®°è½½äº‹é¡¹', icon: 'ğŸ“„' },
  { id: 'comparison', title: '35æ¡vs37æ¡', icon: 'ğŸ”„' },
  { id: 'practical-points', title: 'å®åŠ¡è¦ç‚¹', icon: 'ğŸ’¡' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'å®…åœ°å»ºç‰©å–å¼•æ¥­è€…ï¼¡ãŒè¡Œã†åª’ä»‹æ¥­å‹™ã«é–¢ã—ã€ï¼¡ãŒå»ºç‰©ã®å£²è²·å¥‘ç´„ã‚’æˆç«‹ã•ã›ãŸå ´åˆã«ãŠã„ã¦ã€å¤©ç½ãã®ä»–ä¸å¯æŠ—åŠ›ã«ã‚ˆã‚‹æå®³ã®è² æ‹…ã«é–¢ã™ã‚‹å®šã‚ãŒã‚ã‚‹ã¨ãã¯ã€é‡è¦äº‹é …èª¬æ˜æ›¸ã«ãã®æ—¨è¨˜è¼‰ã—ã¦ã„ãŸã¨ã—ã¦ã‚‚ã€ãã®å†…å®¹ã‚’37æ¡æ›¸é¢ã«è¨˜è¼‰ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'æ­£ç¡®ã€‚å±é™©è´Ÿæ‹…ï¼ˆå¤©ç¾ç­‰ä¸å¯æŠ—åŠ›ï¼‰å±äºä»»æ„è®°è½½äº‹é¡¹ï¼Œå¥‘çº¦ä¸­æœ‰ç›¸å…³çº¦å®šæ—¶å¿…é¡»åœ¨37æ¡ä¹¦é¢ä¸­è®°è½½ã€‚'
  },
  {
    question: '37æ¡æ›¸é¢ã®äº¤ä»˜ã¯ã€å®…åœ°å»ºç‰©å–å¼•å£«ãŒè‡ªã‚‰è¡Œã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'é”™è¯¯ã€‚37æ¡ä¹¦é¢çš„äº¤ä»˜ä¸é™äºå®…å»ºå£«ï¼Œå…¶ä»–ä»ä¸šè€…ä¹Ÿå¯äº¤ä»˜ï¼Œä½†ä¹¦é¢å¿…é¡»ç”±å®…å»ºå£«è®°åã€‚'
  },
  {
    question: 'å®…åœ°å»ºç‰©å–å¼•æ¥­è€…ã¯ã€å®…åœ°ã®è²¸å€Ÿã®åª’ä»‹ã«ã‚ˆã‚Šå¥‘ç´„ãŒæˆç«‹ã—ãŸå ´åˆã€å€Ÿä¸»ã«å¯¾ã—ã¦ã®ã¿37æ¡æ›¸é¢ã‚’äº¤ä»˜ã™ã‚Œã°ã‚ˆã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'é”™è¯¯ã€‚37æ¡ä¹¦é¢å¿…é¡»å‘å¥‘çº¦åŒæ–¹å½“äº‹äººäº¤ä»˜ï¼Œå€Ÿè´·å¥‘çº¦ä¸­éœ€å‘è´·ä¸»å’Œå€Ÿä¸»åŒæ–¹äº¤ä»˜ã€‚'
  },
  {
    question: '37æ¡æ›¸é¢ã«ã¯ã€å¥‘ç´„ã®è§£é™¤ã«é–¢ã™ã‚‹å®šã‚ãŒã‚ã‚‹å ´åˆã€ãã®å†…å®¹ã‚’è¨˜è¼‰ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'æ­£ç¡®ã€‚å¥‘çº¦è§£é™¤å±äºä»»æ„è®°è½½äº‹é¡¹ï¼Œå¥‘çº¦ä¸­æœ‰ç›¸å…³çº¦å®šæ—¶å¿…é¡»åœ¨37æ¡ä¹¦é¢ä¸­è®°è½½ã€‚'
  },
  {
    question: 'å®…åœ°å»ºç‰©å–å¼•æ¥­è€…ãŒè‡ªã‚‰å£²ä¸»ã¨ãªã‚‹å®…åœ°ã®å£²è²·å¥‘ç´„ã«ãŠã„ã¦ã€ä»£é‡‘ã®æ”¯æ‰•æ–¹æ³•ã«ã¤ã„ã¦ç‰¹æ®µã®å®šã‚ãŒãªã„å ´åˆã§ã‚‚ã€37æ¡æ›¸é¢ã«ä»£é‡‘ã®æ”¯æ‰•æ–¹æ³•ã‚’è¨˜è¼‰ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'æ­£ç¡®ã€‚ä»£é‡‘çš„æ”¯ä»˜æ—¶æœŸåŠæ–¹æ³•æ˜¯å¿…é¡»è®°è½½äº‹é¡¹ï¼Œæ— è®ºå¥‘çº¦ä¸­æœ‰æ— ç‰¹æ®Šçº¦å®šéƒ½å¿…é¡»è®°è½½ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('37document', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('37document')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('37document')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('37document', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.document37-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-definition {
  margin: 2rem 0;
}

.definition-card {
  padding: 1.5rem;
  background: #f0f7ff;
  border-radius: 12px;
  border-left: 4px solid #2a7960;
}

.definition-card h3 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.definition-card p {
  margin: 0 0 1rem 0;
  line-height: 1.6;
}

.legal-basis {
  padding: 0.75rem;
  background: white;
  border-radius: 5px;
  font-size: 0.875rem;
  border: 1px solid #e9ecef;
}

.purpose-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.purpose-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.purpose-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.purpose-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.purpose-content p {
  margin: 0;
  color: #6c757d;
  font-size: 0.875rem;
}

.timing-requirement {
  margin: 2rem 0;
}

.timing-card {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  border-radius: 12px;
}

.timing-card.important {
  background: #fff9e6;
  border: 1px solid #ffcc00;
}

.timing-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.timing-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timing-content p {
  margin: 0 0 0.5rem 0;
}

.timing-note {
  font-size: 0.75rem;
  color: #6c757d;
}

/* ========= æ³•å¾‹ä¾æ®æ ·å¼ ========= */
.legal-content {
  margin: 2rem 0;
}

.law-article {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
  margin-bottom: 1.5rem;
}

.law-article h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.law-article p {
  margin: 0 0 1rem 0;
}

.law-article ul {
  padding-left: 1.25rem;
  margin: 0;
}

.law-article li {
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  line-height: 1.5;
}

.delivery-target {
  margin: 2rem 0;
}

.target-comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
}

.comparison-item {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.comparison-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.comparison-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.comparison-item li {
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  line-height: 1.5;
}

.multiple-agents {
  margin: 2rem 0;
}

.notice-box {
  padding: 1.5rem;
  border-radius: 12px;
  margin-bottom: 1rem;
}

.notice-box.important {
  background: #ffe7e7;
  border: 1px solid #dc3545;
}

.notice-box strong {
  color: #c62828;
}

.exception-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: white;
  border-radius: 5px;
  font-size: 0.875rem;
}

/* ========= å¿…é¡»è®°è½½äº‹é¡¹æ ·å¼ ========= */
.required-items-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.required-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.item-number {
  width: 30px;
  height: 30px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  flex-shrink: 0;
}

.item-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.item-content p {
  margin: 0 0 0.5rem 0;
  font-size: 0.875rem;
}

.item-note {
  font-size: 0.75rem;
  color: #6c757d;
}

.rental-required {
  margin: 2rem 0;
}

/* ========= è¡¨æ ¼æ ·å¼ ========= */
.table-container {
  overflow-x: auto;
  margin: 1.5rem 0;
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.comparison-table th, .comparison-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: left;
}

.comparison-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
  text-align: center;
}

.comparison-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.comparison-table tr:hover {
  background-color: #e9ecef;
}

.table-legend {
  margin-top: 1rem;
  text-align: center;
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä»»æ„è®°è½½äº‹é¡¹æ ·å¼ ========= */
.optional-items-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.optional-category {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.optional-category h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.optional-category ul {
  padding-left: 1.25rem;
  margin: 0;
}

.optional-category li {
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  line-height: 1.5;
}

.rental-special {
  margin: 2rem 0;
}

.special-rule {
  padding: 1.5rem;
  background: #fff9e6;
  border-radius: 12px;
  border: 1px solid #ffcc00;
}

.special-rule h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.special-rule p {
  margin: 0 0 1rem 0;
}

.special-rule ul {
  padding-left: 1.25rem;
  margin: 0;
}

.special-rule li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= æ¯”è¾ƒè¡¨æ ¼æ ·å¼ ========= */
.comparison-table-large {
  margin: 2rem 0;
}

.detailed-comparison {
  margin: 2rem 0;
}

/* ========= å®åŠ¡è¦ç‚¹æ ·å¼ ========= */
.delivery-methods {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.method-item {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.method-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.method-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.method-item li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.signature-requirements {
  margin: 2rem 0;
}

.requirement-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
}

.req-item {
  padding: 1.5rem;
  background: white;
  border-radius: 12px;
  border: 1px solid #e9ecef;
}

.req-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.req-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.req-item li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.practical-notes {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.note-item {
  padding: 1.5rem;
  border-radius: 12px;
}

.note-item.important {
  background: #ffe7e7;
  border: 1px solid #dc3545;
}

.note-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.note-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.note-item li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .purpose-grid {
    grid-template-columns: 1fr;
  }
  
  .target-comparison {
    grid-template-columns: 1fr;
  }
  
  .required-items-grid {
    grid-template-columns: 1fr;
  }
  
  .optional-items-grid {
    grid-template-columns: 1fr;
  }
  
  .delivery-methods {
    grid-template-columns: 1fr;
  }
  
  .requirement-grid {
    grid-template-columns: 1fr;
  }
  
  .practical-notes {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
}
</style>