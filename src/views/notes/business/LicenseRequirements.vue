<!-- src/views/notes/yefa/LicenseRequirements.vue -->
<template>
  <div class="license-requirements">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=business">å®…å»ºä¸šæ³•</router-link> &gt; 
          <span>å…è®¸åˆ¶åº¦</span>
        </div>
        <h1>å…è®¸åˆ¶åº¦</h1>
        <p>å®…å»ºä¸šæ³•ä¸­å…³äºå…è®¸ç§ç±»ã€ç”³è¯·æ¡ä»¶ã€æ¬ æ ¼äº‹ç”±åŠ2025å¹´æœ€æ–°æ³•æ”¹æ­£çš„å®Œæ•´è§£æ</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">16</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">40åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ“š å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£å®…å»ºä¸šå…è®¸çš„ç§ç±»ã€ç”³è¯·æ¡ä»¶å’Œæ•ˆåŠ›èŒƒå›´</li>
            <li>æŒæ¡å…è®¸æƒè€…çš„åŒºåˆ†æ ‡å‡†åŠç”³è¯·æµç¨‹ï¼ˆå«2025å¹´æ³•æ”¹æ­£ï¼‰</li>
            <li>ç†Ÿæ‚‰å…è®¸çš„æ¬ æ ¼äº‹ç”±å’Œæ›´æ–°è¦æ±‚</li>
            <li>äº†è§£å…è®¸å–æ¶ˆã€è¿”çº³å’Œæ›´æ¢çš„å…·ä½“è§„å®š</li>
            <li>èƒ½å¤ŸåŒºåˆ†éœ€è¦å…è®¸å’Œä¸éœ€è¦å…è®¸çš„ç‰¹æ®Šæƒ…å†µ</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ§‘â€âš–ï¸ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- å…è®¸çš„ç§ç±»ä¸ç”³è¯·æƒè€… -->
        <section id="license-types" class="content-section">
          <h2>1. å…è®¸çš„ç§ç±»ä¸ç”³è¯·æƒè€…</h2>
          
          <h3>å…è®¸çš„ä¸¤ç§ç±»å‹</h3>
          <div class="license-types-diagram">
            <div class="license-type">
              <div class="type-header">å›½åœŸäº¤é€šå¤§è‡£å…è®¸</div>
              <div class="type-content">
                <div class="type-condition">2ä¸ªä»¥ä¸Šéƒ½é“åºœå¿è®¾ç½®äº‹åŠ¡æ‰€æ—¶</div>
                <div class="type-authority">é¢å‘æœºå…³ï¼šå›½åœŸäº¤é€šå¤§è‡£</div>
              </div>
            </div>
            <div class="license-type">
              <div class="type-header">éƒ½é“åºœå¿çŸ¥äº‹å…è®¸</div>
              <div class="type-content">
                <div class="type-condition">ä»…åœ¨1ä¸ªéƒ½é“åºœå¿å†…è®¾ç½®äº‹åŠ¡æ‰€æ—¶</div>
                <div class="type-authority">é¢å‘æœºå…³ï¼šéƒ½é“åºœå¿çŸ¥äº‹</div>
              </div>
            </div>
          </div>

          <h3>åˆ¤æ–­æ ‡å‡†ä¸å®åŠ¡æ¡ˆä¾‹</h3>
          <div class="table-container">
            <table class="comparison-table">
              <thead>
                <tr>
                  <th>æ¡ˆä¾‹åœºæ™¯</th>
                  <th>äº‹åŠ¡æ‰€åˆ†å¸ƒ</th>
                  <th>å…è®¸ç§ç±»</th>
                  <th>åˆ¤æ–­ç†ç”±</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>æ¡ˆä¾‹1</strong></td>
                  <td>ä¸œäº¬1ä¸ªäº‹åŠ¡æ‰€</td>
                  <td class="required">ä¸œäº¬éƒ½çŸ¥äº‹å…è®¸</td>
                  <td>ä»…åœ¨1ä¸ªéƒ½é“åºœå¿å†…</td>
                </tr>
                <tr>
                  <td><strong>æ¡ˆä¾‹2</strong></td>
                  <td>ä¸œäº¬å’Œå¤§é˜ªå„1ä¸ªäº‹åŠ¡æ‰€</td>
                  <td class="required">å›½åœŸäº¤é€šå¤§è‡£å…è®¸</td>
                  <td>è·¨2ä¸ªéƒ½é“åºœå¿</td>
                </tr>
                <tr>
                  <td><strong>æ¡ˆä¾‹3</strong></td>
                  <td>ä¸œäº¬æœ¬åº—ï¼ˆå»ºè®¾ä¸šï¼‰+ å¤§é˜ªæ”¯åº—ï¼ˆå®…å»ºä¸šï¼‰</td>
                  <td class="required">å›½åœŸäº¤é€šå¤§è‡£å…è®¸</td>
                  <td>æœ¬åº—æ— è®ºä¸šåŠ¡å†…å®¹éƒ½è®¡å…¥äº‹åŠ¡æ‰€æ•°é‡</td>
                </tr>
                <tr>
                  <td><strong>æ¡ˆä¾‹4</strong></td>
                  <td>ä¸œäº¬æœ¬åº—ï¼ˆå®…å»ºä¸šï¼‰+ å¤§é˜ªæ”¯åº—ï¼ˆç¾å®¹ä¸šï¼‰</td>
                  <td class="required">ä¸œäº¬éƒ½çŸ¥äº‹å…è®¸</td>
                  <td>æ”¯åº—åªæœ‰ä»äº‹å®…å»ºä¸šæ—¶æ‰è®¡å…¥</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="highlight-box">
            <strong>é‡è¦åŸåˆ™ï¼š</strong>
            <ul>
              <li>ä»…æ ¹æ®<strong>äº‹åŠ¡æ‰€æ‰€åœ¨åœ°</strong>åˆ¤æ–­ï¼Œä¸è€ƒè™‘ä¸šåŠ¡å†…å®¹</li>
              <li><strong>æœ¬åº—</strong>æ— è®ºæ˜¯å¦ä»äº‹å®…å»ºä¸šéƒ½è®¡å…¥äº‹åŠ¡æ‰€æ•°é‡</li>
              <li><strong>æ”¯åº—</strong>åªæœ‰ä»äº‹å®…å»ºä¸šæ—¶æ‰è®¡å…¥äº‹åŠ¡æ‰€æ•°é‡</li>
            </ul>
          </div>
        </section>

        <!-- å…è®¸çš„ç”³è¯·æµç¨‹ï¼ˆ2025å¹´æ³•æ”¹æ­£ï¼‰ -->
        <section id="application-process" class="content-section">
          <h2>2. å…è®¸çš„ç”³è¯·æµç¨‹ï¼ˆ2025å¹´æ³•æ”¹æ­£ï¼‰</h2>
          
          <h3>ç”³è¯·æ–¹å¼å¯¹æ¯”</h3>
          <div class="reform-comparison">
            <div class="reform-before">
              <h4>æ”¹æ­£å‰</h4>
              <div class="process-flow">
                <div class="process-step">ç”³è¯·è€…</div>
                <div class="process-arrow">â†’</div>
                <div class="process-step">éƒ½é“åºœå¿çŸ¥äº‹ï¼ˆç»ç”±ï¼‰</div>
                <div class="process-arrow">â†’</div>
                <div class="process-step">å›½åœŸäº¤é€šå¤§è‡£</div>
              </div>
            </div>
            <div class="reform-after">
              <h4>æ”¹æ­£åï¼ˆ2025å¹´ï¼‰</h4>
              <div class="process-flow">
                <div class="process-step">ç”³è¯·è€…</div>
                <div class="process-arrow">â†’</div>
                <div class="process-step highlight-step">ç›´æ¥ç”³è¯·</div>
                <div class="process-arrow">â†’</div>
                <div class="process-step">å›½åœŸäº¤é€šå¤§è‡£ï¼ˆåœ°æ–¹æ•´å¤‡å±€ï¼‰</div>
              </div>
            </div>
          </div>

          <div class="highlight-box">
            <strong>2025å¹´æ³•æ”¹æ­£è¦ç‚¹ï¼š</strong>
            <ul>
              <li>å›½åœŸäº¤é€šå¤§è‡£å…è®¸ç”³è¯·<strong>ä¸å†ç»ç”±éƒ½é“åºœå¿çŸ¥äº‹</strong></li>
              <li>æ”¹ä¸º<strong>ç›´æ¥å‘åœ°æ–¹æ•´å¤‡å±€</strong>ç”³è¯·[citation:1][citation:7]</li>
              <li>æ”¯æŒ<strong>åœ¨çº¿ç”³è¯·ï¼ˆeMLITç³»ç»Ÿï¼‰</strong>[citation:7]</li>
              <li>æ‰‹ç»­ç®€åŒ–ï¼Œå¤„ç†æ•ˆç‡æé«˜</li>
            </ul>
          </div>

          <h3>ç”³è¯·ä¹¦è®°è½½äº‹é¡¹</h3>
          <ul>
            <li><strong>å¿…é¡»è®°è½½</strong>ï¼šæ³•äººå½¹å‘˜å§“åï¼ˆåŒ…æ‹¬éå¸¸å‹¤å½¹å‘˜ï¼‰ã€æ”¿ä»¤ä½¿ç”¨äººå§“å</li>
            <li><strong>ä¸éœ€è¦è®°è½½</strong>ï¼šå½¹å‘˜å’Œæ”¿ä»¤ä½¿ç”¨äººçš„ä½æ‰€</li>
            <li><strong>æ·»ä»˜ä¹¦ç±»ç®€åŒ–</strong>ï¼šä¸“ä»»å®…å»ºå£«çš„èº«åˆ†è¯æ˜ä¹¦ç­‰æäº¤ä¹‰åŠ¡åºŸæ­¢[citation:7]</li>
          </ul>

          <h3>ç‰¹æ®Šç”³è¯·äººè§„å®š</h3>
          <div class="case-scenario">
            <strong>æœªæˆå¹´äººç”³è¯·æ¡ˆä¾‹ï¼š</strong>
            16å²çš„å°ç‹å¾—åˆ°æ³•å®šä»£ç†äººï¼ˆçˆ¶äº²ï¼‰çš„è¥ä¸šè®¸å¯ï¼Œè·å¾—5äº¿äººæ°‘å¸èµ„é‡‘æ¥æ—¥æœ¬å¼€è®¾ä¸åŠ¨äº§å…¬å¸ã€‚<br>
            <strong>åˆ¤æ–­ï¼š</strong>å°ç‹å±äº<strong>"æœ‰è¥ä¸šèƒ½åŠ›çš„æœªæˆå¹´äºº"</strong>ï¼Œå¯ä»¥ç”³è¯·å®…å»ºä¸šå…è®¸ã€‚
          </div>
        </section>

        <!-- æ¬ æ ¼äº‹ç”±è¯¦è§£ -->
        <section id="disqualification" class="content-section">
          <h2>3. æ¬ æ ¼äº‹ç”±è¯¦è§£</h2>
          
          <h3>ä¸ªäººæ¬ æ ¼äº‹ç”±</h3>
          <div class="disqualification-grid">
            <div class="disqualification-item">
              <div class="disqualification-icon">ğŸš«</div>
              <div class="disqualification-content">
                <h4>ç ´äº§æœªå¤æƒè€…</h4>
                <p>å¤æƒå<strong>ç«‹å³</strong>å¯ç”³è¯·ï¼Œä¸éœ€è¦ç­‰å¾…5å¹´</p>
              </div>
            </div>
            <div class="disqualification-item">
              <div class="disqualification-icon">ğŸš«</div>
              <div class="disqualification-content">
                <h4>èº«å¿ƒéšœç¢è€…</h4>
                <p>ä¸ªåˆ«å®¡æŸ¥ï¼Œä¸ä¸€å¾‹æ’é™¤ï¼ˆå¦‚æˆå¹´è¢«åè§äººï¼‰</p>
              </div>
            </div>
            <div class="disqualification-item">
              <div class="disqualification-icon">ğŸš«</div>
              <div class="disqualification-content">
                <h4>åˆ‘ç½šå—åˆ‘è€…</h4>
                <p>æ ¹æ®çŠ¯ç½ªç±»å‹å’Œåˆ‘ç½šæœ‰ä¸åŒé™åˆ¶æœŸé—´</p>
              </div>
            </div>
          </div>

          <h3>åˆ‘ç½šç±»å‹ä¸å…è®¸é™åˆ¶</h3>
          <div class="table-container">
            <table class="comparison-table">
              <thead>
                <tr>
                  <th>åˆ‘ç½šç±»å‹</th>
                  <th>çŠ¯ç½ªæ€§è´¨</th>
                  <th>å…è®¸é™åˆ¶æœŸé—´</th>
                  <th>å¤‡æ³¨</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>æ‹˜ç•™/ç§‘æ–™</strong></td>
                  <td>ä»»ä½•çŠ¯ç½ª</td>
                  <td class="required">å¯ç”³è¯·</td>
                  <td>æ— é™åˆ¶</td>
                </tr>
                <tr>
                  <td><strong>ç½šé‡‘åˆ‘</strong></td>
                  <td>å®…å»ºä¸šæ³•è¿åãƒ»èƒŒä»»ãƒ»æš´åŠ›çŠ¯ç½ª</td>
                  <td class="not-required">åˆ‘æ‰§è¡Œå5å¹´å†…ä¸å¯</td>
                  <td>ç‰¹å®šçŠ¯ç½ª</td>
                </tr>
                <tr>
                  <td><strong>ç¦é”¢åˆ‘</strong></td>
                  <td>ä»»ä½•çŠ¯ç½ª</td>
                  <td class="not-required">åˆ‘æ‰§è¡Œå5å¹´å†…ä¸å¯</td>
                  <td>æ‰€æœ‰ç¦é”¢åˆ‘éƒ½å—é™</td>
                </tr>
                <tr>
                  <td><strong>æ‰§è¡ŒçŠ¹äºˆ</strong></td>
                  <td>ä»»ä½•çŠ¯ç½ª</td>
                  <td class="not-required">æ‰§è¡ŒçŠ¹äºˆæœŸé—´ä¸­ä¸å¯</td>
                  <td>æœŸé—´æ»¡äº†åæ¬¡æ—¥å¯ç”³è¯·</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3>æš´åŠ›çŠ¯ç½ªèŒƒå›´</h3>
          <div class="two-column-list">
            <div class="column">
              <h4>åŒ…å«çš„çŠ¯ç½ªï¼š</h4>
              <ul>
                <li>æš´è¡Œç½ªã€ä¼¤å®³ç½ª</li>
                <li>ä¼¤å®³ç°åœºåŠ©åŠ¿ç½ª</li>
                <li>èƒè¿«ç½ª</li>
                <li>å‡¶å™¨å‡†å¤‡é›†åˆç½ª</li>
                <li>è¿åæš´åŠ›å›¢é˜²æ­¢æ³•</li>
              </ul>
            </div>
            <div class="column">
              <h4>ä¸åŒ…å«çš„çŠ¯ç½ªï¼š</h4>
              <ul>
                <li>è¿‡å¤±è‡´æ­»</li>
                <li>è¿‡å¤±ä¼¤å®³</li>
                <li>å™¨ç‰©æŸå</li>
                <li>è¿åé“è·¯äº¤é€šæ³•</li>
              </ul>
            </div>
          </div>

          <h3>æ³•äººç›¸å…³æ¬ æ ¼äº‹ç”±</h3>
          <div class="case-scenario">
            <strong>"ä¸‰æ¶"äº‹ç”±ï¼ˆå…è®¸å–æ¶ˆå5å¹´å†…ä¸å¯ï¼‰ï¼š</strong>
            <ol>
              <li><strong>ä¸æ­£å½“æ‰‹æ®µå–å¾—å…è®¸</strong></li>
              <li><strong>ä¸šåŠ¡åœæ­¢å¤„åˆ†æƒ…èŠ‚ç‰¹åˆ«ä¸¥é‡</strong></li>
              <li><strong>è¿åä¸šåŠ¡åœæ­¢å¤„åˆ†</strong></li>
            </ol>
          </div>
        </section>

        <!-- å…è®¸çš„æ•ˆåŠ›ä¸ç‰¹å¾ -->
        <section id="license-effects" class="content-section">
          <h2>4. å…è®¸çš„æ•ˆåŠ›ä¸ç‰¹å¾</h2>
          
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon">â±ï¸</div>
              <h3>æœ‰æ•ˆæœŸ</h3>
              <p><strong>5å¹´</strong></p>
              <p>æœŸæ»¡å‰90-30å¤©å†…ç”³è¯·æ›´æ–°</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">ğŸ—ºï¸</div>
              <h3>æ•ˆåŠ›èŒƒå›´</h3>
              <p><strong>å…¨å›½æœ‰æ•ˆ</strong></p>
              <p>çŸ¥äº‹å…è®¸ä¹Ÿå¯åœ¨å…¶ä»–éƒ½é“åºœå¿è¥ä¸š</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">ğŸ”„</div>
              <h3>æ›´æ–°æœŸé—´</h3>
              <p><strong>æ—§å…è®¸ç»§ç»­æœ‰æ•ˆ</strong></p>
              <p>æ›´æ–°ç”³è¯·æœŸé—´å¯ç»§ç»­è¥ä¸š</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">ğŸ“„</div>
              <h3>å…è®¸è¯</h3>
              <p><strong>ä¸éœ€è¿”çº³</strong></p>
              <p>æœ‰æ•ˆæœŸæ»¡åä¸éœ€è¦å½’è¿˜</p>
            </div>
          </div>

          <div class="highlight-box">
            <strong>é‡è¦åŸåˆ™ï¼šåä¹‰å€Ÿå‡ºç¦æ­¢</strong>
            <p>ä¸å¾—å°†è‡ªå·±çš„å®…å»ºä¸šè€…å…è®¸å€Ÿç»™å…¶ä»–å…¬å¸ä½¿ç”¨ï¼Œè¿è€…å°†å—å¤„ç½šã€‚</p>
          </div>
        </section>

        <!-- å…è®¸ä¸éœ€è¦çš„ç‰¹æ®Šæƒ…å†µ -->
        <section id="license-exemptions" class="content-section">
          <h2>5. å…è®¸ä¸éœ€è¦çš„ç‰¹æ®Šæƒ…å†µ</h2>
          
          <h3>å®Œå…¨ä¸éœ€è¦å…è®¸</h3>
          <ul>
            <li><strong>å›½å®¶ã€åœ°æ–¹å…¬å…±å›¢ä½“</strong></li>
            <li><strong>ç‹¬ç«‹è¡Œæ”¿æ³•äºº</strong></li>
            <li><strong>åœ°æ–¹ä½å®…ä¾›ç»™å…¬ç¤¾</strong></li>
            <li><strong>ç ´äº§ç®¡è´¢äºº</strong></li>
          </ul>

          <h3>å…è®¸ä¸éœ€è¦ä½†éœ€å±Šå‡º</h3>
          <div class="exemption-item">
            <h4>ä¿¡æ‰˜ä¼šç¤¾ã€ä¿¡æ‰˜é“¶è¡Œ</h4>
            <p><strong>éœ€è¦å‘å›½åœŸäº¤é€šå¤§è‡£å±Šå‡º</strong></p>
            <p class="exemption-reason">ç†ç”±ï¼šä¿¡æ‰˜æ³•æ¯”å®…å»ºä¸šæ³•æ›´ä¸¥æ ¼ï¼ˆä¿¡æ‰˜æ³• > å®…å»ºä¸šæ³•ï¼‰</p>
          </div>

          <h3>éœ€è¦å…è®¸çš„ä¾‹å¤–</h3>
          <div class="exemption-item important">
            <h4>å†œä¸šååŒç»„åˆï¼ˆå†œä¸šåä¼šï¼‰</h4>
            <p><strong>éœ€è¦å…è®¸</strong> - ä½œä¸ºé‡è¦ä¾‹å¤–å¿…é¡»è®°å¿†</p>
          </div>
        </section>

        <!-- å…è®¸çš„æ›´æ–°ã€è¿”çº³ä¸æ›´æ¢ -->
        <section id="license-management" class="content-section">
          <h2>6. å…è®¸çš„æ›´æ–°ã€è¿”çº³ä¸æ›´æ¢</h2>
          
          <h3>æ›´æ–°æ—¶æœºä¸è¦æ±‚</h3>
          <div class="update-timeline">
            <div class="timeline-point">
              <div class="timeline-date">æœ‰æ•ˆæœŸæ»¡å‰90å¤©</div>
              <div class="timeline-content">
                <strong>æ›´æ–°ç”³è¯·å¼€å§‹</strong>
              </div>
            </div>
            <div class="timeline-point">
              <div class="timeline-date">æœ‰æ•ˆæœŸæ»¡å‰30å¤©</div>
              <div class="timeline-content">
                <strong>æ›´æ–°ç”³è¯·æˆªæ­¢</strong>
              </div>
            </div>
            <div class="timeline-point">
              <div class="timeline-date">æ›´æ–°ç”³è¯·æœŸé—´</div>
              <div class="timeline-content">
                <strong>æ—§å…è®¸ç»§ç»­æœ‰æ•ˆ</strong>ï¼Œå¯ç»§ç»­è¥ä¸š
              </div>
            </div>
          </div>

          <h3>è¿”çº³æƒ…å½¢ï¼ˆè¨˜æ†¶å£è¯€ï¼š"æ¢å–äº¡åºŸ"ï¼‰</h3>
          <div class="return-scenarios">
            <div class="scenario">
              <div class="scenario-icon">ğŸ”„</div>
              <div class="scenario-content">
                <h4>æ¢</h4>
                <p>å…è®¸ç§ç±»æ›´æ¢ï¼ˆå¦‚çŸ¥äº‹å…è®¸æ¢å¤§è‡£å…è®¸ï¼‰</p>
              </div>
            </div>
            <div class="scenario">
              <div class="scenario-icon">âŒ</div>
              <div class="scenario-content">
                <h4>å–</h4>
                <p>å…è®¸è¢«å–æ¶ˆ</p>
              </div>
            </div>
            <div class="scenario">
              <div class="scenario-icon">ğŸ”</div>
              <div class="scenario-content">
                <h4>äº¡</h4>
                <p>å…è®¸ä¸¢å¤±åæ‰¾åˆ°æ—§çš„</p>
              </div>
            </div>
            <div class="scenario">
              <div class="scenario-icon">ğŸ</div>
              <div class="scenario-content">
                <h4>åºŸ</h4>
                <p>åºŸä¸šå…³å¼ </p>
              </div>
            </div>
          </div>

          <h3>æ›´æ¢è§„åˆ™ï¼ˆå…è¨±æ›ãˆï¼‰</h3>
          <div class="table-container">
            <table class="comparison-table">
              <thead>
                <tr>
                  <th>æ›´æ¢ç±»å‹</th>
                  <th>ç”³è¯·æ–¹å¼</th>
                  <th>è®°å¿†å£è¯€</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>çŸ¥äº‹å…è®¸ â†’ å¤§è‡£å…è®¸</strong></td>
                  <td>ç»ç”±çŸ¥äº‹å‘å¤§è‡£ç”³è¯·</td>
                  <td rowspan="2" class="memory-tip">"æ¢å¤§è‡£æ—¶ç»ç”±<br>æ¢çŸ¥äº‹æ—¶ç›´æ¥"</td>
                </tr>
                <tr>
                  <td><strong>å¤§è‡£å…è®¸ â†’ çŸ¥äº‹å…è®¸</strong></td>
                  <td>ç›´æ¥å‘çŸ¥äº‹ç”³è¯·</td>
                </tr>
                <tr>
                  <td><strong>ç”²å¿çŸ¥äº‹å…è®¸ â†’ ä¹™å¿çŸ¥äº‹å…è®¸</strong></td>
                  <td>ç›´æ¥å‘ä¹™çŸ¥äº‹ç”³è¯·</td>
                  <td></td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- å…è®¸çš„å–æ¶ˆäº‹ç”± -->
        <section id="license-cancellation" class="content-section">
          <h2>7. å…è®¸çš„å–æ¶ˆäº‹ç”±</h2>
          
          <h3>å–æ¶ˆæƒè€…</h3>
          <ul>
            <li><strong>å¤§è‡£å…è®¸</strong>ï¼šåªæœ‰å›½åœŸäº¤é€šå¤§è‡£å¯å–æ¶ˆ</li>
            <li><strong>çŸ¥äº‹å…è®¸</strong>ï¼šåªæœ‰é¢å‘çŸ¥äº‹å¯å–æ¶ˆ</li>
          </ul>

          <h3>ä¸»è¦å–æ¶ˆäº‹ç”±</h3>
          <div class="cancellation-reasons">
            <div class="reason-category">
              <h4>ä¸æ­£å½“è¡Œä¸º</h4>
              <ul>
                <li>é€šè¿‡ä¸æ­£å½“æ‰‹æ®µè·å¾—å…è®¸</li>
                <li>ä¸šåŠ¡åœæ­¢å¤„åˆ†æƒ…èŠ‚ç‰¹åˆ«ä¸¥é‡</li>
                <li>è¿åä¸šåŠ¡åœæ­¢å¤„åˆ†</li>
              </ul>
            </div>
            <div class="reason-category">
              <h4>åˆ‘ç½šç›¸å…³</h4>
              <ul>
                <li>å½¹å‘˜æˆ–æ”¿ä»¤ä½¿ç”¨äººç ´äº§æœªå¤æƒ</li>
                <li>å½¹å‘˜æˆ–æ”¿ä»¤ä½¿ç”¨äººè¢«å¤„ç¦é”¢åˆ‘ä»¥ä¸Š</li>
                <li>å½¹å‘˜æˆ–æ”¿ä»¤ä½¿ç”¨äººå› ç‰¹å®šçŠ¯ç½ªè¢«å¤„ç½šé‡‘åˆ‘</li>
              </ul>
            </div>
            <div class="reason-category">
              <h4>ä¸šåŠ¡çŠ¶æ€</h4>
              <ul>
                <li>å–å¾—å…è®¸å1å¹´å†…æœªå¼€ä¸š</li>
                <li>æŒç»­1å¹´ä»¥ä¸Šä¼‘ä¸š</li>
              </ul>
            </div>
          </div>

          <h3>ç‰¹å®šçŠ¯ç½ªèŒƒå›´</h3>
          <div class="highlight-box">
            <strong>æš´åŠ›çŠ¯ç½ª + èƒŒä»»ç½ª + å®…å»ºä¸šæ³•è¿å</strong>
            <p>æ³¨æ„ï¼šè¿åé“è·¯äº¤é€šæ³•çš„ç½šé‡‘åˆ‘ä¸ä¼šå¯¼è‡´å…è®¸å–æ¶ˆ</p>
          </div>
        </section>

        <!-- å…è®¸å¤±æ•ˆä¸å±Šå‡ºä¹‰åŠ¡ -->
        <section id="license-expiration" class="content-section">
          <h2>8. å…è®¸å¤±æ•ˆä¸å±Šå‡ºä¹‰åŠ¡</h2>
          
          <h3>å…è®¸å¤±æ•ˆæƒ…å½¢åŠå±Šå‡ºè´£ä»»äºº</h3>
          <div class="table-container">
            <table class="comparison-table">
              <thead>
                <tr>
                  <th>å¤±æ•ˆæƒ…å½¢</th>
                  <th>å±Šå‡ºè´£ä»»äºº</th>
                  <th>å±Šå‡ºæœŸé™</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>å®…å»ºä¸šè€…æ­»äº¡</strong></td>
                  <td>ç»§æ‰¿äºº</td>
                  <td>çŸ¥é“æ­»äº¡äº‹å®ä¹‹æ—¥èµ·30æ—¥å†…</td>
                </tr>
                <tr>
                  <td><strong>æ³•äººåˆå¹¶æ¶ˆå‡</strong></td>
                  <td>æ¶ˆå‡æ³•äººçš„ä»£è¡¨å½¹å‘˜</td>
                  <td>æ¶ˆå‡ä¹‹æ—¥èµ·30æ—¥å†…</td>
                </tr>
                <tr>
                  <td><strong>ç ´äº§</strong></td>
                  <td>ç ´äº§ç®¡è´¢äºº</td>
                  <td>30æ—¥å†…</td>
                </tr>
                <tr>
                  <td><strong>åºŸä¸š</strong></td>
                  <td>æœ¬äººæˆ–ä»£è¡¨å½¹å‘˜</td>
                  <td>30æ—¥å†…</td>
                </tr>
                <tr>
                  <td><strong>æ³•äººè§£æ•£</strong></td>
                  <td>æ¸…ç®—äºº</td>
                  <td>30æ—¥å†…</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3>å…è®¸å¤±æ•ˆåçš„ä¸šåŠ¡èŒƒå›´</h3>
          <div class="case-scenario">
            <strong>å®åŠ¡æ¡ˆä¾‹ï¼š</strong>
            å®…å»ºä¸šå…è®¸åœ¨2024å¹´1æœˆ20æ—¥å¤±æ•ˆï¼Œä½†1æœˆ20æ—¥ä¹‹å‰å·²ç¼”ç»“ç§Ÿèµå¥‘çº¦ã€‚<br>
            <strong>å…è®¸è¡Œä¸ºï¼š</strong>ä¸ºç»“æŸè¯¥å·²ç¼”ç»“äº¤æ˜“èŒƒå›´å†…çš„å®…å»ºä¸šè¡Œä¸º<br>
            <strong>æ—¥æ–‡è¡¨è¿°ï¼š</strong>ã€å¤±åŠ¹å‰ã«ç· çµã—ãŸå¥‘ç´„ã«åŸºã¥ãå–å¼•ã‚’çµäº†ã™ã‚‹ç¯„å›²å†…ã€‘
          </div>

          <div class="highlight-box">
            <strong>å…è®¸å¤±æ•ˆåä»å¯è¿›è¡Œçš„ä¸šåŠ¡ï¼š</strong>
            <ul>
              <li>æ­»äº¡å®…å»ºä¸šè€…çš„ç»§æ‰¿äººä»¥ç»“æŸä¹‹å‰äº¤æ˜“ä¸ºç›®çš„çš„è¡Œä¸º</li>
              <li>è¢«åˆå¹¶å®…å»ºä¸šè€…ä»¥ç»“æŸä¹‹å‰äº¤æ˜“ä¸ºç›®çš„çš„è¡Œä¸º</li>
              <li>å› å…è®¸å–æ¶ˆã€åºŸä¸šç­‰å¤±æ•ˆåä»¥ç»“æŸä¹‹å‰äº¤æ˜“ä¸ºç›®çš„çš„è¡Œä¸º</li>
            </ul>
          </div>
        </section>

        <!-- 2025å¹´å…è®¸ç›¸å…³æ³•æ”¹æ­£æ€»ç»“ -->
        <section id="legal-reform" class="content-section">
          <h2>9. 2025å¹´å…è®¸ç›¸å…³æ³•æ”¹æ­£æ€»ç»“</h2>
          
          <div class="reform-highlights">
            <div class="reform-item major">
              <div class="reform-icon">ğŸ“</div>
              <div class="reform-content">
                <h4>ç”³è¯·é€”å¾„ç®€åŒ–</h4>
                <p>å›½åœŸäº¤é€šå¤§è‡£å…è®¸ç”³è¯·<strong>ä¸å†ç»ç”±éƒ½é“åºœå¿çŸ¥äº‹</strong>ï¼Œæ”¹ä¸ºç›´æ¥å‘åœ°æ–¹æ•´å¤‡å±€ç”³è¯·[citation:1][citation:7]</p>
              </div>
            </div>
            <div class="reform-item major">
              <div class="reform-icon">ğŸ”’</div>
              <div class="reform-content">
                <h4>éšç§ä¿æŠ¤å¼ºåŒ–</h4>
                <p>ä»ä¸šè€…åç°¿<strong>åˆ é™¤ä½æ‰€ã€ç”Ÿå¹´æœˆæ—¥ã€æ€§åˆ«</strong>è®°è½½[citation:1][citation:9]</p>
              </div>
            </div>
            <div class="reform-item">
              <div class="reform-icon">ğŸ·ï¸</div>
              <div class="reform-content">
                <h4>æ ‡è­˜è®°è½½å˜æ›´</h4>
                <p>åˆ é™¤ä¸“ä»»å®…å»ºå£«æ°åï¼Œæ”¹ä¸ºè®°è½½<strong>äººæ•°ã€äº‹åŠ¡æ‰€ä»£è¡¨è€…æ°åã€ä»ä¸šè€…æ•°</strong>[citation:1][citation:10]</p>
              </div>
            </div>
            <div class="reform-item">
              <div class="reform-icon">ğŸ’»</div>
              <div class="reform-content">
                <h4>æ•°å­—åŒ–æ¨è¿›</h4>
                <p>æ”¯æŒ<strong>åœ¨çº¿ç”³è¯·ï¼ˆeMLITç³»ç»Ÿï¼‰</strong>ï¼Œç”µå­åŒ–æ‰‹ç»­[citation:7]</p>
              </div>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>â“ åˆ¤æ–­é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <button class="answer-btn" @click="toggleAnswer(index)">
              {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
            </button>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=license-requirements" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=license-requirements" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=business" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›å®…å»ºä¸šæ³•
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ§‘â€âš–ï¸' },
  { id: 'license-types', title: 'å…è®¸ç§ç±»', icon: 'ğŸ“‹' },
  { id: 'application-process', title: 'ç”³è¯·æµç¨‹', icon: 'ğŸ“' },
  { id: 'disqualification', title: 'æ¬ æ ¼äº‹ç”±', icon: 'ğŸš«' },
  { id: 'license-effects', title: 'å…è®¸æ•ˆåŠ›', icon: 'âš¡' },
  { id: 'license-exemptions', title: 'å…è®¸ä¾‹å¤–', icon: 'ğŸ”„' },
  { id: 'license-management', title: 'æ›´æ–°è¿”çº³', icon: 'ğŸ”„' },
  { id: 'license-cancellation', title: 'å…è®¸å–æ¶ˆ', icon: 'âŒ' },
  { id: 'license-expiration', title: 'å…è®¸å¤±æ•ˆ', icon: 'â°' },
  { id: 'legal-reform', title: 'æ³•æ”¹æ­£', icon: 'âš–ï¸' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'â“' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'å…è¨±ï¼ˆã‚ã‚“ãã‚‡ï¼‰',
    chinese: 'è®¸å¯/æ‰§ç…§',
    explanation: 'ä»äº‹å®…å»ºä¸šçš„æ³•å®šèµ„æ ¼ï¼Œç±»ä¼¼è¥ä¸šæ‰§ç…§ï¼Œæœ‰æ•ˆæœŸ5å¹´',
    example: 'æ— å…è®¸ä»äº‹å®…å»ºä¸šå±äºè¿æ³•ï¼Œå°†å—å¤„ç½š'
  },
  {
    japanese: 'å…è¨±æ¨©è€…ï¼ˆã‚ã‚“ãã‚‡ã‘ã‚“ã—ã‚ƒï¼‰',
    chinese: 'å…è®¸æƒè€…',
    explanation: 'é¢å‘å…è®¸çš„è¡Œæ”¿æœºå…³ï¼ˆéƒ½é“åºœå¿çŸ¥äº‹æˆ–å›½åœŸäº¤é€šå¤§è‡£ï¼‰',
    example: 'ä¸œäº¬éƒ½çŸ¥äº‹å…è®¸çš„å…è®¸æƒè€…æ˜¯ä¸œäº¬éƒ½çŸ¥äº‹'
  },
  {
    japanese: 'æ¬ æ ¼äº‹ç”±ï¼ˆã‘ã£ã‹ãã˜ã‚†ã†ï¼‰',
    chinese: 'æ¬ æ ¼äº‹ç”±',
    explanation: 'ä¸å…·å¤‡ç”³è¯·å…è®¸èµ„æ ¼çš„æƒ…å†µï¼Œå¦‚ç ´äº§æœªå¤æƒã€æš´åŠ›å›¢å‘˜ç­‰',
    example: 'ç ´äº§è€…å¤æƒåç«‹å³å¯ä»¥ç”³è¯·å…è®¸ï¼Œä¸éœ€è¦ç­‰å¾…5å¹´'
  },
  {
    japanese: 'æ”¿ä»¤ã§å®šã‚ã‚‹ä½¿ç”¨äººï¼ˆã›ã„ã‚Œã„ã§ã•ã ã‚ã‚‹ã—ã‚ˆã†ã«ã‚“ï¼‰',
    chinese: 'æ”¿ä»¤ä½¿ç”¨äºº',
    explanation: 'äº‹åŠ¡æ‰€çš„ä»£è¡¨ï¼Œå…·æœ‰å¥‘çº¦ç¼”ç»“æƒé™çš„ä½¿ç”¨äºº',
    example: 'åº—é•¿ã€æ”¯åº—é•¿ç­‰å…·æœ‰å¥‘çº¦æƒé™çš„äººå‘˜'
  },
  {
    japanese: 'å…è¨±ã®æ›´æ–°ï¼ˆã‚ã‚“ãã‚‡ã®ã“ã†ã—ã‚“ï¼‰',
    chinese: 'å…è®¸æ›´æ–°',
    explanation: 'å…è®¸æœ‰æ•ˆæœŸå±Šæ»¡å‰çš„ç»­æœŸæ‰‹ç»­ï¼Œéœ€åœ¨æœŸæ»¡å‰90-30å¤©å†…ç”³è¯·',
    example: 'æ›´æ–°ç”³è¯·æœŸé—´æ—§å…è®¸ç»§ç»­æœ‰æ•ˆï¼Œå¯ç»§ç»­è¥ä¸š'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'å®…å»ºæ¥­ã®å…è¨±ã¯ã€ï¼’ä»¥ä¸Šã®éƒ½é“åºœçœŒã®åŒºåŸŸå†…ã«äº‹å‹™æ‰€ã‚’è¨­ã‘ã‚‹å ´åˆã«ã¯ã€å›½åœŸäº¤é€šå¤§è‡£ã®å…è¨±ã‚’å—ã‘ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'æ ¹æ®å®…å»ºä¸šæ³•ï¼Œåœ¨2ä¸ªä»¥ä¸Šéƒ½é“åºœå¿è®¾ç½®äº‹åŠ¡æ‰€æ—¶å¿…é¡»å–å¾—å›½åœŸäº¤é€šå¤§è‡£å…è®¸ã€‚'
  },
  {
    question: 'æœªæˆå¹´è€…ã¯ã€å–¶æ¥­ã«é–¢ã—ã¦æˆå¹´è€…ã¨åŒä¸€ã®è¡Œç‚ºèƒ½åŠ›ã‚’æœ‰ã™ã‚‹å ´åˆã§ã‚ã£ã¦ã‚‚ã€å®…å»ºæ¥­ã®å…è¨±ã‚’å—ã‘ã‚‹ã“ã¨ãŒã§ããªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æœ‰è¥ä¸šèƒ½åŠ›çš„æœªæˆå¹´äººï¼ˆå¾—åˆ°æ³•å®šä»£ç†äººè®¸å¯ï¼‰å¯ä»¥ç”³è¯·å®…å»ºä¸šå…è®¸ã€‚'
  },
  {
    question: 'å…è¨±ã‚’å—ã‘ã‚ˆã†ã¨ã™ã‚‹æ³•äººã®å–ç· å½¹ãŒç ´ç”£æ‰‹ç¶šé–‹å§‹ã®æ±ºå®šã‚’å—ã‘ãŸå ´åˆã€å¾©æ¨©ã‚’å¾—ãªã‘ã‚Œã°å…è¨±ã‚’å—ã‘ã‚‹ã“ã¨ãŒã§ããªã„ãŒã€å¾©æ¨©ã‚’å¾—ãŸå¾Œã¯ç›´ã¡ã«å…è¨±ã‚’å—ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'ç ´äº§è€…å¤æƒåç«‹å³å¯ä»¥ç”³è¯·å…è®¸ï¼Œä¸éœ€è¦ç­‰å¾…5å¹´ã€‚'
  },
  {
    question: 'å®…å»ºæ¥­ã®å…è¨±ã®æœ‰åŠ¹æœŸé–“ã¯ï¼•å¹´ã§ã‚ã‚Šã€ãã®æœŸé–“ã‚’çµŒéã—ãŸã¨ãã¯ã€å…è¨±è¨¼ã‚’å…è¨±æ¨©è€…ã«è¿”ç´ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'å…è®¸è¯æœ‰æ•ˆæœŸæ»¡åä¸éœ€è¦è¿”çº³ï¼Œåªéœ€åœ¨æœŸæ»¡å‰ç”³è¯·æ›´æ–°å³å¯ã€‚'
  },
  {
    question: 'ä¿¡è¨—ä¼šç¤¾ãŒå®…å»ºæ¥­ã‚’å–¶ã‚€å ´åˆã«ã¯ã€å…è¨±ã¯ä¸è¦ã§ã‚ã‚‹ãŒã€å›½åœŸäº¤é€šå¤§è‡£ã¸ã®å±Šå‡ºãŒå¿…è¦ã§ã‚ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'ä¿¡æ‰˜å…¬å¸ä»äº‹å®…å»ºä¸šå…è®¸ä¸éœ€è¦ï¼Œä½†éœ€å‘å›½åœŸäº¤é€šå¤§è‡£å±Šå‡ºã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('license_requirements', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('license_requirements')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('license_requirements')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('license_requirements', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.license-requirements {
  min-height: 100vh;
  background-color: var(--bg);
}

.container {
  max-width: var(--max-width, 1200px);
  margin: 0 auto;
  padding: 0 var(--container-padding, 2rem);
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: var(--radius);
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: var(--muted);
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: var(--primary);
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: var(--primary-dark);
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: var(--muted);
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: var(--muted);
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--primary-dark);
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: var(--bg);
  border-radius: 8px;
  text-decoration: none;
  color: var(--text);
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: var(--primary-light);
  color: var(--primary-dark);
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 1.5rem;
  box-shadow: var(--shadow);
  border-left: 4px solid var(--primary);
}

.term-japanese {
  font-weight: bold;
  color: var(--primary);
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: var(--text);
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--border);
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--primary-dark);
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= å…è®¸ç§ç±»å›¾ç¤º ========= */
.license-types-diagram {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.license-type {
  border: 2px solid var(--primary);
  border-radius: var(--radius);
  overflow: hidden;
}

.type-header {
  background: var(--primary);
  color: white;
  padding: 1rem;
  text-align: center;
  font-weight: bold;
  font-size: 1.125rem;
}

.type-content {
  padding: 1.5rem;
  background: white;
}

.type-condition {
  font-weight: 600;
  color: var(--primary-dark);
  margin-bottom: 0.5rem;
}

.type-authority {
  color: var(--muted);
  font-size: 0.875rem;
}

/* ========= æ³•æ”¹æ­£å¯¹æ¯” ========= */
.reform-comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
}

.reform-before, .reform-after {
  padding: 1.5rem;
  border-radius: var(--radius);
}

.reform-before {
  background: #f8f9fa;
  border: 1px solid #dee2e6;
}

.reform-after {
  background: #e7f7e7;
  border: 1px solid #28a745;
}

.reform-before h4, .reform-after h4 {
  margin-top: 0;
  margin-bottom: 1rem;
  text-align: center;
}

.process-flow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.process-step {
  padding: 0.5rem 1rem;
  background: white;
  border-radius: 5px;
  border: 1px solid #ddd;
  text-align: center;
  font-size: 0.875rem;
}

.highlight-step {
  background: var(--primary-light);
  border-color: var(--primary);
  font-weight: 600;
}

.process-arrow {
  color: var(--muted);
  font-weight: bold;
}

/* ========= æ¬ æ ¼äº‹ç”±ç½‘æ ¼ ========= */
.disqualification-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
  margin: 1.5rem 0;
}

.disqualification-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: #fff9e6;
  border-radius: var(--radius);
  border-left: 4px solid #ffcc00;
}

.disqualification-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.disqualification-content h4 {
  margin: 0 0 0.25rem 0;
  color: var(--primary-dark);
}

.disqualification-content p {
  margin: 0;
  font-size: 0.875rem;
  color: var(--muted);
}

/* ========= ä¸¤æ åˆ—è¡¨ ========= */
.two-column-list {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 1.5rem 0;
}

.column h4 {
  margin-bottom: 0.75rem;
  color: var(--primary-dark);
}

.column ul {
  padding-left: 1.25rem;
}

.column li {
  margin-bottom: 0.5rem;
  line-height: 1.5;
}

/* ========= ç‰¹æ€§ç½‘æ ¼ ========= */
.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.feature-card {
  text-align: center;
  padding: 1.5rem 1rem;
  background: var(--primary-light);
  border-radius: var(--radius);
  transition: transform 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px);
}

.feature-icon {
  font-size: 2rem;
  margin-bottom: 1rem;
}

.feature-card h3 {
  margin: 0 0 0.5rem 0;
  color: var(--primary-dark);
}

.feature-card p {
  margin: 0;
  font-size: 0.875rem;
  color: var(--muted);
}

/* ========= å…è®¸ä¾‹å¤–æ ·å¼ ========= */
.exemption-item {
  padding: 1rem;
  margin-bottom: 1rem;
  background: #f0f7ff;
  border-radius: var(--radius);
  border-left: 4px solid var(--primary);
}

.exemption-item.important {
  background: #fff0f0;
  border-left-color: #dc3545;
}

.exemption-item h4 {
  margin: 0 0 0.5rem 0;
  color: var(--primary-dark);
}

.exemption-reason {
  font-size: 0.875rem;
  color: var(--muted);
  margin: 0;
}

/* ========= æ›´æ–°æ—¶é—´çº¿ ========= */
.update-timeline {
  margin: 1.5rem 0;
}

.timeline-point {
  display: flex;
  align-items: center;
  margin-bottom: 1rem;
  padding: 1rem;
  background: white;
  border-radius: var(--radius);
  border-left: 4px solid var(--primary);
}

.timeline-date {
  min-width: 120px;
  font-weight: 600;
  color: var(--primary);
  margin-right: 1rem;
}

.timeline-content {
  flex: 1;
}

/* ========= è¿”çº³æƒ…å½¢ ========= */
.return-scenarios {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin: 1.5rem 0;
}

.scenario {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: white;
  border-radius: var(--radius);
  border: 1px solid var(--border);
}

.scenario-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.scenario-content h4 {
  margin: 0 0 0.25rem 0;
  color: var(--primary-dark);
}

.scenario-content p {
  margin: 0;
  font-size: 0.875rem;
  color: var(--muted);
}

/* ========= å–æ¶ˆäº‹ç”±åˆ†ç±» ========= */
.cancellation-reasons {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.reason-category {
  padding: 1rem;
  background: white;
  border-radius: var(--radius);
  border: 1px solid var(--border);
}

.reason-category h4 {
  margin: 0 0 0.75rem 0;
  color: var(--primary-dark);
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--border);
}

.reason-category ul {
  padding-left: 1.25rem;
  margin: 0;
}

.reason-category li {
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= æ³•æ”¹æ­£é‡ç‚¹ ========= */
.reform-highlights {
  margin: 2rem 0;
}

.reform-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  margin-bottom: 1rem;
  background: white;
  border-radius: var(--radius);
  border: 1px solid var(--border);
}

.reform-item.major {
  background: #e7f7e7;
  border-color: #28a745;
}

.reform-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.reform-content h4 {
  margin: 0 0 0.5rem 0;
  color: var(--primary-dark);
}

.reform-content p {
  margin: 0;
  line-height: 1.6;
}

/* ========= æ¡ˆä¾‹å’Œé‡ç‚¹ç›’å­ ========= */
.case-scenario {
  background: #f0f7ff;
  border-radius: var(--radius);
  padding: 1.5rem;
  margin: 1.5rem 0;
  border-left: 4px solid var(--primary);
  line-height: 1.6;
}

.highlight-box {
  background: #fff9e6;
  border: 1px solid #ffcc00;
  border-radius: var(--radius);
  padding: 1.5rem;
  margin: 1.5rem 0;
  line-height: 1.6;
}

.highlight-box strong {
  color: #92400e;
}

/* ========= è¡¨æ ¼æ ·å¼ ========= */
.table-container {
  overflow-x: auto;
  margin: 1.5rem 0;
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.comparison-table th, .comparison-table td {
  border: 1px solid var(--border);
  padding: 12px;
  text-align: left;
}

.comparison-table th {
  background-color: var(--primary);
  color: white;
  font-weight: 600;
  text-align: center;
}

.comparison-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.comparison-table tr:hover {
  background-color: #e9ecef;
}

.comparison-table .required {
  color: #28a745;
  font-weight: bold;
  text-align: center;
}

.comparison-table .not-required {
  color: #dc3545;
  font-weight: bold;
  text-align: center;
}

.memory-tip {
  background: #e7f7e7;
  font-style: italic;
  text-align: center;
  font-weight: 600;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary-dark);
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: var(--radius);
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: var(--primary);
  background: var(--primary-light);
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.answer-btn {
  background: var(--primary);
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: var(--primary-dark);
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: var(--primary);
  color: white;
}

.btn-primary:hover {
  background: var(--primary-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: var(--primary);
  border: 1px solid var(--primary);
}

.btn-outline:hover {
  background: var(--primary-light);
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid var(--border);
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: white;
  text-decoration: none;
  border-radius: var(--radius);
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  background: linear-gradient(135deg, var(--primary-dark), #164536);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

.action-button.video:hover {
  background: linear-gradient(135deg, #205e4a, #164536);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .license-types-diagram {
    grid-template-columns: 1fr;
  }
  
  .reform-comparison {
    grid-template-columns: 1fr;
  }
  
  .two-column-list {
    grid-template-columns: 1fr;
  }
  
  .features-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .return-scenarios {
    grid-template-columns: 1fr;
  }
  
  .cancellation-reasons {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .features-grid {
    grid-template-columns: 1fr;
  }
  
  .quiz-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
  
  .timeline-point {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .timeline-date {
    margin-right: 0;
    margin-bottom: 0.5rem;
  }
}
</style>