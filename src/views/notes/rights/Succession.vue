<!-- src/views/notes/rights/Succession.vue -->
<template>
  <div class="succession-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>ç›¸ç¶š</span>
        </div>
        <h1>ç›¸ç¶šï¼ˆç»§æ‰¿ï¼‰</h1>
        <p>æ—¥æœ¬æ°‘æ³•ä¸­çš„ç»§æ‰¿åˆ¶åº¦ï¼Œæ¶‰åŠæ³•å®šç»§æ‰¿äººã€ç»§æ‰¿ä»½é¢ã€é—äº§åˆ†å‰²ã€é—å˜±ç»§æ‰¿åŠé…å¶è€…å±…ä½æƒç­‰é‡è¦å†…å®¹</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">18</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">60åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£ç»§æ‰¿çš„åŸºæœ¬æ¦‚å¿µå’Œç»§æ‰¿å¼€å§‹çš„æ—¶é—´</li>
            <li>æŒæ¡æ³•å®šç»§æ‰¿äººçš„é¡ºåºå’Œç»§æ‰¿ä»½é¢çš„è®¡ç®—æ–¹æ³•</li>
            <li>ç†Ÿæ‚‰ç»§æ‰¿çš„æ‰¿è®¤ã€æ”¾å¼ƒå’Œé™å®šæ‰¿è®¤çš„åŒºåˆ«</li>
            <li>äº†è§£ä»£è¢­ç»§æ‰¿çš„é€‚ç”¨æ¡ä»¶å’Œé™åˆ¶</li>
            <li>æŒæ¡é—å˜±çš„å½¢å¼è¦ä»¶å’Œæ³•å¾‹æ•ˆåŠ›</li>
            <li>ç†è§£é—ç•™åˆ†çš„æ¦‚å¿µå’Œè®¡ç®—æ–¹æ³•</li>
            <li>ç†Ÿæ‚‰é…å¶è€…å±…ä½æƒçš„é€‚ç”¨æ¡ä»¶å’Œæ³•å¾‹æ•ˆæœ</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. ç»§æ‰¿çš„åŸºæœ¬æ¦‚å¿µ</h2>
          
          <h3>ç»§æ‰¿çš„å®šä¹‰</h3>
          <div class="concept-explanation">
            <p>ç»§æ‰¿æ˜¯æŒ‡è¢«ç»§æ‰¿äººæ­»äº¡åï¼Œå…¶æƒåˆ©ä¹‰åŠ¡ï¼ˆåŒ…æ‹¬è´¢äº§å’Œå€ºåŠ¡ï¼‰ç”±å…¶ç»§æ‰¿äººæ¦‚æ‹¬æ‰¿å—çš„æ³•å¾‹åˆ¶åº¦ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ é‡è¦æé†’</h4>
              <p>ç»§æ‰¿ä¸ä»…ä»…æ˜¯ç»§æ‰¿è´¢äº§ï¼Œè¿˜åŒ…æ‹¬ç»§æ‰¿å€ºåŠ¡ï¼å¦‚æœè¢«ç»§æ‰¿äººæœ‰å€Ÿæ¬¾ç­‰å€ºåŠ¡ï¼Œç»§æ‰¿äººéœ€è¦åœ¨ç»§æ‰¿è´¢äº§èŒƒå›´å†…æ‰¿æ‹…å¿è¿˜è´£ä»»ã€‚</p>
            </div>
          </div>

          <h3>ç»§æ‰¿å…³ç³»ä¸­çš„è§’è‰²</h3>
          <div class="effect-timing">
            <div class="timing-item">
              <div class="timing-icon">ğŸ‘¤</div>
              <div class="timing-content">
                <h4>è¢«ç»§æ‰¿äºº</h4>
                <p>æ­»äº¡çš„äººï¼Œå…¶æƒåˆ©ä¹‰åŠ¡å°†è¢«ç»§æ‰¿</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ‘¥</div>
              <div class="timing-content">
                <h4>ç»§æ‰¿äºº</h4>
                <p>ç»§æ‰¿è¢«ç»§æ‰¿äººæƒåˆ©ä¹‰åŠ¡çš„äºº</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ’°</div>
              <div class="timing-content">
                <h4>é—äº§</h4>
                <p>è¢«ç»§æ‰¿äººç•™ä¸‹çš„è´¢äº§å’Œå€ºåŠ¡çš„æ€»å’Œ</p>
              </div>
            </div>
          </div>
        </section>

        <!-- æ³•å®šç»§æ‰¿äºº -->
        <section id="legal-heirs" class="content-section">
          <h2>2. æ³•å®šç»§æ‰¿äºº</h2>
          
          <h3>ç»§æ‰¿äººçš„é¡ºåº</h3>
          <div class="heir-order">
            <p>æ—¥æœ¬æ°‘æ³•è§„å®šäº†ä¸¥æ ¼çš„ç»§æ‰¿äººé¡ºåºï¼Œé…å¶è€…æ˜¯å¸¸å¤‡ç»§æ‰¿äººï¼Œä¸å…¶ä»–é¡ºåºçš„è¡€äº²å…±åŒç»§æ‰¿ã€‚</p>
            
            <div class="order-flow">
              <div class="flow-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>ç¬¬ä¸€é¡ºä½ï¼šå­å¥³</h4>
                  <p>åŒ…æ‹¬å©šç”Ÿå­å¥³ã€éå©šç”Ÿå­å¥³ã€å…»å­å¥³ã€èƒå„¿</p>
                  <div class="step-note">é…å¶è€… + å­å¥³</div>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>ç¬¬äºŒé¡ºä½ï¼šç›´ç³»å°Šå±</h4>
                  <p>çˆ¶æ¯ã€ç¥–çˆ¶æ¯ç­‰</p>
                  <div class="step-note">é…å¶è€… + ç›´ç³»å°Šå±</div>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>ç¬¬ä¸‰é¡ºä½ï¼šå…„å¼Ÿå§å¦¹</h4>
                  <p>åŒ…æ‹¬å…¨è¡€ç¼˜å’ŒåŠè¡€ç¼˜å…„å¼Ÿå§å¦¹</p>
                  <div class="step-note">é…å¶è€… + å…„å¼Ÿå§å¦¹</div>
                </div>
              </div>
            </div>
          </div>

          <h3>é‡è¦æ³¨æ„äº‹é¡¹</h3>
          <div class="important-notes">
            <div class="note-item">
              <h4>ğŸš« ä¸åŒ…æ‹¬çš„äººå‘˜</h4>
              <ul>
                <li><strong>å‰é…å¶ï¼š</strong>ç¦»å©šåçš„å‰é…å¶ä¸æ˜¯ç»§æ‰¿äºº</li>
                <li><strong>äº‹å®å©šå§»ï¼š</strong>æœªç™»è®°çš„äº‹å®å©šå§»ä¼´ä¾£ä¸æ˜¯æ³•å®šç»§æ‰¿äºº</li>
                <li><strong>ç»§å­å¥³ï¼š</strong>å†å©šå¯¹è±¡çš„å­å¥³ä¸æ˜¯æ³•å®šç»§æ‰¿äººï¼ˆé™¤éåŠç†æ”¶å…»ï¼‰</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- æ³•å®šç»§æ‰¿åˆ† -->
        <section id="legal-shares" class="content-section">
          <h2>3. æ³•å®šç»§æ‰¿ä»½é¢</h2>
          
          <h3>ç»§æ‰¿ä»½é¢è¡¨</h3>
          <div class="share-table">
            <div class="table-container">
              <table class="shares-table">
                <thead>
                  <tr>
                    <th>ç»§æ‰¿äººç»„åˆ</th>
                    <th>é…å¶è€…ä»½é¢</th>
                    <th>è¡€äº²ä»½é¢</th>
                    <th>å…·ä½“åˆ†é…</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>é…å¶è€… + å­å¥³</strong></td>
                    <td class="share-spouse">1/2</td>
                    <td class="share-relative">1/2</td>
                    <td>å­å¥³å‡åˆ†1/2</td>
                  </tr>
                  <tr>
                    <td><strong>é…å¶è€… + ç›´ç³»å°Šå±</strong></td>
                    <td class="share-spouse">2/3</td>
                    <td class="share-relative">1/3</td>
                    <td>çˆ¶æ¯å‡åˆ†1/3</td>
                  </tr>
                  <tr>
                    <td><strong>é…å¶è€… + å…„å¼Ÿå§å¦¹</strong></td>
                    <td class="share-spouse">3/4</td>
                    <td class="share-relative">1/4</td>
                    <td>å…„å¼Ÿå§å¦¹å‡åˆ†1/4</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <h3>è®¡ç®—æ¡ˆä¾‹</h3>
          <div class="calculation-examples">
            <div class="example-item">
              <h4>æ¡ˆä¾‹1ï¼šé…å¶è€…å’Œ2åå­å¥³</h4>
              <div class="calculation-steps">
                <div class="step">é…å¶è€…ï¼š1/2</div>
                <div class="step">å­å¥³åˆè®¡ï¼š1/2</div>
                <div class="step">æ¯åå­å¥³ï¼š1/2 Ã· 2 = 1/4</div>
              </div>
            </div>
            <div class="example-item">
              <h4>æ¡ˆä¾‹2ï¼šåªæœ‰å­å¥³ï¼ˆæ— é…å¶è€…ï¼‰</h4>
              <div class="calculation-steps">
                <div class="step">å­å¥³å‡åˆ†å…¨éƒ¨é—äº§</div>
                <div class="step">2åå­å¥³ï¼šæ¯äºº1/2</div>
                <div class="step">3åå­å¥³ï¼šæ¯äºº1/3</div>
              </div>
            </div>
            <div class="example-item">
              <h4>æ¡ˆä¾‹3ï¼šé…å¶è€…å’Œçˆ¶æ¯</h4>
              <div class="calculation-steps">
                <div class="step">é…å¶è€…ï¼š2/3</div>
                <div class="step">çˆ¶æ¯åˆè®¡ï¼š1/3</div>
                <div class="step">æ¯åçˆ¶æ¯ï¼š1/3 Ã· 2 = 1/6</div>
              </div>
            </div>
          </div>
        </section>

        <!-- ç»§æ‰¿çš„æ‰¿è®¤ä¸æ”¾å¼ƒ -->
        <section id="acceptance-renunciation" class="content-section">
          <h2>4. ç»§æ‰¿çš„æ‰¿è®¤ä¸æ”¾å¼ƒ</h2>
          
          <h3>ä¸‰ç§é€‰æ‹©</h3>
          <div class="inheritance-choices">
            <div class="choice-item">
              <div class="choice-icon">âœ…</div>
              <div class="choice-content">
                <h4>å•çº¯æ‰¿è®¤</h4>
                <p><strong>æ¥å—å…¨éƒ¨é—äº§å’Œå€ºåŠ¡</strong></p>
                <p>æ— é™è´£ä»»ï¼šç”¨è‡ªå·±è´¢äº§å¿è¿˜è¶…å‡ºé—äº§çš„å€ºåŠ¡</p>
                <div class="choice-note">3ä¸ªæœˆå†…æœªé€‰æ‹©å…¶ä»–æ–¹å¼ï¼Œè§†ä¸ºå•çº¯æ‰¿è®¤</div>
              </div>
            </div>
            <div class="choice-item">
              <div class="choice-icon">âš–ï¸</div>
              <div class="choice-content">
                <h4>é™å®šæ‰¿è®¤</h4>
                <p><strong>ä»¥ç»§æ‰¿æ‰€å¾—é—äº§ä¸ºé™å¿è¿˜å€ºåŠ¡</strong></p>
                <p>æœ‰é™è´£ä»»ï¼šåªç”¨åœ¨ç»§æ‰¿è´¢äº§èŒƒå›´å†…å¿è¿˜å€ºåŠ¡</p>
                <div class="choice-note warning">å¿…é¡»å…¨ä½“ç»§æ‰¿äººå…±åŒé€‰æ‹©</div>
              </div>
            </div>
            <div class="choice-item">
              <div class="choice-icon">âŒ</div>
              <div class="choice-content">
                <h4>ç»§æ‰¿æ”¾å¼ƒ</h4>
                <p><strong>ä¸æ¥å—ä»»ä½•é—äº§å’Œå€ºåŠ¡</strong></p>
                <p>è§†ä¸ºä»ä¸€å¼€å§‹å°±ä¸æ˜¯ç»§æ‰¿äºº</p>
                <div class="choice-note">æ”¾å¼ƒåå…¶å­å¥³ä¸èƒ½ä»£è¢­ç»§æ‰¿</div>
              </div>
            </div>
          </div>

          <h3>é‡è¦æ—¶é—´é™åˆ¶</h3>
          <div class="time-limits">
            <div class="time-limit-item">
              <h4>â° 3ä¸ªæœˆæœŸé™</h4>
              <p>ä»<strong>çŸ¥é“è‡ªå·±æˆä¸ºç»§æ‰¿äººæ—¶</strong>èµ·3ä¸ªæœˆå†…å¿…é¡»å‘å®¶åº­è£åˆ¤æ‰€ç”³è¿°é€‰æ‹©</p>
              <p class="time-note">ä¸æ˜¯ä»è¢«ç»§æ‰¿äººæ­»äº¡æ—¶èµ·ç®—ï¼</p>
            </div>
          </div>
        </section>

        <!-- ä»£è¢­ç»§æ‰¿ -->
        <section id="substitution" class="content-section">
          <h2>5. ä»£è¢­ç»§æ‰¿</h2>
          
          <h3>ä»£è¢­ç»§æ‰¿çš„æ¦‚å¿µ</h3>
          <div class="substitution-concept">
            <p>å½“æœ¬åº”æˆä¸ºç»§æ‰¿äººçš„äººåœ¨è¢«ç»§æ‰¿äººæ­»äº¡å‰å·²ç»æ­»äº¡ï¼Œæˆ–å› æ¬ æ ¼ã€åºŸé™¤è€Œä¸èƒ½ç»§æ‰¿æ—¶ï¼Œç”±å…¶å­å¥³ä»£ä½ç»§æ‰¿ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ ä»£è¢­ç»§æ‰¿æ¡ˆä¾‹</h4>
              <p>Aæ­»äº¡ï¼Œå…¶å„¿å­Båœ¨Aä¹‹å‰å·²æ­»äº¡ã€‚Bæœ‰å­å¥³Cå’ŒDã€‚æ­¤æ—¶Cå’ŒDå¯ä»¥ä»£è¢­Bçš„ç»§æ‰¿æƒï¼Œç»§æ‰¿æœ¬åº”ç”±Bç»§æ‰¿çš„ä»½é¢ã€‚</p>
            </div>
          </div>

          <h3>ä»£è¢­ç»§æ‰¿çš„æ¡ä»¶</h3>
          <div class="substitution-conditions">
            <div class="condition-item">
              <div class="condition-icon">ğŸ’€</div>
              <div class="condition-content">
                <h4>æ­»äº¡</h4>
                <p>ç»§æ‰¿äººåœ¨ç»§æ‰¿å¼€å§‹å‰æ­»äº¡</p>
                <div class="condition-status can-substitute">å¯ä»¥ä»£è¢­</div>
              </div>
            </div>
            <div class="condition-item">
              <div class="condition-icon">ğŸš«</div>
              <div class="condition-content">
                <h4>æ¬ æ ¼</h4>
                <p>å› æ€å®³è¢«ç»§æ‰¿äººç­‰äº‹ç”±ä¸§å¤±ç»§æ‰¿èµ„æ ¼</p>
                <div class="condition-status can-substitute">å¯ä»¥ä»£è¢­</div>
              </div>
            </div>
            <div class="condition-item">
              <div class="condition-icon">âš–ï¸</div>
              <div class="condition-content">
                <h4>åºŸé™¤</h4>
                <p>å› è™å¾…ç­‰äº‹ç”±è¢«å®¶åº­è£åˆ¤æ‰€åºŸé™¤ç»§æ‰¿æƒ</p>
                <div class="condition-status can-substitute">å¯ä»¥ä»£è¢­</div>
              </div>
            </div>
            <div class="condition-item">
              <div class="condition-icon">ğŸ™…</div>
              <div class="condition-content">
                <h4>ç»§æ‰¿æ”¾å¼ƒ</h4>
                <p>ç»§æ‰¿äººä¸»åŠ¨æ”¾å¼ƒç»§æ‰¿æƒ</p>
                <div class="condition-status cannot-substitute">ä¸èƒ½ä»£è¢­</div>
              </div>
            </div>
          </div>

          <h3>ä»£è¢­çš„é™åˆ¶</h3>
          <div class="substitution-limits">
            <div class="limit-item">
              <h4>å…„å¼Ÿå§å¦¹çš„ä»£è¢­</h4>
              <p>å…„å¼Ÿå§å¦¹çš„å­å¥³ï¼ˆä¾„å­ä¾„å¥³ï¼‰å¯ä»¥ä»£è¢­ï¼Œä½†<strong>ä¾„å­ä¾„å¥³çš„å­å¥³ä¸èƒ½å†ä»£è¢­</strong>ã€‚</p>
            </div>
            <div class="limit-item">
              <h4>å­å¥³çš„ä»£è¢­</h4>
              <p>å­å¥³çš„å­å¥³ï¼ˆå­™å­å¥³ï¼‰å¯ä»¥ä»£è¢­ï¼Œå­™å­å¥³çš„å­å¥³ï¼ˆæ›¾å­™å­å¥³ï¼‰ä¹Ÿå¯ä»¥å†ä»£è¢­ï¼Œæ²¡æœ‰ä»£è¢­æ¬¡æ•°é™åˆ¶ã€‚</p>
            </div>
          </div>
        </section>

        <!-- é—å˜± -->
        <section id="testament" class="content-section">
          <h2>6. é—å˜±</h2>
          
          <h3>é—å˜±çš„èƒ½åŠ›å’Œç‰¹å¾</h3>
          <div class="testament-basics">
            <div class="basic-item">
              <h4>é—å˜±èƒ½åŠ›</h4>
              <ul>
                <li><strong>æ»¡15å²</strong>å³å¯ç«‹é—å˜±ï¼ˆä¸éœ€è¦çˆ¶æ¯åŒæ„ï¼‰</li>
                <li>æˆå¹´è¢«åè§äººåœ¨æ„è¯†æ¸…é†’æ—¶ï¼Œæœ‰2åä»¥ä¸ŠåŒ»å¸ˆåœ¨åœºå¯ç«‹é—å˜±</li>
                <li>è¢«ä¿ä½‘äººã€è¢«è¾…åŠ©äººå¯ä»¥å•ç‹¬ç«‹é—å˜±</li>
              </ul>
            </div>
            <div class="basic-item">
              <h4>é—å˜±ç‰¹å¾</h4>
              <ul>
                <li><strong>å•ç‹¬è¡Œä¸ºï¼š</strong>1ä»½é—å˜±åªèƒ½æœ‰1ä¸ªäººçš„æ„æ€è¡¨ç¤º</li>
                <li><strong>æ’¤å›è‡ªç”±ï¼š</strong>éšæ—¶å¯ä»¥æ’¤å›æˆ–å˜æ›´é—å˜±</li>
                <li><strong>åæ³•ä¼˜å…ˆï¼š</strong>å‰åé—å˜±å†²çªæ—¶ï¼Œä»¥åç«‹çš„é—å˜±ä¸ºå‡†</li>
              </ul>
            </div>
          </div>

          <h3>é—å˜±çš„å½¢å¼</h3>
          <div class="testament-forms">
            <div class="table-container">
              <table class="forms-table">
                <thead>
                  <tr>
                    <th>å½¢å¼</th>
                    <th>è‡ªç¬”è¯ä¹¦é—å˜±</th>
                    <th>å…¬æ­£è¯ä¹¦é—å˜±</th>
                    <th>ç§˜å¯†è¯ä¹¦é—å˜±</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>ä½œæˆæ–¹æ³•</strong></td>
                    <td>å…¨æ–‡è‡ªç¬”ï¼ˆè´¢äº§ç›®å½•å¯æ‰“å°ï¼‰</td>
                    <td>å…¬è¯äººç¬”å½•å£è¿°</td>
                    <td>è‡ªç¬”æˆ–æ‰“å°åå¯†å°</td>
                  </tr>
                  <tr>
                    <td><strong>è¯äºº</strong></td>
                    <td>ä¸éœ€è¦</td>
                    <td>2äººä»¥ä¸Š</td>
                    <td>å…¬è¯äºº1äºº+è¯äºº2äºº</td>
                  </tr>
                  <tr>
                    <td><strong>æ£€è®¤</strong></td>
                    <td class="required">åŸåˆ™ä¸Šéœ€è¦</td>
                    <td class="not-required">ä¸éœ€è¦</td>
                    <td class="required">éœ€è¦</td>
                  </tr>
                  <tr>
                    <td><strong>ä¼˜ç‚¹</strong></td>
                    <td>è´¹ç”¨ä½ã€æ–¹ä¾¿</td>
                    <td>å®‰å…¨æ€§é«˜ã€æ‰§è¡ŒåŠ›å¼º</td>
                    <td>å†…å®¹ä¿å¯†</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <h3>é—å˜±çš„æ’¤å›</h3>
          <div class="testament-revocation">
            <div class="revocation-methods">
              <div class="method-item">
                <h4>1. ç”Ÿå‰å¤„åˆ†</h4>
                <p>é—å˜±åç”Ÿå‰å¤„åˆ†ä¸é—å˜±å†…å®¹ç›¸æŠµè§¦çš„è´¢äº§ï¼Œè§†ä¸ºæ’¤å›è¯¥éƒ¨åˆ†é—å˜±</p>
              </div>
              <div class="method-item">
                <h4>2. æ–°é—å˜±</h4>
                <p>ç«‹æ–°é—å˜±æ—¶ï¼Œä¸æ—§é—å˜±æŠµè§¦çš„éƒ¨åˆ†ä»¥æ–°é—å˜±ä¸ºå‡†</p>
              </div>
              <div class="method-item">
                <h4>3. æ•…æ„æ¯å¼ƒ</h4>
                <p>æ•…æ„æ¯å¼ƒé—å˜±ï¼Œè§†ä¸ºæ’¤å›é—å˜±</p>
              </div>
            </div>
          </div>
        </section>

        <!-- é—ç•™åˆ† -->
        <section id="legal-share" class="content-section">
          <h2>7. é—ç•™åˆ†</h2>
          
          <h3>é—ç•™åˆ†çš„æ¦‚å¿µ</h3>
          <div class="legal-share-concept">
            <p>ä¸ºä¿éšœè¿‘äº²å±çš„åŸºæœ¬ç”Ÿæ´»ï¼Œæ³•å¾‹è§„å®šè¢«ç»§æ‰¿äººä¸å¾—é€šè¿‡é—å˜±å®Œå…¨å‰¥å¤ºç‰¹å®šç»§æ‰¿äººçš„æœ€ä½ç»§æ‰¿ä»½é¢ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ é—ç•™åˆ†æ¡ˆä¾‹</h4>
              <p>Aé€šè¿‡é—å˜±å°†å…¨éƒ¨è´¢äº§èµ ä¸æƒ…äººDï¼Œä½†Aæœ‰é…å¶è€…Bå’Œå­å¥³Cã€‚æ­¤æ—¶Bå’ŒCå¯ä»¥è¡Œä½¿é—ç•™åˆ†ä¾µå®³è¯·æ±‚æƒï¼Œè¦æ±‚Dæ”¯ä»˜ç›¸å½“äºå…¶é—ç•™åˆ†ä»½é¢çš„é‡‘é’±ã€‚</p>
            </div>
          </div>

          <h3>é—ç•™åˆ†çš„æ¯”ä¾‹</h3>
          <div class="legal-share-rates">
            <div class="rate-item">
              <h4>åŸºæœ¬åŸåˆ™</h4>
              <p>è¢«ç»§æ‰¿äººè´¢äº§çš„<strong>1/2</strong>ä½œä¸ºé—ç•™åˆ†æ€»é¢</p>
            </div>
            <div class="rate-item">
              <h4>ç›´ç³»å°Šå±å•ç‹¬ç»§æ‰¿</h4>
              <p>åªæœ‰ç›´ç³»å°Šå±æ˜¯ç»§æ‰¿äººæ—¶ï¼Œé—ç•™åˆ†ä¸ºè´¢äº§çš„<strong>1/3</strong></p>
            </div>
            <div class="rate-item">
              <h4>å…„å¼Ÿå§å¦¹</h4>
              <p class="no-share">å…„å¼Ÿå§å¦¹<strong>æ²¡æœ‰é—ç•™åˆ†</strong></p>
            </div>
          </div>

          <h3>é—ç•™åˆ†ä¾µå®³è¯·æ±‚æƒ</h3>
          <div class="legal-share-claim">
            <div class="claim-details">
              <div class="detail-item">
                <h4>æƒåˆ©æ€§è´¨</h4>
                <p>é—ç•™åˆ†è¢«ä¾µå®³çš„ç»§æ‰¿äººå¯ä»¥å‘å—é—èµ äººæˆ–å—èµ äººè¯·æ±‚æ”¯ä»˜ç›¸å½“äºé—ç•™åˆ†ä¾µå®³é¢çš„<strong>é‡‘é’±</strong></p>
              </div>
              <div class="detail-item">
                <h4>æ¶ˆç­æ—¶æ•ˆ</h4>
                <ul>
                  <li>è‡ªçŸ¥æ‚‰ä¾µå®³äº‹å®æ—¶èµ·<strong>1å¹´</strong></li>
                  <li>è‡ªç»§æ‰¿å¼€å§‹æ—¶èµ·<strong>10å¹´</strong></li>
                </ul>
              </div>
              <div class="detail-item">
                <h4>é—ç•™åˆ†æ”¾å¼ƒ</h4>
                <p>å¯ä»¥åœ¨ç»§æ‰¿å¼€å§‹å‰æ”¾å¼ƒé—ç•™åˆ†ï¼Œä½†éœ€è¦<strong>å®¶åº­è£åˆ¤æ‰€çš„è®¸å¯</strong></p>
              </div>
            </div>
          </div>
        </section>

        <!-- é…å¶è€…å±…ä½æƒ -->
        <section id="spouse-residence" class="content-section">
          <h2>8. é…å¶è€…å±…ä½æƒ</h2>
          
          <h3>åˆ¶åº¦çš„å¿…è¦æ€§</h3>
          <div class="residence-necessity">
            <div class="necessity-scenario">
              <h4>ç°å®é—®é¢˜</h4>
              <p>è€å¤´å­Aæ­»äº¡ï¼Œç•™ä¸‹æˆ¿äº§ï¼ˆä»·å€¼2000ä¸‡ï¼‰å’Œå­˜æ¬¾ï¼ˆ1000ä¸‡ï¼‰ã€‚ç»§æ‰¿äººæœ‰å¦»å­Bå’Œå„¿å­Cã€‚</p>
              <div class="problem">
                <p>å¦‚æœBè¦ç»§æ‰¿æˆ¿äº§ï¼Œå°±åªèƒ½æ”¾å¼ƒå¤§éƒ¨åˆ†å­˜æ¬¾ï¼Œç”Ÿæ´»å›°éš¾ã€‚</p>
                <p>å¦‚æœå–æ‰æˆ¿äº§åˆ†é’±ï¼ŒBå°±æ— å®¶å¯å½’ã€‚</p>
              </div>
            </div>
          </div>

          <h3>é…å¶è€…å±…ä½æƒçš„è§£å†³æ–¹æ¡ˆ</h3>
          <div class="residence-solution">
            <div class="solution-steps">
              <div class="solution-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>æƒåˆ©åˆ†å‰²</h4>
                  <p>å°†æˆ¿äº§æƒåˆ©åˆ†å‰²ä¸º<strong>æ‰€æœ‰æƒ</strong>å’Œ<strong>å±…ä½æƒ</strong></p>
                </div>
              </div>
              <div class="solution-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>æƒåˆ©åˆ†é…</h4>
                  <p>Bå–å¾—å±…ä½æƒï¼ˆè¯„ä»·é¢1000ä¸‡ï¼‰ï¼ŒCå–å¾—é™„å¸¦å±…ä½æƒçš„æ‰€æœ‰æƒï¼ˆè¯„ä»·é¢1000ä¸‡ï¼‰</p>
                </div>
              </div>
              <div class="solution-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>å…¬å¹³åˆ†å‰²</h4>
                  <p>Bå†å–å¾—500ä¸‡å­˜æ¬¾ï¼ŒCå–å¾—500ä¸‡å­˜æ¬¾ï¼ŒåŒæ–¹å„å¾—1500ä¸‡</p>
                </div>
              </div>
            </div>
            <div class="solution-result">
              <p><strong>ç»“æœï¼š</strong>Bå¯ä»¥ç»ˆèº«æ— å¿å±…ä½ï¼ŒCåœ¨Bæ­»åå–å¾—å®Œæ•´æ‰€æœ‰æƒï¼Œå­˜æ¬¾åˆ†é…å…¬å¹³ã€‚</p>
            </div>
          </div>

          <h3>ä¸¤ç§å±…ä½æƒçš„æ¯”è¾ƒ</h3>
          <div class="residence-comparison">
            <div class="table-container">
              <table class="comparison-table">
                <thead>
                  <tr>
                    <th>é¡¹ç›®</th>
                    <th>é…å¶è€…å±…ä½æƒ</th>
                    <th>é…å¶è€…çŸ­æœŸå±…ä½æƒ</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>è´¹ç”¨</strong></td>
                    <td>æ— å¿</td>
                    <td>æ— å¿</td>
                  </tr>
                  <tr>
                    <td><strong>é€‚ç”¨èŒƒå›´</strong></td>
                    <td>å±…ä½å»ºç‰©å…¨éƒ¨</td>
                    <td>å±…ä½å»ºç‰©çš„å…¨éƒ¨æˆ–ä¸€éƒ¨</td>
                  </tr>
                  <tr>
                    <td><strong>å­˜ç»­æœŸé—´</strong></td>
                    <td>åŸåˆ™ç»ˆèº«</td>
                    <td>ä¸€å®šçŸ­æœŸæœŸé—´ï¼ˆæœ€é•¿6ä¸ªæœˆï¼‰</td>
                  </tr>
                  <tr>
                    <td><strong>æƒåˆ©å†…å®¹</strong></td>
                    <td>ä½¿ç”¨ã€æ”¶ç›Š</td>
                    <td>ä½¿ç”¨</td>
                  </tr>
                  <tr>
                    <td><strong>å¯¹æŠ—è¦ä»¶</strong></td>
                    <td>ç™»è®°</td>
                    <td>ä¸å¯å¯¹æŠ—</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <h3>é…å¶è€…å±…ä½æƒçš„é™åˆ¶</h3>
          <div class="residence-limits">
            <div class="limit-item">
              <h4>ğŸš« ä¸èƒ½æˆç«‹çš„æƒ…å†µ</h4>
              <ul>
                <li>æˆ¿å±‹ä¸ºè¢«ç»§æ‰¿äººä¸ä»–äººå…±æœ‰</li>
                <li>é…å¶è€…å±…ä½æƒ<strong>ä¸èƒ½è®©æ¸¡ã€ä¸èƒ½ç»§æ‰¿</strong></li>
                <li>å‡ºç§Ÿæˆ¿å±‹éœ€è¦æ‰€æœ‰æƒäººåŒæ„</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=succession" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=succession" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'legal-heirs', title: 'æ³•å®šç»§æ‰¿äºº', icon: 'ğŸ‘¥' },
  { id: 'legal-shares', title: 'æ³•å®šç»§æ‰¿åˆ†', icon: 'ğŸ“Š' },
  { id: 'acceptance-renunciation', title: 'æ‰¿è®¤ä¸æ”¾å¼ƒ', icon: 'âš–ï¸' },
  { id: 'substitution', title: 'ä»£è¢­ç»§æ‰¿', icon: 'ğŸ”' },
  { id: 'testament', title: 'é—å˜±', icon: 'ğŸ“œ' },
  { id: 'legal-share', title: 'é—ç•™åˆ†', icon: 'ğŸ›¡ï¸' },
  { id: 'spouse-residence', title: 'é…å¶è€…å±…ä½æƒ', icon: 'ğŸ ' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'ç›¸ç¶šï¼ˆãã†ããï¼‰',
    chinese: 'ç»§æ‰¿',
    explanation: 'è¢«ç»§æ‰¿äººæ­»äº¡åï¼Œå…¶æƒåˆ©ä¹‰åŠ¡ç”±ç»§æ‰¿äººæ¦‚æ‹¬æ‰¿å—çš„æ³•å¾‹åˆ¶åº¦',
    example: 'Aæ­»äº¡åï¼Œå…¶è´¢äº§å’Œå€ºåŠ¡ç”±å­å¥³Bå’ŒCç»§æ‰¿'
  },
  {
    japanese: 'æ³•å®šç›¸ç¶šäººï¼ˆã»ã†ã¦ã„ãã†ããã«ã‚“ï¼‰',
    chinese: 'æ³•å®šç»§æ‰¿äºº',
    explanation: 'æ³•å¾‹è§„å®šçš„æœ‰æƒç»§æ‰¿é—äº§çš„äººï¼ŒæŒ‰é¡ºåºåŒ…æ‹¬é…å¶ã€å­å¥³ã€çˆ¶æ¯ã€å…„å¼Ÿå§å¦¹',
    example: 'é…å¶è€…å¸¸å¤‡ç»§æ‰¿äººï¼Œä¸ç¬¬ä¸€é¡ºä½å­å¥³ã€ç¬¬äºŒé¡ºä½çˆ¶æ¯æˆ–ç¬¬ä¸‰é¡ºä½å…„å¼Ÿå§å¦¹å…±åŒç»§æ‰¿'
  },
  {
    japanese: 'éºç•™åˆ†ï¼ˆã„ã‚Šã‚…ã†ã¶ã‚“ï¼‰',
    chinese: 'é—ç•™åˆ†',
    explanation: 'ä¸ºä¿éšœè¿‘äº²å±ç”Ÿæ´»ï¼Œæ³•å¾‹è§„å®šè¢«ç»§æ‰¿äººä¸å¾—é€šè¿‡é—å˜±å®Œå…¨å‰¥å¤ºçš„æœ€ä½ç»§æ‰¿ä»½é¢',
    example: 'å³ä½¿é—å˜±å°†å…¨éƒ¨è´¢äº§ç»™æƒ…äººï¼Œé…å¶å’Œå­å¥³ä»å¯è¯·æ±‚ç›¸å½“äºé—ç•™åˆ†ä»½é¢çš„é‡‘é’±'
  },
  {
    japanese: 'é…å¶è€…å±…ä½æ¨©ï¼ˆã¯ã„ãã†ã—ã‚ƒãã‚‡ã˜ã‚…ã†ã‘ã‚“ï¼‰',
    chinese: 'é…å¶è€…å±…ä½æƒ',
    explanation: 'ä¿éšœé…å¶åœ¨ç»§æ‰¿å¼€å§‹åèƒ½å¤Ÿç»§ç»­åœ¨åŸæœ‰ä½å®…ä¸­å±…ä½çš„æƒåˆ©',
    example: 'è€å¤´å­æ­»äº¡åï¼Œè€å¤ªå¤ªå¯ä»¥ç»ˆèº«æ— å¿å±…ä½åœ¨åŸæœ‰æˆ¿å±‹ä¸­'
  },
  {
    japanese: 'ä»£è¥²ç›¸ç¶šï¼ˆã ã„ã—ã‚…ã†ãã†ããï¼‰',
    chinese: 'ä»£è¢­ç»§æ‰¿',
    explanation: 'å½“æœ¬åº”ç»§æ‰¿çš„äººå…ˆäºè¢«ç»§æ‰¿äººæ­»äº¡æˆ–å› æ¬ æ ¼ã€åºŸé™¤ä¸èƒ½ç»§æ‰¿æ—¶ï¼Œç”±å…¶å­å¥³ä»£ä½ç»§æ‰¿',
    example: 'å„¿å­å…ˆäºçˆ¶äº²æ­»äº¡ï¼Œå­™å­å¯ä»¥ä»£ä½ç»§æ‰¿å„¿å­çš„åº”ç»§ä»½'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'è¢«ç›¸ç¶šäººã®å­ãŒã€ç›¸ç¶šã®é–‹å§‹å¾Œã«ç›¸ç¶šæ”¾æ£„ã‚’ã—ãŸå ´åˆã€ãã®è€…ã®å­ãŒã“ã‚Œã‚’ä»£è¥²ã—ã¦ç›¸ç¶šäººã¨ãªã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'ç»§æ‰¿æ”¾å¼ƒçš„æƒ…å†µä¸‹ï¼Œæ”¾å¼ƒäººçš„å­å¥³ä¸èƒ½ä»£è¢­ç»§æ‰¿ã€‚åªæœ‰å› æ­»äº¡ã€æ¬ æ ¼ã€åºŸé™¤ä¸èƒ½ç»§æ‰¿æ—¶æ‰èƒ½ä»£è¢­ã€‚'
  },
  {
    question: 'ç”²å»ºç‰©ã‚’æ‰€æœ‰ã™ã‚‹AãŒæ­»äº¡ã—ã€ç›¸ç¶šäººãŒãã‚Œãã‚ŒAã®å­ã§ã‚ã‚‹BåŠã³Cã®2åã§ã‚ã‚‹å ´åˆã«é–¢ã—ã¦ã€CãŒå˜ç´”æ‰¿èªã‚’ã—ãŸã¨ãã¯ã€Bã¯é™å®šæ‰¿èªã‚’ã™ã‚‹ã“ã¨ãŒã§ããªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'é™å®šæ‰¿è®¤å¿…é¡»ç”±å…¨ä½“ç»§æ‰¿äººå…±åŒé€‰æ‹©ï¼Œå¦‚æœå…¶ä¸­ä¸€äººå·²é€‰æ‹©å•çº¯æ‰¿è®¤ï¼Œå…¶ä»–äººå°±ä¸èƒ½é€‰æ‹©é™å®šæ‰¿è®¤ã€‚'
  },
  {
    question: 'æº€15æ­³ã«é”ã—ãŸè€…ã¯ã€çˆ¶æ¯ã®åŒæ„ã‚’å¾—ãªãã¦ã‚‚ã€éºè¨€ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'å¹´æ»¡15å²å³å¯ç«‹é—å˜±ï¼Œä¸éœ€è¦çˆ¶æ¯åŒæ„ã€‚è¿™æ˜¯é—å˜±èƒ½åŠ›çš„ç‰¹æ®Šè§„å®šã€‚'
  },
  {
    question: 'å¤«å©¦åˆã¯è¡€ç¸é–¢ä¿‚ãŒã‚ã‚‹è€…ã¯ã€åŒä¸€ã®è¨¼æ›¸ã§æœ‰åŠ¹ã«éºè¨€ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'é—å˜±æ˜¯å•ç‹¬è¡Œä¸ºï¼Œ1ä»½é—å˜±åªèƒ½æœ‰1ä¸ªäººçš„æ„æ€è¡¨ç¤ºï¼Œå¤«å¦»æˆ–è¡€äº²ä¸èƒ½åœ¨åŒä¸€ä»½é—å˜±ä¸­å…±åŒç«‹é—å˜±ã€‚'
  },
  {
    question: 'è¢«ç›¸ç¶šäººAã®é…å¶è€…Bã¨Aã®å¼ŸCã®ã¿ãŒç›¸ç¶šäººã§ã‚ã‚Šã€AãŒä»–äººDã«éºç”£å…¨éƒ¨ã‚’éºè´ˆã—ãŸã¨ãã€Bã®éºç•™åˆ†ã¯éºç”£ã®8åˆ†ã®3ã€Cã®éºç•™åˆ†ã¯éºç”£ã®8åˆ†ã®1ã§ã‚ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'å…„å¼Ÿå§å¦¹æ²¡æœ‰é—ç•™åˆ†ã€‚æ­¤æ¡ˆä¾‹ä¸­åªæœ‰é…å¶è€…Bæœ‰é—ç•™åˆ†ï¼Œä¸ºé—äº§çš„1/2ï¼ˆé…å¶è€…3/4 Ã— é—ç•™åˆ†1/2 = 3/8ï¼‰ï¼Œå¼Ÿå¼ŸCæ²¡æœ‰é—ç•™åˆ†ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('succession', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('succession')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('succession')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('succession', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.succession-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-explanation {
  margin-bottom: 2rem;
}

.example-box {
  background: #f0f7ff;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
  border-left: 4px solid #2a7960;
}

.example-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.effect-timing {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.timing-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.timing-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.timing-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timing-content p {
  margin: 0;
  color: #6c757d;
}

/* ========= æ³•å®šç»§æ‰¿äººæ ·å¼ ========= */
.heir-order {
  margin-bottom: 2rem;
}

.order-flow {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.flow-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
}

.step-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.step-content p {
  margin: 0 0 1rem 0;
  font-size: 0.875rem;
  color: #6c757d;
}

.step-note {
  padding: 0.5rem;
  background: #e9f7f0;
  border-radius: 4px;
  font-size: 0.875rem;
  color: #2a7960;
  font-weight: bold;
}

.important-notes {
  margin: 1.5rem 0;
}

.note-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.note-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.note-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.note-item li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= æ³•å®šç»§æ‰¿ä»½é¢æ ·å¼ ========= */
.share-table {
  margin: 1.5rem 0;
}

.table-container {
  overflow-x: auto;
}

.shares-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.shares-table th, .shares-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.shares-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.shares-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.share-spouse {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
}

.share-relative {
  background-color: #eef7ff !important;
  color: #1565c0;
  font-weight: bold;
}

.calculation-examples {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.example-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.example-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.calculation-steps {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.step {
  padding: 0.5rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

/* ========= ç»§æ‰¿æ‰¿è®¤ä¸æ”¾å¼ƒæ ·å¼ ========= */
.inheritance-choices {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.choice-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.choice-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.choice-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.choice-content p {
  margin: 0.25rem 0;
}

.choice-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

.choice-note.warning {
  background: #fff9e6;
  border-left: 3px solid #ffcc00;
}

.time-limits {
  margin: 2rem 0;
}

.time-limit-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.time-limit-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.time-note {
  margin-top: 0.5rem;
  font-size: 0.875rem;
  color: #6c757d;
  font-style: italic;
}

/* ========= ä»£è¢­ç»§æ‰¿æ ·å¼ ========= */
.substitution-concept {
  margin-bottom: 2rem;
}

.substitution-conditions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.condition-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.condition-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.condition-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.condition-content p {
  margin: 0;
  color: #6c757d;
}

.condition-status {
  margin-top: 1rem;
  padding: 0.5rem;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
  text-align: center;
}

.condition-status.can-substitute {
  background: #e7f7e7;
  color: #2e7d32;
}

.condition-status.cannot-substitute {
  background: #ffe7e7;
  color: #c62828;
}

.substitution-limits {
  margin: 2rem 0;
}

.limit-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 1rem;
}

.limit-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= é—å˜±æ ·å¼ ========= */
.testament-basics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.basic-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.basic-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.basic-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.basic-item li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.testament-forms {
  margin: 2rem 0;
}

.forms-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.forms-table th, .forms-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.forms-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.forms-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.required {
  background-color: #fff9e6 !important;
  color: #e65100;
  font-weight: bold;
}

.not-required {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
}

.testament-revocation {
  margin: 2rem 0;
}

.revocation-methods {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.method-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.method-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= é—ç•™åˆ†æ ·å¼ ========= */
.legal-share-concept {
  margin-bottom: 2rem;
}

.legal-share-rates {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.rate-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.rate-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.rate-item p {
  margin: 0;
  font-weight: bold;
}

.no-share {
  color: #c62828 !important;
}

.legal-share-claim {
  margin: 2rem 0;
}

.claim-details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.detail-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.detail-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.detail-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.detail-item li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= é…å¶è€…å±…ä½æƒæ ·å¼ ========= */
.residence-necessity {
  margin-bottom: 2rem;
}

.necessity-scenario {
  padding: 1.5rem;
  background: #f0f7ff;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
}

.necessity-scenario h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.problem {
  margin-top: 1rem;
  padding: 1rem;
  background: #ffe7e7;
  border-radius: 4px;
}

.residence-solution {
  margin: 2rem 0;
}

.solution-steps {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.solution-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.solution-step .step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
}

.solution-step h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.solution-result {
  padding: 1.5rem;
  background: #e7f7e7;
  border-radius: 8px;
  text-align: center;
  font-weight: bold;
}

.residence-comparison {
  margin: 2rem 0;
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.comparison-table th, .comparison-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.comparison-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.comparison-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.residence-limits {
  margin: 2rem 0;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .effect-timing {
    grid-template-columns: 1fr;
  }
  
  .order-flow {
    grid-template-columns: 1fr;
  }
  
  .calculation-examples {
    grid-template-columns: 1fr;
  }
  
  .inheritance-choices {
    grid-template-columns: 1fr;
  }
  
  .substitution-conditions {
    grid-template-columns: 1fr;
  }
  
  .testament-basics {
    grid-template-columns: 1fr;
  }
  
  .legal-share-rates {
    grid-template-columns: 1fr;
  }
  
  .claim-details {
    grid-template-columns: 1fr;
  }
  
  .solution-steps {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
}
</style>