<!-- src/views/notes/rights/GuaranteeAndJointDebt.vue -->
<template>
  <div class="guarantee-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>ä¿è¯ä¸è¿å¸¦å€ºåŠ¡</span>
        </div>
        <h1>ä¿è¯ä¸è¿å¸¦å€ºåŠ¡</h1>
        <p>æ—¥æœ¬æ°‘æ³•ä¸­çš„ä¿è¯åˆ¶åº¦ã€è¿å¸¦ä¿è¯ã€è¿å¸¦å€ºåŠ¡ç­‰é‡è¦æ¦‚å¿µï¼Œæ¶‰åŠä¿è¯äººçš„æƒåˆ©ä¹‰åŠ¡ã€å€ºåŠ¡æ€§è´¨åŠå®åŠ¡è¦ç‚¹</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">15</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">45åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£ä¿è¯å€ºåŠ¡çš„åŸºæœ¬æ¦‚å¿µå’Œæˆç«‹è¦ä»¶</li>
            <li>æŒæ¡ä¿è¯å€ºåŠ¡çš„ä¸‰å¤§æ€§è´¨ï¼šä»˜ä»æ€§ã€éšä¼´æ€§ã€è¡¥å……æ€§</li>
            <li>ç†Ÿæ‚‰æ™®é€šä¿è¯ä¸è¿å¸¦ä¿è¯çš„åŒºåˆ«</li>
            <li>äº†è§£è¿å¸¦å€ºåŠ¡çš„æ•ˆåŠ›åŸåˆ™å’Œä¾‹å¤–</li>
            <li>æŒæ¡ä¿è¯äººå’Œè¿å¸¦ä¿è¯äººçš„æŠ—è¾©æƒ</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- ä¿è¯å€ºåŠ¡åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. ä¿è¯å€ºåŠ¡çš„åŸºæœ¬æ¦‚å¿µ</h2>
          
          <h3>ä¿è¯çš„å®šä¹‰</h3>
          <div class="concept-explanation">
            <p>ä¿è¯æ˜¯æŒ‡å½“<strong>ä¸»å€ºåŠ¡äºº</strong>æ— æ³•å¿è¿˜å€ºåŠ¡æ—¶ï¼Œç”±<strong>ä¿è¯äºº</strong>ä»£ä¸ºå±¥è¡Œå€ºåŠ¡çš„å¥‘çº¦ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ ä¿è¯å…³ç³»ç¤ºæ„å›¾</h4>
              <div class="relationship-diagram">
                <div class="relationship-item">
                  <div class="role">å€ºæƒäºº A</div>
                  <div class="arrow">â† å€Ÿæ¬¾å…³ç³» â†’</div>
                  <div class="role">ä¸»å€ºåŠ¡äºº B</div>
                </div>
                <div class="relationship-item">
                  <div class="role">å€ºæƒäºº A</div>
                  <div class="arrow">â† ä¿è¯å…³ç³» â†’</div>
                  <div class="role">ä¿è¯äºº C</div>
                </div>
                <div class="note">* å³ä½¿Båå¯¹ï¼ŒAå’ŒCä»å¯ç­¾è®¢ä¿è¯å¥‘çº¦</div>
              </div>
            </div>
          </div>

          <h3>ä¿è¯å¥‘çº¦çš„æˆç«‹è¦ä»¶</h3>
          <div class="effect-timing">
            <div class="timing-item">
              <div class="timing-icon">ğŸ“</div>
              <div class="timing-content">
                <h4>ä¹¦é¢å½¢å¼</h4>
                <p>ä¿è¯å¥‘çº¦å¿…é¡»é‡‡ç”¨<strong>ä¹¦é¢å½¢å¼</strong>æˆ–<strong>ç”µç£è®°å½•</strong></p>
                <div class="timing-note">å£å¤´ä¿è¯å¥‘çº¦æ— æ•ˆ</div>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ‘¤</div>
              <div class="timing-content">
                <h4>å¥‘çº¦å½“äº‹äºº</h4>
                <p>å€ºæƒäººä¸ä¿è¯äººä¹‹é—´çš„å¥‘çº¦</p>
                <div class="timing-note">ä¸éœ€è¦ä¸»å€ºåŠ¡äººçš„åŒæ„</div>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ’¼</div>
              <div class="timing-content">
                <h4>ä¿è¯äººèµ„æ ¼</h4>
                <p>åŸåˆ™ä¸Šä»»ä½•äººéƒ½å¯æˆä¸ºä¿è¯äºº</p>
                <div class="timing-note">ä½†å¯èƒ½æœ‰ç‰¹æ®Šé™åˆ¶</div>
              </div>
            </div>
          </div>
        </section>

        <!-- ä¿è¯å€ºåŠ¡çš„æ€§è´¨ -->
        <section id="guarantee-properties" class="content-section">
          <h2>2. ä¿è¯å€ºåŠ¡çš„æ€§è´¨</h2>
          
          <h3>ä»˜ä»æ€§ï¼ˆå¾“å±æ€§ï¼‰</h3>
          <div class="property-explanation">
            <p>ä¿è¯å€ºåŠ¡ä»¥ä¸»å€ºåŠ¡çš„å­˜åœ¨ä¸ºå‰æï¼Œéšä¸»å€ºåŠ¡çš„å˜åŠ¨è€Œå˜åŠ¨ã€‚</p>
            
            <div class="property-cases">
              <div class="case-item">
                <h4>ä¸»å€ºåŠ¡ä¸æˆç«‹</h4>
                <div class="case-content">
                  <div class="case-scenario">å€Ÿæ¬¾å¤±è´¥ â†’ ä¿è¯å€ºåŠ¡ä¹Ÿä¸æˆç«‹</div>
                  <div class="case-result">âŒ ä¿è¯æ— æ•ˆ</div>
                </div>
              </div>
              <div class="case-item">
                <h4>ä¸»å€ºåŠ¡æ¶ˆç­</h4>
                <div class="case-content">
                  <div class="case-scenario">ä¸»å€ºåŠ¡äººè¿˜æ¸…å€ºåŠ¡ â†’ ä¿è¯å€ºåŠ¡ä¹Ÿæ¶ˆç­</div>
                  <div class="case-result">âœ… ä¿è¯ç»ˆæ­¢</div>
                </div>
              </div>
              <div class="case-item">
                <h4>ä¸»å€ºåŠ¡å‡é¢</h4>
                <div class="case-content">
                  <div class="case-scenario">ä¸»å€ºåŠ¡ä»1000ä¸‡å‡è‡³800ä¸‡</div>
                  <div class="case-result">â¬‡ï¸ ä¿è¯å€ºåŠ¡ä¹Ÿå‡è‡³800ä¸‡</div>
                </div>
              </div>
            </div>
          </div>

          <h3>éšä¼´æ€§</h3>
          <div class="accompaniment-explanation">
            <p>å½“ä¸»å€ºåŠ¡è½¬ç§»æ—¶ï¼Œä¿è¯å€ºåŠ¡ä¹Ÿéšä¹‹è½¬ç§»ã€‚</p>
            
            <div class="transfer-diagram">
              <div class="transfer-step">
                <div class="step-label">åŸå€ºæƒå…³ç³»</div>
                <div class="step-entities">
                  <div class="entity">å€ºæƒäºº A</div>
                  <div class="arrow">â†å€ºæƒâ†’</div>
                  <div class="entity">ä¸»å€ºåŠ¡äºº B</div>
                  <div class="arrow">â†ä¿è¯â†’</div>
                  <div class="entity">ä¿è¯äºº C</div>
                </div>
              </div>
              <div class="transfer-step">
                <div class="step-label">å€ºæƒè®©æ¸¡å</div>
                <div class="step-entities">
                  <div class="entity">æ–°å€ºæƒäºº D</div>
                  <div class="arrow">â†å€ºæƒâ†’</div>
                  <div class="entity">ä¸»å€ºåŠ¡äºº B</div>
                  <div class="arrow">â†ä¿è¯â†’</div>
                  <div class="entity">ä¿è¯äºº C</div>
                </div>
              </div>
            </div>
          </div>

          <h3>è¡¥å……æ€§</h3>
          <div class="supplementary-explanation">
            <p>ä¿è¯äººåªæœ‰åœ¨ä¸»å€ºåŠ¡äººæ— æ³•å±¥è¡Œå€ºåŠ¡æ—¶æ‰æ‰¿æ‹…ä¿è¯è´£ä»»ã€‚</p>
            
            <div class="rights-comparison">
              <div class="right-item">
                <h4>å‚¬å‘Šçš„æŠ—è¾©æƒ</h4>
                <div class="right-content">
                  <p>"è¯·å…ˆå‘ä¸»å€ºåŠ¡äººè¯·æ±‚ï¼"</p>
                  <div class="right-note">å€ºæƒäººæœªå‘ä¸»å€ºåŠ¡äººè¯·æ±‚å³å‘ä¿è¯äººè¯·æ±‚æ—¶ï¼Œä¿è¯äººå¯ä»¥æ‹’ç»</div>
                </div>
              </div>
              <div class="right-item">
                <h4>æ£€ç´¢çš„æŠ—è¾©æƒ</h4>
                <div class="right-content">
                  <p>"ä¸»å€ºåŠ¡äººæœ‰è´¢äº§ï¼Œè¯·å…ˆæ‰§è¡Œä»–çš„è´¢äº§ï¼"</p>
                  <div class="right-note">ä¿è¯äººå¯ä»¥è¯æ˜ä¸»å€ºåŠ¡äººæœ‰æ¸…å¿èƒ½åŠ›å¹¶è¦æ±‚å…ˆæ‰§è¡Œä¸»å€ºåŠ¡äººè´¢äº§</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- å…±åŒä¿è¯ä¸åˆ†åˆ«åˆ©ç›Š -->
        <section id="joint-guarantee" class="content-section">
          <h2>3. å…±åŒä¿è¯ä¸åˆ†åˆ«åˆ©ç›Š</h2>
          
          <h3>åˆ†åˆ«çš„åˆ©ç›Š</h3>
          <div class="benefit-explanation">
            <p>å½“æœ‰å¤šä¸ªä¿è¯äººæ—¶ï¼Œå„ä¿è¯äººåªæ‰¿æ‹…æŒ‰äººæ•°å¹³åˆ†çš„ä¿è¯è´£ä»»ã€‚</p>
            
            <div class="benefit-example">
              <h4>æ¡ˆä¾‹ï¼š1000ä¸‡å€ºåŠ¡ï¼Œ2åä¿è¯äºº</h4>
              <div class="calculation">
                <div class="calc-step">æ€»å€ºåŠ¡ï¼š1000ä¸‡å††</div>
                <div class="calc-step">ä¿è¯äººæ•°ï¼š2äºº</div>
                <div class="calc-step result">æ¯äººä¿è¯å€ºåŠ¡ï¼š1000ä¸‡ Ã· 2 = 500ä¸‡å††</div>
              </div>
              
              <div class="diagram">
                <div class="creditor">å€ºæƒäºº</div>
                <div class="debtor">ä¸»å€ºåŠ¡äºº<br>å€ºåŠ¡1000ä¸‡</div>
                <div class="guarantors">
                  <div class="guarantor">ä¿è¯äººA<br>ä¿è¯å€ºåŠ¡500ä¸‡</div>
                  <div class="guarantor">ä¿è¯äººB<br>ä¿è¯å€ºåŠ¡500ä¸‡</div>
                </div>
              </div>
            </div>
          </div>

          <h3>æ ¹ä¿è¯ï¼ˆæœ€é«˜é¢ä¿è¯ï¼‰</h3>
          <div class="root-guarantee">
            <div class="root-concept">
              <h4>æ¦‚å¿µ</h4>
              <p>å¯¹<strong>ä¸€å®šæœŸé—´å†…è¿ç»­å‘ç”Ÿçš„ä¸ç‰¹å®šå€ºåŠ¡</strong>æä¾›ä¿è¯ï¼Œå¦‚ç§ŸèµåˆåŒä¸­çš„ç§Ÿé‡‘ã€åŸçŠ¶æ¢å¤è´¹ç”¨ç­‰ã€‚</p>
            </div>
            
            <div class="root-requirements">
              <h4>ä¸ªäººæ ¹ä¿è¯çš„ç‰¹æ®Šè¦æ±‚</h4>
              <div class="requirements-list">
                <div class="req-item">
                  <div class="req-icon">âš ï¸</div>
                  <div class="req-content">
                    <strong>å¿…é¡»è®¾å®šä¸Šé™é¢ï¼ˆæé¢åº¦ï¼‰</strong>
                    <p>æœªè®¾å®šä¸Šé™é¢çš„æ ¹ä¿è¯å¥‘çº¦æ— æ•ˆ</p>
                  </div>
                </div>
                <div class="req-item">
                  <div class="req-icon">ğŸ’¼</div>
                  <div class="req-content">
                    <strong>ä»…é€‚ç”¨äºä¸ªäºº</strong>
                    <p>æ³•äººä¸å—æ­¤é™åˆ¶ï¼Œæ— éœ€è®¾å®šä¸Šé™é¢</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- è¿å¸¦ä¿è¯ -->
        <section id="joint-guarantee-detail" class="content-section">
          <h2>4. è¿å¸¦ä¿è¯</h2>
          
          <h3>è¿å¸¦ä¿è¯çš„ç‰¹ç‚¹</h3>
          <div class="joint-features">
            <p>è¿å¸¦ä¿è¯ä¹Ÿæ˜¯ä¿è¯çš„ä¸€ç§ï¼Œä½†æ¯”æ™®é€šä¿è¯å¯¹å€ºæƒäººæ›´æœ‰åˆ©ã€‚</p>
            
            <div class="feature-comparison">
              <div class="comparison-item">
                <h4>æ™®é€šä¿è¯</h4>
                <div class="feature-list">
                  <div class="feature">âœ… æœ‰å‚¬å‘ŠæŠ—è¾©æƒ</div>
                  <div class="feature">âœ… æœ‰æ£€ç´¢æŠ—è¾©æƒ</div>
                  <div class="feature">âœ… æœ‰åˆ†åˆ«åˆ©ç›Š</div>
                </div>
              </div>
              <div class="comparison-item">
                <h4>è¿å¸¦ä¿è¯</h4>
                <div class="feature-list">
                  <div class="feature missing">âŒ æ— å‚¬å‘ŠæŠ—è¾©æƒ</div>
                  <div class="feature missing">âŒ æ— æ£€ç´¢æŠ—è¾©æƒ</div>
                  <div class="feature missing">âŒ æ— åˆ†åˆ«åˆ©ç›Š</div>
                </div>
              </div>
            </div>
          </div>

          <h3>æ— åˆ†åˆ«åˆ©ç›Šçš„å«ä¹‰</h3>
          <div class="no-benefit-explanation">
            <p>è¿å¸¦ä¿è¯äººå³ä½¿æœ‰å¤šä¸ªï¼Œæ¯ä¸ªä¿è¯äººéƒ½å¯¹<strong>å…¨éƒ¨å€ºåŠ¡</strong>æ‰¿æ‹…è´£ä»»ã€‚</p>
            
            <div class="joint-example">
              <h4>æ¡ˆä¾‹ï¼š1000ä¸‡å€ºåŠ¡ï¼Œ2åè¿å¸¦ä¿è¯äºº</h4>
              <div class="calculation">
                <div class="calc-step">æ€»å€ºåŠ¡ï¼š1000ä¸‡å††</div>
                <div class="calc-step">è¿å¸¦ä¿è¯äººæ•°ï¼š2äºº</div>
                <div class="calc-step result">æ¯äººä¿è¯å€ºåŠ¡ï¼š1000ä¸‡å††ï¼ˆå…¨é¢ï¼‰</div>
              </div>
              
              <div class="diagram">
                <div class="creditor">å€ºæƒäºº</div>
                <div class="debtor">ä¸»å€ºåŠ¡äºº<br>å€ºåŠ¡1000ä¸‡</div>
                <div class="guarantors joint">
                  <div class="guarantor">è¿å¸¦ä¿è¯äººA<br>ä¿è¯å€ºåŠ¡1000ä¸‡</div>
                  <div class="guarantor">è¿å¸¦ä¿è¯äººB<br>ä¿è¯å€ºåŠ¡1000ä¸‡</div>
                </div>
              </div>
            </div>
          </div>

          <h3>ç»å¯¹æ•ˆä¸ç›¸å¯¹æ•ˆ</h3>
          <div class="effect-comparison">
            <div class="effect-item">
              <h4>æ™®é€šä¿è¯</h4>
              <div class="effect-content">
                <p><strong>ç»å¯¹æ•ˆäº‹ç”±ï¼ˆå½±å“ä¸»å€ºåŠ¡äººï¼‰ï¼š</strong></p>
                <ul>
                  <li>å¼æµï¼ˆæ¸…å¿ï¼‰</li>
                  <li>ç›¸æ€ï¼ˆæŠµé”€ï¼‰</li>
                </ul>
              </div>
            </div>
            <div class="effect-item">
              <h4>è¿å¸¦ä¿è¯</h4>
              <div class="effect-content">
                <p><strong>ç»å¯¹æ•ˆäº‹ç”±ï¼ˆå½±å“ä¸»å€ºåŠ¡äººï¼‰ï¼š</strong></p>
                <ul>
                  <li>å¼æµï¼ˆæ¸…å¿ï¼‰</li>
                  <li>ç›¸æ€ï¼ˆæŠµé”€ï¼‰</li>
                  <li>æ··åŒ</li>
                  <li>æ›´æ”¹</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- è¿å¸¦å€ºåŠ¡ -->
        <section id="joint-debt" class="content-section">
          <h2>5. è¿å¸¦å€ºåŠ¡</h2>
          
          <h3>è¿å¸¦å€ºåŠ¡çš„æ¦‚å¿µ</h3>
          <div class="joint-debt-concept">
            <p>å¤šä¸ªå€ºåŠ¡äººå¯¹åŒä¸€å€ºåŠ¡å„è‡ªæ‰¿æ‹…<strong>å…¨éƒ¨å±¥è¡Œè´£ä»»</strong>çš„å€ºåŠ¡å½¢æ€ã€‚</p>
            
            <div class="lunch-example">
              <h4>ğŸ½ï¸ åˆé¤æ¡ˆä¾‹</h4>
              <div class="example-scenario">
                <p>Aã€Bã€Cä¸‰äººä¸€èµ·åƒé¥­ï¼Œæ¶ˆè´¹1500æ—¥å…ƒ</p>
                <div class="scenario-details">
                  <div class="detail">â€¢ åº—æ–¹å¯ä»¥å‘Aã€Bã€Cä¸­ä»»ä½•ä¸€äººè¯·æ±‚å…¨é¢1500æ—¥å…ƒ</div>
                  <div class="detail">â€¢ å¦‚æœAæ”¯ä»˜äº†1500æ—¥å…ƒï¼Œå€ºåŠ¡æ¶ˆç­</div>
                  <div class="detail">â€¢ Aå¯ä»¥å‘Bã€Cå„æ±‚å¿500æ—¥å…ƒ</div>
                </div>
              </div>
            </div>
          </div>

          <h3>ç›¸å¯¹æ•ˆåŸåˆ™</h3>
          <div class="relative-effect">
            <p>åŸåˆ™ä¸Šï¼Œè¿å¸¦å€ºåŠ¡äººä¸­ä¸€äººå‘ç”Ÿçš„äº‹ç”±<strong>ä¸å½±å“</strong>å…¶ä»–å€ºåŠ¡äººã€‚</p>
            
            <div class="effect-examples">
              <div class="example-item">
                <h4>å€ºåŠ¡å…é™¤</h4>
                <div class="example-content">
                  <p>å€ºæƒäººå…é™¤Bçš„å€ºåŠ¡ â†’ åªå¯¹Bæœ‰æ•ˆï¼ŒAã€Cä»éœ€æ‰¿æ‹…å…¨éƒ¨å€ºåŠ¡</p>
                </div>
              </div>
              <div class="example-item">
                <h4>æ—¶æ•ˆä¸­æ–­</h4>
                <div class="example-content">
                  <p>å¯¹Bçš„æ—¶æ•ˆä¸­æ–­ â†’ åªå¯¹Bæœ‰æ•ˆï¼ŒAã€Cçš„æ—¶æ•ˆç»§ç»­è®¡ç®—</p>
                </div>
              </div>
            </div>
          </div>

          <h3>ç»å¯¹æ•ˆä¾‹å¤–</h3>
          <div class="absolute-effect">
            <p>ä»¥ä¸‹4ç§æƒ…å†µï¼Œä¸€äººå‘ç”Ÿçš„äº‹ç”±å¯¹å…¶ä»–è¿å¸¦å€ºåŠ¡äººä¹Ÿäº§ç”Ÿæ•ˆåŠ›ï¼š</p>
            
            <div class="absolute-items">
              <div class="absolute-item">
                <div class="item-icon">ğŸ’°</div>
                <div class="item-content">
                  <h4>å¼æµ</h4>
                  <p>æ¸…å¿ã€ä»£ç‰©æ¸…å¿ã€ä¾›æ‰˜</p>
                </div>
              </div>
              <div class="absolute-item">
                <div class="item-icon">âš–ï¸</div>
                <div class="item-content">
                  <h4>ç›¸æ€</h4>
                  <p>å€ºåŠ¡æŠµé”€</p>
                </div>
              </div>
              <div class="absolute-item">
                <div class="item-icon">ğŸ”„</div>
                <div class="item-content">
                  <h4>æ›´æ”¹</h4>
                  <p>å¥‘çº¦å†…å®¹å˜æ›´</p>
                </div>
              </div>
              <div class="absolute-item">
                <div class="item-icon">ğŸ‘¥</div>
                <div class="item-content">
                  <h4>æ··åŒ</h4>
                  <p>å€ºæƒäººä¸å€ºåŠ¡äººåŒä¸€åŒ–</p>
                </div>
              </div>
            </div>
            
            <div class="memory-tip">
              <h4>ğŸ’¡ è®°å¿†å£è¯€</h4>
              <p><strong>é«˜ å±‚ æ›´ æ”¹ ç›¸ æ€ å¼ æµ æ·· åŒ</strong></p>
            </div>
          </div>
        </section>

        <!-- æ±‚å¿æƒ -->
        <section id="right-of-reimbursement" class="content-section">
          <h2>6. æ±‚å¿æƒ</h2>
          
          <h3>ä¿è¯äººçš„æ±‚å¿æƒ</h3>
          <div class="reimbursement-basic">
            <p>ä¿è¯äººä»£ä¸ºæ¸…å¿å€ºåŠ¡åï¼Œæœ‰æƒå‘ä¸»å€ºåŠ¡äººè¿½å¿ã€‚</p>
            
            <div class="reimbursement-flow">
              <div class="flow-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>ä¿è¯äººæ¸…å¿</h4>
                  <p>ä¿è¯äººCå‘å€ºæƒäººAæ¸…å¿1000ä¸‡</p>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>å€ºåŠ¡æ¶ˆç­</h4>
                  <p>ä¸»å€ºåŠ¡äººBå¯¹Açš„å€ºåŠ¡æ¶ˆç­</p>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>è¡Œä½¿æ±‚å¿æƒ</h4>
                  <p>Cå‘Bæ±‚å¿1000ä¸‡</p>
                </div>
              </div>
            </div>
          </div>

          <h3>è¿å¸¦ä¿è¯äººé—´çš„æ±‚å¿</h3>
          <div class="joint-reimbursement">
            <div class="joint-scenario">
              <h4>æ¡ˆä¾‹ï¼šè¿å¸¦ä¿è¯äººé—´çš„æ±‚å¿</h4>
              <div class="scenario-details">
                <p>ä¸»å€ºåŠ¡ï¼š1000ä¸‡ï¼Œè¿å¸¦ä¿è¯äººï¼šCã€D</p>
                <div class="calculation">
                  <div class="calc-step">Cæ¸…å¿äº†1000ä¸‡</div>
                  <div class="calc-step">Cå¯ä»¥å‘ä¸»å€ºåŠ¡äººBæ±‚å¿ï¼š1000ä¸‡</div>
                  <div class="calc-step">Cå¯ä»¥å‘å¦ä¸€ä¿è¯äººDæ±‚å¿ï¼š500ä¸‡ï¼ˆè´Ÿæ‹…éƒ¨åˆ†ï¼‰</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=guarantee" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=guarantee" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'guarantee-properties', title: 'ä¿è¯å€ºåŠ¡æ€§è´¨', icon: 'âš–ï¸' },
  { id: 'joint-guarantee', title: 'å…±åŒä¿è¯', icon: 'ğŸ‘¥' },
  { id: 'joint-guarantee-detail', title: 'è¿å¸¦ä¿è¯', icon: 'ğŸ”—' },
  { id: 'joint-debt', title: 'è¿å¸¦å€ºåŠ¡', icon: 'ğŸ’°' },
  { id: 'right-of-reimbursement', title: 'æ±‚å¿æƒ', icon: 'ğŸ”„' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'ä¿è¨¼å‚µå‹™ï¼ˆã»ã—ã‚‡ã†ã•ã„ã‚€ï¼‰',
    chinese: 'ä¿è¯å€ºåŠ¡',
    explanation: 'å½“ä¸»å€ºåŠ¡äººæ— æ³•å±¥è¡Œå€ºåŠ¡æ—¶ï¼Œç”±ä¿è¯äººä»£ä¸ºå±¥è¡Œçš„å€ºåŠ¡',
    example: 'Aå‘Bå€Ÿæ¬¾ï¼ŒCä½œä¸ºä¿è¯äººï¼Œå½“Aæ— æ³•è¿˜æ¬¾æ—¶ï¼ŒCæœ‰ä¹‰åŠ¡ä»£ä¸ºå¿è¿˜'
  },
  {
    japanese: 'é€£å¸¯ä¿è¨¼ï¼ˆã‚Œã‚“ãŸã„ã»ã—ã‚‡ã†ï¼‰',
    chinese: 'è¿å¸¦ä¿è¯',
    explanation: 'ä¿è¯äººä¸ä¸»å€ºåŠ¡äººæ‰¿æ‹…è¿å¸¦è´£ä»»çš„ä¿è¯å½¢å¼ï¼Œæ— å‚¬å‘ŠæŠ—è¾©æƒå’Œæ£€ç´¢æŠ—è¾©æƒ',
    example: 'è¿å¸¦ä¿è¯äººCåœ¨å€ºæƒäººè¯·æ±‚æ—¶å¿…é¡»ç«‹å³æ¸…å¿ï¼Œä¸èƒ½è¦æ±‚å…ˆå‘ä¸»å€ºåŠ¡äººè¯·æ±‚'
  },
  {
    japanese: 'é€£å¸¯å‚µå‹™ï¼ˆã‚Œã‚“ãŸã„ã•ã„ã‚€ï¼‰',
    chinese: 'è¿å¸¦å€ºåŠ¡',
    explanation: 'å¤šä¸ªå€ºåŠ¡äººå¯¹åŒä¸€å€ºåŠ¡å„è‡ªæ‰¿æ‹…å…¨éƒ¨å±¥è¡Œè´£ä»»çš„å€ºåŠ¡å½¢æ€',
    example: 'Aã€Bã€Cä¸‰äººè¿å¸¦å€Ÿæ¬¾ï¼Œå€ºæƒäººå¯ä»¥å‘å…¶ä¸­ä»»ä½•ä¸€äººè¯·æ±‚å…¨é¢è¿˜æ¬¾'
  },
  {
    japanese: 'ä»˜å¾“æ€§ï¼ˆãµã˜ã‚…ã†ã›ã„ï¼‰',
    chinese: 'ä»˜ä»æ€§',
    explanation: 'ä¿è¯å€ºåŠ¡ä»¥ä¸»å€ºåŠ¡çš„å­˜åœ¨ä¸ºå‰æï¼Œéšä¸»å€ºåŠ¡çš„å˜åŠ¨è€Œå˜åŠ¨çš„æ€§è´¨',
    example: 'ä¸»å€ºåŠ¡æ¶ˆç­æ—¶ï¼Œä¿è¯å€ºåŠ¡ä¹Ÿéšä¹‹æ¶ˆç­'
  },
  {
    japanese: 'æ±‚å„Ÿæ¨©ï¼ˆãã‚…ã†ã—ã‚‡ã†ã‘ã‚“ï¼‰',
    chinese: 'æ±‚å¿æƒ',
    explanation: 'ä¿è¯äººæˆ–è¿å¸¦å€ºåŠ¡äººæ¸…å¿å€ºåŠ¡åï¼Œå‘ä¸»å€ºåŠ¡äººæˆ–å…¶ä»–äººè¿½å¿çš„æƒåˆ©',
    example: 'ä¿è¯äººCä»£ä¸ºæ¸…å¿åï¼Œå¯ä»¥å‘ä¸»å€ºåŠ¡äººBæ±‚å¿æ¸…å¿é‡‘é¢'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'ä¿è¨¼äººã¨ãªã‚‹ã¹ãè€…ãŒã€å£é ­ã§æ˜ç¢ºã«ç‰¹å®šã®å‚µå‹™ã«ã¤ãä¿è¨¼ã™ã‚‹æ—¨ã®æ„æ€è¡¨ç¤ºã‚’å‚µæ¨©è€…ã«å¯¾ã—ã¦ã™ã‚Œã°ã€ãã®ä¿è¨¼å¥‘ç´„ã¯æœ‰åŠ¹ã«æˆç«‹ã™ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'ä¿è¯å¥‘çº¦å¿…é¡»é‡‡ç”¨ä¹¦é¢å½¢å¼æˆ–ç”µç£è®°å½•ï¼Œå£å¤´ä¿è¯å¥‘çº¦æ— æ•ˆã€‚'
  },
  {
    question: 'AãŒBã«1,000ä¸‡å††ã‚’è²¸ã—ä»˜ã‘ã€CãŒé€£å¸¯ä¿è¨¼äººã¨ãªã£ãŸã€‚ã“ã®å ´åˆã€Cã¯ã€Aã‹ã‚‰ã®è«‹æ±‚ã«å¯¾ã—ã¦ã€è‡ªåˆ†ã¯ä¿è¨¼äººã ã‹ã‚‰ã€ã¾ãšä¸»ãŸã‚‹å‚µå‹™è€…ã§ã‚ã‚‹Bã«å¯¾ã—ã¦è«‹æ±‚ã™ã‚‹ã‚ˆã†ä¸»å¼µã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'è¿å¸¦ä¿è¯äººæ²¡æœ‰å‚¬å‘ŠæŠ—è¾©æƒï¼Œä¸èƒ½è¦æ±‚å€ºæƒäººå…ˆå‘ä¸»å€ºåŠ¡äººè¯·æ±‚ã€‚'
  },
  {
    question: 'é€£å¸¯ä¿è¨¼äººãŒ2äººã„ã‚‹å ´åˆã€é€£å¸¯ä¿è¨¼äººé–“ã«é€£å¸¯ã®ç‰¹ç´„ãŒãªãã¨ã‚‚ã€é€£å¸¯ä¿è¨¼äººã¯å„è‡ªå…¨é¡ã«ã¤ãä¿è¨¼è²¬ä»»ã‚’è² ã†ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'è¿å¸¦ä¿è¯æ²¡æœ‰åˆ†åˆ«åˆ©ç›Šï¼Œå³ä½¿æœ‰å¤šä¸ªè¿å¸¦ä¿è¯äººï¼Œæ¯ä¸ªä¿è¯äººéƒ½å¯¹å…¨éƒ¨å€ºåŠ¡æ‰¿æ‹…è´£ä»»ã€‚'
  },
  {
    question: 'å€‹äººãŒæ ¹ä¿è¨¼å¥‘ç´„ã‚’ç· çµã™ã‚‹å ´åˆã€è² æ‹…ã®ä¸Šé™é¡ã‚’å®šã‚ãªã‘ã‚Œã°ã€å½“è©²ä¿è¨¼å¥‘ç´„ã¯ç„¡åŠ¹ã¨ãªã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'ä¸ªäººç­¾è®¢æ ¹ä¿è¯å¥‘çº¦æ—¶å¿…é¡»è®¾å®šä¸Šé™é¢ï¼ˆæé¢åº¦ï¼‰ï¼Œå¦åˆ™å¥‘çº¦æ— æ•ˆã€‚'
  },
  {
    question: 'ä¸»ãŸã‚‹å‚µå‹™è€…ãŒå‚µæ¨©è€…ã«å¯¾ã—ã¦å‚µå‹™ã‚’æ‰¿èªã—ãŸå ´åˆã€ãã®åŠ¹æœã¯ä¿è¨¼äººã«ã‚‚åŠã¶ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'åŸºäºä¿è¯å€ºåŠ¡çš„ä»˜ä»æ€§ï¼Œä¸»å€ºåŠ¡äººæ‰¿è®¤å€ºåŠ¡å¯¼è‡´æ—¶æ•ˆä¸­æ–­çš„æ•ˆæœåŠäºä¿è¯äººã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('guarantee', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('guarantee')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('guarantee')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('guarantee', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.guarantee-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-explanation {
  margin-bottom: 2rem;
}

.example-box {
  background: #f0f7ff;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
  border-left: 4px solid #2a7960;
}

.example-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.relationship-diagram {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.relationship-item {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
}

.role {
  padding: 0.75rem 1rem;
  background: white;
  border-radius: 6px;
  border: 1px solid #e9ecef;
  text-align: center;
  min-width: 100px;
}

.arrow {
  color: #6c757d;
  font-weight: bold;
}

.note {
  font-size: 0.875rem;
  color: #6c757d;
  font-style: italic;
  text-align: center;
}

.effect-timing {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.timing-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.timing-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.timing-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timing-content p {
  margin: 0;
  color: #333;
}

.timing-note {
  margin-top: 0.5rem;
  padding: 0.5rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¿è¯å€ºåŠ¡æ€§è´¨æ ·å¼ ========= */
.property-explanation {
  margin-bottom: 2rem;
}

.property-cases {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.case-item {
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.case-item h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
  font-size: 1rem;
}

.case-scenario {
  font-size: 0.875rem;
  margin-bottom: 0.5rem;
}

.case-result {
  font-weight: bold;
  text-align: center;
  padding: 0.5rem;
  border-radius: 4px;
}

.accompaniment-explanation {
  margin: 2rem 0;
}

.transfer-diagram {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  margin-top: 1rem;
}

.transfer-step {
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 8px;
}

.step-label {
  font-weight: bold;
  margin-bottom: 0.5rem;
  color: #2a7960;
}

.step-entities {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.entity {
  padding: 0.5rem 1rem;
  background: white;
  border-radius: 6px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.supplementary-explanation {
  margin: 2rem 0;
}

.rights-comparison {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}

.right-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.right-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.right-content p {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
}

.right-note {
  font-size: 0.875rem;
  color: #6c757d;
  line-height: 1.5;
}

/* ========= å…±åŒä¿è¯æ ·å¼ ========= */
.benefit-explanation {
  margin-bottom: 2rem;
}

.benefit-example {
  margin-top: 1.5rem;
}

.calculation {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin: 1rem 0;
}

.calc-step {
  padding: 0.5rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

.calc-step.result {
  background: #e7f7e7;
  color: #2e7d32;
  font-weight: bold;
}

.diagram {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  margin-top: 1.5rem;
  padding: 1.5rem;
  background: #f8f9fa;
  border-radius: 8px;
}

.creditor, .debtor, .guarantor {
  padding: 1rem;
  background: white;
  border-radius: 6px;
  border: 1px solid #e9ecef;
  text-align: center;
  min-width: 120px;
}

.guarantors {
  display: flex;
  gap: 1rem;
}

.guarantors.joint .guarantor {
  background: #fff9e6;
  border-color: #ffcc00;
}

.root-guarantee {
  margin: 2rem 0;
}

.root-concept {
  margin-bottom: 1.5rem;
}

.root-concept h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.requirements-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1rem;
}

.req-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.req-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.req-content strong {
  color: #1a472a;
}

.req-content p {
  margin: 0.25rem 0 0 0;
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= è¿å¸¦ä¿è¯æ ·å¼ ========= */
.joint-features {
  margin-bottom: 2rem;
}

.feature-comparison {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}

.comparison-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.comparison-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.feature-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.feature {
  padding: 0.5rem;
  background: #e7f7e7;
  border-radius: 4px;
  font-size: 0.875rem;
}

.feature.missing {
  background: #ffe7e7;
  color: #c62828;
}

.no-benefit-explanation {
  margin: 2rem 0;
}

.joint-example {
  margin-top: 1.5rem;
}

.effect-comparison {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.effect-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.effect-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.effect-content ul {
  padding-left: 1.25rem;
  margin: 0;
}

.effect-content li {
  margin-bottom: 0.25rem;
  line-height: 1.5;
}

/* ========= è¿å¸¦å€ºåŠ¡æ ·å¼ ========= */
.joint-debt-concept {
  margin-bottom: 2rem;
}

.lunch-example {
  margin-top: 1.5rem;
  padding: 1.5rem;
  background: #f0f7ff;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
}

.example-scenario p {
  font-weight: bold;
  margin-bottom: 1rem;
}

.scenario-details {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.detail {
  font-size: 0.875rem;
  padding-left: 1rem;
  position: relative;
}

.detail:before {
  content: "â€¢";
  position: absolute;
  left: 0;
  color: #2a7960;
}

.relative-effect {
  margin: 2rem 0;
}

.effect-examples {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.example-item {
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.example-item h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
  font-size: 1rem;
}

.absolute-effect {
  margin: 2rem 0;
}

.absolute-items {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin: 1.5rem 0;
}

.absolute-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  padding: 1.5rem 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.item-icon {
  font-size: 2rem;
}

.absolute-item h4 {
  margin: 0;
  color: #1a472a;
}

.absolute-item p {
  margin: 0;
  font-size: 0.875rem;
  color: #6c757d;
}

.memory-tip {
  padding: 1.5rem;
  background: #fff9e6;
  border-radius: 8px;
  text-align: center;
  margin-top: 1.5rem;
}

.memory-tip h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.memory-tip p {
  margin: 0;
  font-weight: bold;
  font-size: 1.125rem;
  color: #e65100;
}

/* ========= æ±‚å¿æƒæ ·å¼ ========= */
.reimbursement-basic {
  margin-bottom: 2rem;
}

.reimbursement-flow {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.flow-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
}

.flow-step h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.joint-reimbursement {
  margin: 2rem 0;
}

.joint-scenario {
  padding: 1.5rem;
  background: #f0f7ff;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
}

.joint-scenario h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .effect-timing {
    grid-template-columns: 1fr;
  }
  
  .property-cases {
    grid-template-columns: 1fr;
  }
  
  .rights-comparison {
    grid-template-columns: 1fr;
  }
  
  .requirements-list {
    grid-template-columns: 1fr;
  }
  
  .feature-comparison {
    grid-template-columns: 1fr;
  }
  
  .effect-comparison {
    grid-template-columns: 1fr;
  }
  
  .absolute-items {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .reimbursement-flow {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
  
  .absolute-items {
    grid-template-columns: 1fr;
  }
  
  .step-entities {
    flex-direction: column;
  }
  
  .guarantors {
    flex-direction: column;
  }
}
</style>