<!-- src/views/notes/rights/LandLease.vue -->
<template>
  <div class="land-lease-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>å€Ÿåœ°å€Ÿå®¶æ³•ï¼ˆå€Ÿåœ°ï¼‰</span>
        </div>
        <h1>å€Ÿåœ°å€Ÿå®¶æ³•ï¼ˆå€Ÿåœ°ï¼‰</h1>
        <p>æ—¥æœ¬å€Ÿåœ°å€Ÿå®¶æ³•ä¸­å…³äºå€Ÿåœ°æƒçš„æ³•å¾‹è§„å®šï¼Œæ¶µç›–æ™®é€šå€Ÿåœ°æƒã€å®šæœŸå€Ÿåœ°æƒã€å€Ÿåœ°æƒæ›´æ–°ã€å¯¹æŠ—è¦ä»¶ç­‰é‡è¦å†…å®¹</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">22</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">50åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£å€Ÿåœ°æƒçš„åŸºæœ¬æ¦‚å¿µå’Œé€‚ç”¨æ¡ä»¶</li>
            <li>æŒæ¡æ™®é€šå€Ÿåœ°æƒçš„å­˜ç»­æœŸé—´å’Œæ›´æ–°è§„åˆ™</li>
            <li>ç†Ÿæ‚‰å€Ÿåœ°æƒçš„å¯¹æŠ—è¦ä»¶å’Œå»ºç‰©ä¹°å–è¯·æ±‚æƒ</li>
            <li>äº†è§£å®šæœŸå€Ÿåœ°æƒçš„ç§ç±»å’Œç‰¹å¾</li>
            <li>æŒæ¡å€Ÿåœ°æƒè®©æ¸¡ã€è½¬è´·å’Œå†ç­‘çš„ç›¸å…³è§„å®š</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. å€Ÿåœ°æƒåŸºæœ¬æ¦‚å¿µ</h2>
          
          <h3>ä»€ä¹ˆæ˜¯å€Ÿåœ°æƒï¼Ÿ</h3>
          <div class="concept-explanation">
            <p>å€Ÿåœ°æƒæ˜¯æŒ‡ä»¥å»ºç­‘ç‰©æ‰€æœ‰ä¸ºç›®çš„çš„åœ°ä¸Šæƒæˆ–åœŸåœ°ç§Ÿèµæƒã€‚ä¾‹å¦‚ï¼ŒBä»Aæ‰‹ä¸­å€ŸåœŸåœ°ï¼Œåœ¨åœŸåœ°ä¸Šå»ºé€ æˆ¿å±‹ï¼ŒAæ˜¯å€Ÿåœ°æƒè®¾å®šè€…ï¼ˆåœ°ä¸»ï¼‰ï¼ŒBæ˜¯å€Ÿåœ°æƒè€…ï¼ˆå€Ÿåœ°äººï¼‰ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ é‡è¦æé†’</h4>
              <p>å€Ÿåœ°æƒå¿…é¡»ä»¥<strong>å»ºç­‘ç‰©æ‰€æœ‰ä¸ºç›®çš„</strong>ï¼Œä¸´æ—¶ä½¿ç”¨ï¼ˆå¦‚ä¸´æ—¶å·¥æ£šï¼‰æˆ–éå»ºç­‘ç‰©ç›®çš„ï¼ˆå¦‚åœè½¦åœºï¼‰ä¸é€‚ç”¨å€Ÿåœ°å€Ÿå®¶æ³•ã€‚</p>
            </div>
          </div>

          <h3>é€‚ç”¨æ¡ä»¶</h3>
          <div class="effect-timing">
            <div class="timing-item">
              <div class="timing-icon">ğŸ </div>
              <div class="timing-content">
                <h4>å»ºç­‘ç‰©æ‰€æœ‰ç›®çš„</h4>
                <p>å¿…é¡»ä»¥å»ºé€ å’Œæ‰€æœ‰å»ºç­‘ç‰©ä¸ºç›®çš„</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">â±ï¸</div>
              <div class="timing-content">
                <h4>éä¸´æ—¶ä½¿ç”¨</h4>
                <p>ä¸´æ—¶ä½¿ç”¨ä¸é€‚ç”¨å€Ÿåœ°å€Ÿå®¶æ³•</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ’°</div>
              <div class="timing-content">
                <h4>æœ‰å¿å¥‘çº¦</h4>
                <p>ä½¿ç”¨å€Ÿè´·ï¼ˆæ— å¿ï¼‰ä¸é€‚ç”¨</p>
              </div>
            </div>
          </div>

          <h3>æ¡ˆä¾‹è¯´æ˜</h3>
          <div class="example-box">
            <h4>ğŸ“– æ¡ˆä¾‹ï¼šé«˜å°”å¤«çƒåœºç§Ÿèµ</h4>
            <p>å°æ—æƒ³å¼€é«˜å°”å¤«çƒåœºï¼Œç§Ÿç”¨åœŸåœ°å»ºè®¾ä¼šæ‰€ã€‚è¿™ä¸å±äº"å»ºç­‘ç‰©æ‰€æœ‰ç›®çš„"ï¼Œå› æ­¤ä¸é€‚ç”¨å€Ÿåœ°å€Ÿå®¶æ³•ï¼Œè€Œæ˜¯é€‚ç”¨ä¸€èˆ¬ç§Ÿèµè§„åˆ™ã€‚</p>
          </div>
        </section>

        <!-- æ™®é€šå€Ÿåœ°æƒ -->
        <section id="ordinary-land-lease" class="content-section">
          <h2>2. æ™®é€šå€Ÿåœ°æƒ</h2>
          
          <h3>å­˜ç»­æœŸé—´</h3>
          <div class="heir-order">
            <p>æ™®é€šå€Ÿåœ°æƒæœ‰ä¸¥æ ¼çš„æœ€çŸ­å­˜ç»­æœŸé—´è§„å®šï¼Œæ—¨åœ¨ä¿æŠ¤å€Ÿåœ°äººçš„æƒç›Šã€‚</p>
            
            <div class="order-flow">
              <div class="flow-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>æœ€çŸ­æœŸé—´ï¼š30å¹´</h4>
                  <p>æ³•å¾‹è§„å®šçš„æœ€çŸ­å­˜ç»­æœŸé—´</p>
                  <div class="step-note">ä¿æŠ¤å€Ÿåœ°äºº</div>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>çº¦å®šå°‘äº30å¹´</h4>
                  <p>è‡ªåŠ¨å˜ä¸º30å¹´</p>
                  <div class="step-note">å¼ºè¡Œè§„å®š</div>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>çº¦å®šè¶…è¿‡30å¹´</h4>
                  <p>æŒ‰çº¦å®šæœŸé—´æ‰§è¡Œ</p>
                  <div class="step-note">å¦‚60å¹´æŒ‰60å¹´</div>
                </div>
              </div>
            </div>
          </div>

          <h3>å¥‘çº¦æ›´æ–°æ–¹å¼</h3>
          <div class="inheritance-choices">
            <div class="choice-item">
              <div class="choice-icon">ğŸ¤</div>
              <div class="choice-content">
                <h4>åˆæ„æ›´æ–°</h4>
                <p><strong>åŒæ–¹åå•†ä¸€è‡´æ›´æ–°å¥‘çº¦</strong></p>
                <p>ç¬¬ä¸€æ¬¡æ›´æ–°ï¼š20å¹´ä»¥ä¸Š</p>
                <p>ç¬¬äºŒæ¬¡ä»¥åæ›´æ–°ï¼š10å¹´ä»¥ä¸Š</p>
                <div class="choice-note">åŒæ–¹è‡ªæ„¿</div>
              </div>
            </div>
            <div class="choice-item">
              <div class="choice-icon">ğŸ“</div>
              <div class="choice-content">
                <h4>è¯·æ±‚æ›´æ–°</h4>
                <p><strong>å€Ÿåœ°äººå•æ–¹è¯·æ±‚æ›´æ–°</strong></p>
                <p>æ¡ä»¶ï¼šå€Ÿåœ°ä¸Šæœ‰å»ºç­‘ç‰©</p>
                <p>åœ°ä¸»å¯æå‡ºæ­£å½“å¼‚è®®æ‹’ç»</p>
                <div class="choice-note warning">éœ€æœ‰å»ºç­‘ç‰©</div>
              </div>
            </div>
            <div class="choice-item">
              <div class="choice-icon">âš–ï¸</div>
              <div class="choice-content">
                <h4>æ³•å®šæ›´æ–°</h4>
                <p><strong>è‡ªåŠ¨æ›´æ–°</strong></p>
                <p>æœŸé—´å±Šæ»¡åç»§ç»­ä½¿ç”¨åœŸåœ°</p>
                <p>åœ°ä¸»æœªæå‡ºæ­£å½“å¼‚è®®</p>
                <div class="choice-note">è‡ªåŠ¨å‘ç”Ÿ</div>
              </div>
            </div>
          </div>

          <h3>å»ºç‰©ä¹°å–è¯·æ±‚æƒ</h3>
          <div class="important-notes">
            <div class="note-item">
              <h4>ğŸ’° è¡Œä½¿æ¡ä»¶</h4>
              <ul>
                <li><strong>é€‚ç”¨æƒ…å½¢ï¼š</strong>å¥‘çº¦ä¸æ›´æ–°æ—¶</li>
                <li><strong>è¡Œä½¿ä¸»ä½“ï¼š</strong>å€Ÿåœ°æƒäººæˆ–è½¬å€Ÿåœ°æƒè€…</li>
                <li><strong>é™åˆ¶ï¼š</strong>å› å€ºåŠ¡ä¸å±¥è¡Œå¯¼è‡´å¥‘çº¦ç»ˆæ­¢æ—¶ä¸å¯è¡Œä½¿</li>
                <li><strong>ä»·æ ¼ï¼š</strong>æŒ‰å¸‚ä»·è´­ä¹°</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- å¯¹æŠ—è¦ä»¶ -->
        <section id="opposability" class="content-section">
          <h2>3. å€Ÿåœ°æƒçš„å¯¹æŠ—åŠ›</h2>
          
          <h3>å¯¹æŠ—è¦ä»¶ï¼ˆè¯æ˜æƒåˆ©çš„æ–¹æ³•ï¼‰</h3>
          <div class="testament-forms">
            <div class="table-container">
              <table class="forms-table">
                <thead>
                  <tr>
                    <th>æ–¹æ³•</th>
                    <th>å€Ÿåœ°æƒç™»è®°</th>
                    <th>å»ºç­‘ç‰©ç™»è®°</th>
                    <th>æ˜è®¤æ–¹æ³•</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>å®æ–½æ–¹å¼</strong></td>
                    <td>åœŸåœ°ç§Ÿèµæƒç™»è®°</td>
                    <td>ä»¥å€Ÿåœ°æƒäººåä¹‰ç™»è®°å»ºç­‘ç‰©</td>
                    <td>è®¾ç«‹æ ‡ç¤ºç‰Œ</td>
                  </tr>
                  <tr>
                    <td><strong>æ˜¯å¦éœ€è¦åœ°ä¸»é…åˆ</strong></td>
                    <td class="required">éœ€è¦</td>
                    <td class="not-required">ä¸éœ€è¦</td>
                    <td class="not-required">ä¸éœ€è¦</td>
                  </tr>
                  <tr>
                    <td><strong>æ•ˆåŠ›</strong></td>
                    <td>æœ€å¼º</td>
                    <td>å¼º</td>
                    <td>ä¸´æ—¶ï¼ˆ2å¹´ï¼‰</td>
                  </tr>
                  <tr>
                    <td><strong>å®åŠ¡éš¾åº¦</strong></td>
                    <td>å›°éš¾</td>
                    <td>å®¹æ˜“</td>
                    <td>å®¹æ˜“</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <h3>å¯¹æŠ—åŠ›ä¸§å¤±æƒ…å½¢</h3>
          <div class="substitution-limits">
            <div class="limit-item">
              <h4>ğŸš« å¯¹æŠ—åŠ›ä¸§å¤±</h4>
              <ul>
                <li>å»ºç­‘ç‰©ç­å¤±ä¸”æœªè®¾ç«‹æ˜è®¤æ–¹æ³•</li>
                <li>æ˜è®¤æ–¹æ³•è®¾ç«‹å<strong>2å¹´å†…æœªé‡å»ºå»ºç­‘ç‰©</strong></li>
                <li>å»ºç­‘ç‰©ä»¥ä»–äººåä¹‰ç™»è®°</li>
                <li>æ˜è®¤æ–¹æ³•æ•ˆåŠ›åªæœ‰2å¹´ï¼Œ2å¹´åæº¯åŠæ—¢å¾€æ¶ˆç­</li>
              </ul>
            </div>
          </div>

          <h3>å®åŠ¡è¦ç‚¹</h3>
          <div class="example-box">
            <h4>ğŸ’¡ å®åŠ¡å»ºè®®</h4>
            <p>å»ºç­‘ç‰©ç­å¤±åï¼Œåº”ç«‹å³åœ¨åœŸåœ°ä¸Šè®¾ç«‹æ ‡ç¤ºç‰Œï¼Œå†™æ˜å€Ÿåœ°æƒè€…ã€ç­å¤±æ—¥æœŸã€å†ç­‘è®¡åˆ’ç­‰ä¿¡æ¯ï¼Œä¿å…¨å¯¹æŠ—åŠ›ã€‚2å¹´å†…å¿…é¡»å®Œæˆé‡å»ºå¹¶ç™»è®°ã€‚</p>
          </div>
        </section>

        <!-- è´·å€Ÿä¸è®©æ¸¡ -->
        <section id="transfer-lease" class="content-section">
          <h2>4. å»ºç­‘ç‰©çš„è´·å€Ÿä¸è®©æ¸¡</h2>
          
          <h3>è´·å€Ÿï¼ˆè½¬ç§Ÿï¼‰ä¸è®©æ¸¡ï¼ˆè½¬è®©ï¼‰çš„åŒºåˆ«</h3>
          <div class="legal-share-rates">
            <div class="rate-item">
              <h4>è´·å€Ÿï¼ˆè½¬ç§Ÿï¼‰</h4>
              <p><strong>ä¸éœ€è¦åœ°ä¸»æ‰¿è¯º</strong></p>
              <p>ä¸å€Ÿåœ°æƒæ— å…³</p>
            </div>
            <div class="rate-item">
              <h4>è®©æ¸¡ï¼ˆè½¬è®©ï¼‰</h4>
              <p><strong>éœ€è¦åœ°ä¸»æ‰¿è¯º</strong></p>
              <p>å»ºç­‘ç‰©è®©æ¸¡æ—¶ï¼Œå€Ÿåœ°æƒåŒæ—¶è½¬ç§»</p>
            </div>
          </div>

          <h3>åœ°ä¸»ä¸æ‰¿è¯ºæ—¶çš„æ•‘æµæªæ–½</h3>
          <div class="substitution-conditions">
            <div class="condition-item">
              <div class="condition-icon">ğŸ›ï¸</div>
              <div class="condition-content">
                <h4>æ³•é™¢ä»‹å…¥</h4>
                <p>åœ°ä¸»ä¸æ‰¿è¯ºæ—¶ï¼Œå¯å‘æ³•é™¢ç”³è¯·æ›¿ä»£è®¸å¯</p>
                <div class="condition-status can-substitute">å¯ä»¥ç”³è¯·</div>
              </div>
            </div>
            <div class="condition-item">
              <div class="condition-icon">â°</div>
              <div class="condition-content">
                <h4>ç”³è¯·æœŸé™</h4>
                <p>ç«å–æ—¶ï¼šæ”¯ä»˜ä»·æ¬¾å2ä¸ªæœˆå†…ç”³è¯·</p>
                <div class="condition-status can-substitute">æ—¶é—´é™åˆ¶</div>
              </div>
            </div>
            <div class="condition-item">
              <div class="condition-icon">ğŸ‘¤</div>
              <div class="condition-content">
                <h4>ç”³è¯·ä¸»ä½“</h4>
                <p>ä¹°å–æ—¶ï¼šå–ä¸»ï¼ˆå€Ÿåœ°æƒè€…ï¼‰ç”³è¯·</p>
                <p>ç«å–æ—¶ï¼šä¹°ä¸»ï¼ˆç«è½äººï¼‰ç”³è¯·</p>
                <div class="condition-status can-substitute">ä¸åŒä¸»ä½“</div>
              </div>
            </div>
          </div>

          <h3>å»ºç‰©ä¹°å–è¯·æ±‚æƒçš„è¡Œä½¿</h3>
          <div class="important-notes">
            <div class="note-item">
              <h4>ğŸ“‹ è¡Œä½¿åœºæ™¯</h4>
              <ul>
                <li><strong>åœ°ä¸»æ‹’ç»æ›´æ–°ï¼š</strong>å€Ÿåœ°äººå¯è¡Œä½¿ä¹°å–è¯·æ±‚æƒ</li>
                <li><strong>åœ°ä¸»ä¸æ‰¿è¯ºè®©æ¸¡ï¼š</strong>å»ºç‰©è®©å—äººå¯è¡Œä½¿ä¹°å–è¯·æ±‚æƒ</li>
                <li><strong>ç«å–å…¬å–ï¼š</strong>ç¬¬ä¸‰æ–¹å–å¾—è€…å¯è¡Œä½¿ä¹°å–è¯·æ±‚æƒ</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- å»ºç­‘ç‰©ç­å¤±ä¸å†ç­‘ -->
        <section id="rebuilding" class="content-section">
          <h2>5. å»ºç­‘ç‰©ç­å¤±ä¸å†ç­‘</h2>
          
          <h3>å†ç­‘è§„åˆ™è¡¨</h3>
          <div class="share-table">
            <div class="table-container">
              <table class="shares-table">
                <thead>
                  <tr>
                    <th>ç­å¤±æ—¶æœŸ</th>
                    <th>åœ°ä¸»æ‰¿è¯ºå†ç­‘</th>
                    <th>å­˜ç»­æœŸé—´å»¶é•¿</th>
                    <th>å¤‡æ³¨</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>åŸå¥‘çº¦æœŸé—´ä¸­</strong></td>
                    <td class="share-spouse">æœ‰æ‰¿è¯º</td>
                    <td class="share-relative">å»¶é•¿20å¹´</td>
                    <td>ä»æ‰¿è¯ºæ—¥æˆ–ç­‘é€ æ—¥è¾ƒæ—©è€…å¼€å§‹è®¡ç®—</td>
                  </tr>
                  <tr>
                    <td><strong>åŸå¥‘çº¦æœŸé—´ä¸­</strong></td>
                    <td>æ— æ‰¿è¯º</td>
                    <td>ä¸å»¶é•¿</td>
                    <td>ä»…å‰©æ®‹å­˜æœŸé—´ï¼ŒæœŸæ»¡åå¯æ³•å®šæ›´æ–°</td>
                  </tr>
                  <tr>
                    <td><strong>æ›´æ–°å</strong></td>
                    <td class="share-spouse">æœ‰æ‰¿è¯º</td>
                    <td class="share-relative">å»¶é•¿20å¹´</td>
                    <td>å€Ÿåœ°äººå¯ç”³è¯·è§£çº¦æˆ–æ”¾å¼ƒåœ°ä¸Šæƒ</td>
                  </tr>
                  <tr>
                    <td><strong>æ›´æ–°å</strong></td>
                    <td>æ— æ‰¿è¯º</td>
                    <td>ä¸å¯å†ç­‘</td>
                    <td>æ— æ‰¿è¯ºä¸å¯å†ç­‘ï¼Œæ“…è‡ªå†ç­‘å¯è¢«è§£çº¦</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <h3>é‡è¦è§„åˆ™</h3>
          <div class="calculation-examples">
            <div class="example-item">
              <h4>è§†ä¸ºæ‰¿è¯ºè§„åˆ™</h4>
              <div class="calculation-steps">
                <div class="step">é€šçŸ¥å†ç­‘ç”³è¯·å</div>
                <div class="step">åœ°ä¸»2ä¸ªæœˆå†…ä¸æå‡ºå¼‚è®®</div>
                <div class="step">è§†ä¸ºæ‰¿è¯º</div>
              </div>
            </div>
            <div class="example-item">
              <h4>æ— æ‰¿è¯ºæ“…è‡ªå†ç­‘</h4>
              <div class="calculation-steps">
                <div class="step">åœ°ä¸»å¯æå‡ºè§£çº¦ç”³è¯·</div>
                <div class="step">è§£çº¦ç”³è¯·3ä¸ªæœˆå</div>
                <div class="step">å€Ÿåœ°æƒæ¶ˆç­</div>
              </div>
            </div>
            <div class="example-item">
              <h4>æ³•é™¢ä»‹å…¥</h4>
              <div class="calculation-steps">
                <div class="step">åœ°ä¸»ä¸æ‰¿è¯ºæ—¶</div>
                <div class="step">å€Ÿåœ°äººå¯ç”³è¯·æ³•é™¢è®¸å¯</div>
                <div class="step">æ³•é™¢è®¸å¯åå¯å†ç­‘</div>
              </div>
            </div>
          </div>

          <h3>å®åŠ¡æ¡ˆä¾‹</h3>
          <div class="example-box">
            <h4>ğŸ”¥ ç«ç¾åå†ç­‘æ¡ˆä¾‹</h4>
            <p>Bä»åœ°ä¸»Aå€Ÿåœ°30å¹´ï¼Œç¬¬25å¹´æ—¶æˆ¿å±‹è¢«çƒ§æ¯ã€‚Bç”³è¯·å†ç­‘ï¼ŒAä¸æ‰¿è¯ºã€‚æ­¤æ—¶Båªèƒ½åœ¨å‰©ä½™5å¹´å†…é‡å»ºï¼ŒæœŸæ»¡åå¦‚æœå»ºç­‘ç‰©ä»åœ¨ï¼Œå¯èµ°æ³•å®šæ›´æ–°ï¼›å¦‚æœæ²¡æœ‰å»ºç­‘ç‰©ï¼Œå¥‘çº¦ç»ˆæ­¢ã€‚</p>
          </div>
        </section>

        <!-- å®šæœŸå€Ÿåœ°æƒ -->
        <section id="fixed-term-lease" class="content-section">
          <h2>6. å®šæœŸå€Ÿåœ°æƒ</h2>
          
          <h3>ä¸‰ç§ç±»å‹æ¯”è¾ƒ</h3>
          <div class="testament-forms">
            <div class="table-container">
              <table class="forms-table">
                <thead>
                  <tr>
                    <th>é¡¹ç›®</th>
                    <th>ä¸€èˆ¬å®šæœŸå€Ÿåœ°æƒ</th>
                    <th>äº‹ä¸šç”¨å®šæœŸå€Ÿåœ°æƒ</th>
                    <th>å»ºç‰©è®©æ¸¡ç‰¹çº¦ä»˜</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>å­˜ç»­æœŸé—´</strong></td>
                    <td>50å¹´ä»¥ä¸Š</td>
                    <td>10å¹´ä»¥ä¸Š50å¹´æœªæ»¡</td>
                    <td>30å¹´ä»¥ä¸Š</td>
                  </tr>
                  <tr>
                    <td><strong>ä½¿ç”¨ç›®çš„</strong></td>
                    <td>æ— é™åˆ¶</td>
                    <td class="required">äº‹ä¸šç”¨ï¼ˆå±…ä½ä¸å¯ï¼‰</td>
                    <td>æ— é™åˆ¶</td>
                  </tr>
                  <tr>
                    <td><strong>æ›´æ–°</strong></td>
                    <td class="required">ä¸å¯</td>
                    <td class="required">ä¸å¯</td>
                    <td class="required">ä¸å¯</td>
                  </tr>
                  <tr>
                    <td><strong>å¥‘çº¦å½¢å¼</strong></td>
                    <td>ä¹¦é¢æˆ–ç”µå­è®°å½•</td>
                    <td class="required">å…¬æ­£è¯ä¹¦</td>
                    <td>æ— ç‰¹åˆ«è¦æ±‚</td>
                  </tr>
                  <tr>
                    <td><strong>å»ºç‰©ä¹°å–è¯·æ±‚æƒ</strong></td>
                    <td class="required">æ’é™¤</td>
                    <td class="required">æ’é™¤</td>
                    <td>ç‰¹çº¦ä¹°å–</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <h3>ç‰¹å¾å…±é€šç‚¹</h3>
          <div class="important-notes">
            <div class="note-item">
              <h4>âš ï¸ å…±åŒç‰¹å¾</h4>
              <ul>
                <li><strong>ä¸å¯æ›´æ–°ï¼š</strong>æœŸé—´å±Šæ»¡å³ç»ˆæ­¢</li>
                <li><strong>ä¸å¯è¡Œä½¿å»ºç‰©ä¹°å–è¯·æ±‚æƒï¼š</strong>æ’é™¤ä¹°å–è¯·æ±‚æƒ</li>
                <li><strong>æœŸé—´å±Šæ»¡åä¸å¯ç»§ç»­ä½¿ç”¨ï¼š</strong>å¿…é¡»è¿”è¿˜åœŸåœ°</li>
                <li><strong>å†ç­‘ä¸å»¶é•¿æœŸé—´ï¼š</strong>å»ºç­‘ç‰©ç­å¤±å†ç­‘ä¸å»¶é•¿å­˜ç»­æœŸé—´</li>
              </ul>
            </div>
          </div>

          <h3>ç‰¹åˆ«æ³¨æ„</h3>
          <div class="example-box">
            <h4>ğŸš« äº‹ä¸šç”¨å®šæœŸå€Ÿåœ°æƒçš„é™åˆ¶</h4>
            <p>äº‹ä¸šç”¨å®šæœŸå€Ÿåœ°æƒ<strong>ç»å¯¹ä¸èƒ½ç”¨äºå±…ä½ç›®çš„</strong>ï¼Œå³ä½¿æ˜¯å‘˜å·¥å®¿èˆä¹Ÿä¸å¯ä»¥ã€‚ä½å®…å”®è´§äº‹ä¸šè€…å»ºé€ å”®è´§å…¬å¯“ä¹Ÿä¸é€‚ç”¨ã€‚</p>
          </div>

          <h3>å»ºç‰©è®©æ¸¡ç‰¹çº¦ä»˜å€Ÿåœ°æƒ</h3>
          <div class="legal-share-concept">
            <p>å€Ÿåœ°æƒè®¾å®šæ—¶ï¼Œäº‹å…ˆçº¦å®šå¥½è‡ªå€Ÿåœ°æƒè®¾å®šåç»è¿‡30å¹´ï¼Œå€Ÿåœ°ä¸Šçš„å»ºç­‘ç‰©ç”±åœ°ä¸»æŒ‰ç…§æ—¶ä»·ä¹°å–çš„å¥‘çº¦ã€‚</p>
            <p>æœŸé—´å±Šæ»¡åï¼Œå€Ÿåœ°äººåŸåˆ™ä¸Šä¸èƒ½ç»§ç»­ä½¿ç”¨å»ºç­‘ç‰©ï¼Œä½†å¯è¯·æ±‚è½¬ä¸ºæ²¡æœ‰è§„å®šæœŸé—´çš„ç§Ÿèµå€Ÿè´·å¥‘çº¦ã€‚</p>
          </div>
        </section>

        <!-- æ³•é™¢ä»‹å…¥æƒ…å½¢ -->
        <section id="court-intervention" class="content-section">
          <h2>7. æ³•é™¢ä»‹å…¥æƒ…å½¢æ€»ç»“</h2>
          
          <h3>å¯ç”³è¯·æ³•é™¢ä»‹å…¥çš„æƒ…å½¢</h3>
          <div class="order-flow">
            <div class="flow-step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>å»ºç­‘ç‰©è®©æ¸¡</h4>
                <p>åœ°ä¸»ä¸æ‰¿è¯ºå»ºç­‘ç‰©è®©æ¸¡æ—¶</p>
                <div class="step-note">å€Ÿåœ°æƒè€…ç”³è¯·</div>
              </div>
            </div>
            <div class="flow-step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>å†ç­‘è®¸å¯</h4>
                <p>åœ°ä¸»ä¸æ‰¿è¯ºå†ç­‘æ—¶</p>
                <div class="step-note">å€Ÿåœ°æƒè€…ç”³è¯·</div>
              </div>
            </div>
            <div class="flow-step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>å€Ÿåœ°æ¡ä»¶å˜æ›´</h4>
                <p>å€Ÿåœ°æ¡ä»¶å˜æ›´åå•†ä¸æˆæ—¶</p>
                <div class="step-note">åŒæ–¹ç”³è¯·</div>
              </div>
            </div>
            <div class="flow-step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>å¢æ”¹ç­‘è®¸å¯</h4>
                <p>å¢æ”¹ç­‘ç¦æ­¢ç‰¹çº¦åå•†ä¸æˆæ—¶</p>
                <div class="step-note">å€Ÿåœ°æƒè€…ç”³è¯·</div>
              </div>
            </div>
            <div class="flow-step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>ä¹°å–è¯·æ±‚æƒ</h4>
                <p>ç¬¬ä¸‰æ–¹å–å¾—å»ºç­‘ç‰©æ—¶è¡Œä½¿ä¹°å–è¯·æ±‚æƒåå•†ä¸æˆ</p>
                <div class="step-note">ç¬¬ä¸‰æ–¹ç”³è¯·</div>
              </div>
            </div>
          </div>

          <h3>ç”³è¯·æœŸé™é™åˆ¶</h3>
          <div class="time-limits">
            <div class="time-limit-item">
              <h4>â° é‡è¦æ—¶é—´é™åˆ¶</h4>
              <p>åœ¨å»ºç‰©çš„ç«å–ã€å…¬å–ä¸­åœŸåœ°ç§Ÿèµæƒè®©æ¸¡æ—¶ï¼Œåœ°ä¸»æ²¡æœ‰æ‰¿è¯ºæ—¶ï¼Œå»ºç‰©çš„ç¬¬ä¸‰æ–¹å–å¾—è€…å¿…é¡»åœ¨<strong>æ”¯ä»˜å»ºç‰©ä»£é‡‘åçš„2ä¸ªæœˆä¹‹å†…</strong>ç”³è¯·æ³•é™¢ä»‹å…¥ã€‚</p>
              <p class="time-note">è¶…è¿‡æœŸé™å°†ä¸§å¤±ç”³è¯·æƒåˆ©ï¼</p>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=land-lease" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=land-lease" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'ordinary-land-lease', title: 'æ™®é€šå€Ÿåœ°æƒ', icon: 'ğŸ ' },
  { id: 'opposability', title: 'å¯¹æŠ—è¦ä»¶', icon: 'ğŸ›¡ï¸' },
  { id: 'transfer-lease', title: 'è´·å€Ÿä¸è®©æ¸¡', icon: 'ğŸ”„' },
  { id: 'rebuilding', title: 'ç­å¤±ä¸å†ç­‘', icon: 'ğŸ”¥' },
  { id: 'fixed-term-lease', title: 'å®šæœŸå€Ÿåœ°æƒ', icon: 'â±ï¸' },
  { id: 'court-intervention', title: 'æ³•é™¢ä»‹å…¥', icon: 'âš–ï¸' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'å€Ÿåœ°æ¨©ï¼ˆã—ã‚ƒãã¡ã‘ã‚“ï¼‰',
    chinese: 'å€Ÿåœ°æƒ',
    explanation: 'ä»¥å»ºç­‘ç‰©æ‰€æœ‰ä¸ºç›®çš„çš„åœ°ä¸Šæƒæˆ–åœŸåœ°ç§Ÿèµæƒ',
    example: 'Bä»Aå¤„å€Ÿåœ°å»ºé€ è‡ªå®¶ä½å®…ï¼ŒBæ‹¥æœ‰å€Ÿåœ°æƒ'
  },
  {
    japanese: 'æ™®é€šå€Ÿåœ°æ¨©ï¼ˆãµã¤ã†ã—ã‚ƒãã¡ã‘ã‚“ï¼‰',
    chinese: 'æ™®é€šå€Ÿåœ°æƒ',
    explanation: 'å¯ä»¥æ›´æ–°çš„å€Ÿåœ°æƒï¼Œå—å€Ÿåœ°å€Ÿå®¶æ³•ä¿æŠ¤',
    example: 'å­˜ç»­æœŸé—´30å¹´ï¼ŒæœŸæ»¡åå¯æ›´æ–°'
  },
  {
    japanese: 'å®šæœŸå€Ÿåœ°æ¨©ï¼ˆã¦ã„ãã—ã‚ƒãã¡ã‘ã‚“ï¼‰',
    chinese: 'å®šæœŸå€Ÿåœ°æƒ',
    explanation: 'ä¸å¯æ›´æ–°çš„å€Ÿåœ°æƒï¼ŒæœŸé—´å±Šæ»¡å³ç»ˆæ­¢',
    example: 'ä¸€èˆ¬å®šæœŸå€Ÿåœ°æƒå­˜ç»­æœŸé—´50å¹´ä»¥ä¸Š'
  },
  {
    japanese: 'å»ºç‰©è²·å–è«‹æ±‚æ¨©ï¼ˆãŸã¦ã‚‚ã®ã‹ã„ã¨ã‚Šã›ã„ãã‚…ã†ã‘ã‚“ï¼‰',
    chinese: 'å»ºç‰©ä¹°å–è¯·æ±‚æƒ',
    explanation: 'å€Ÿåœ°æƒæ¶ˆç­æ—¶ï¼Œå€Ÿåœ°æƒäººè¯·æ±‚åœ°ä¸»æŒ‰å¸‚ä»·è´­ä¹°å»ºç­‘ç‰©çš„æƒåˆ©',
    example: 'å¥‘çº¦ä¸æ›´æ–°æ—¶ï¼Œå€Ÿåœ°äººå¯è¦æ±‚åœ°ä¸»ä¹°ä¸‹å»ºç­‘ç‰©'
  },
  {
    japanese: 'å¯¾æŠ—åŠ›ï¼ˆãŸã„ã“ã†ã‚Šã‚‡ãï¼‰',
    chinese: 'å¯¹æŠ—åŠ›',
    explanation: 'æƒåˆ©äººå¯¹æŠ—ç¬¬ä¸‰äººçš„æ³•å¾‹æ•ˆåŠ›',
    example: 'å€Ÿåœ°æƒç™»è®°åï¼Œå¯å¯¹æŠ—æ–°çš„åœŸåœ°æ‰€æœ‰æƒäºº'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'ã‚´ãƒ«ãƒ•å ´çµŒå–¶ã‚’ç›®çš„ã¨ã™ã‚‹åœŸåœ°è³ƒè²¸å€Ÿå¥‘ç´„ã«ã¤ã„ã¦ã¯ã€å¯¾è±¡ã¨ãªã‚‹å…¨ã¦ã®åœŸåœ°ã«ã¤ã„ã¦åœ°ä»£ç­‰ã®å¢—æ¸›é¡è«‹æ±‚ã«é–¢ã™ã‚‹å€Ÿåœ°å€Ÿå®¶æ³•ç¬¬11æ¡ã®è¦å®šãŒé©ç”¨ã•ã‚Œã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'é«˜å°”å¤«çƒåœºç»è¥ä¸å±äº"å»ºç­‘ç‰©æ‰€æœ‰ç›®çš„"ï¼Œä¸é€‚ç”¨å€Ÿåœ°å€Ÿå®¶æ³•ã€‚'
  },
  {
    question: 'å€Ÿåœ°æ¨©ã®å­˜ç¶šæœŸé–“ã¯ã€å¥‘ç´„ã§25å¹´ã¨å®šã‚ã‚ˆã†ã¨ã€35å¹´ã¨å®šã‚ã‚ˆã†ã¨ã€ã„ãšã‚Œã®å ´åˆã‚‚30å¹´ã¨ãªã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'çº¦å®š25å¹´æ—¶å˜ä¸º30å¹´ï¼Œä½†çº¦å®š35å¹´æ—¶æŒ‰35å¹´è®¡ç®—ã€‚'
  },
  {
    question: 'å»ºç‰©ã®æ‰€æœ‰ã‚’ç›®çš„ã¨ã™ã‚‹åœŸåœ°ã®è³ƒè²¸å€Ÿå¥‘ç´„ã«ãŠã„ã¦ã€å»ºç‰©ãŒå…¨ç„¼ã—ãŸå ´åˆã§ã‚‚ã€å€Ÿåœ°æ¨©è€…ã¯ã€ãã®åœŸåœ°ä¸Šã«æ»…å¤±å»ºç‰©ã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã«å¿…è¦ãªäº‹é …ç­‰ã‚’æ²ç¤ºã™ã‚Œã°ã€å€Ÿåœ°æ¨©ã‚’ç¬¬ä¸‰è€…ã«å¯¾æŠ—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹å ´åˆãŒã‚ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'é€šè¿‡æ˜è®¤æ–¹æ³•ï¼ˆè®¾ç«‹æ ‡ç¤ºç‰Œï¼‰ï¼Œåœ¨å»ºç­‘ç‰©ç­å¤±å2å¹´å†…å¯ä»¥å¯¹æŠ—ç¬¬ä¸‰äººã€‚'
  },
  {
    question: 'äº‹æ¥­ã®ç”¨ã«ä¾›ã™ã‚‹å»ºç‰©ã®æ‰€æœ‰ã‚’ç›®çš„ã¨ã™ã‚‹å ´åˆã§ã‚ã‚Œã°ã€å¾“æ¥­å“¡ã®ç¤¾å®…ã¨ã—ã¦å¾“æ¥­å“¡ã®å±…ä½ã®ç”¨ã«ä¾›ã™ã‚‹ã¨ãã§ã‚ã£ã¦ã‚‚ã€äº‹æ¥­ç”¨å®šæœŸå€Ÿåœ°æ¨©ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'äº‹ä¸šç”¨å®šæœŸå€Ÿåœ°æƒä¸èƒ½ç”¨äºå±…ä½ç›®çš„ï¼Œå³ä½¿æ˜¯å‘˜å·¥å®¿èˆä¹Ÿä¸å¯ä»¥ã€‚'
  },
  {
    question: 'å€Ÿåœ°æ¨©ã®å­˜ç¶šæœŸé–“ä¸­ã«å»ºç‰©ãŒæ»…å¤±ã—ãŸå ´åˆã€å€Ÿåœ°æ¨©è¨­å®šè€…ã®æ‰¿è«¾ãŒãªãã¦ã‚‚ã€å€Ÿåœ°æ¨©è€…ã¯ç›´ã¡ã«å»ºç‰©ã‚’å†ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'å†ç­‘éœ€è¦åœ°ä¸»æ‰¿è¯ºï¼Œæ— æ‰¿è¯ºæ“…è‡ªå†ç­‘å¯èƒ½å¯¼è‡´è§£çº¦ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('land-lease', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('land-lease')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('land-lease')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('land-lease', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.land-lease-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-explanation {
  margin-bottom: 2rem;
}

.example-box {
  background: #f0f7ff;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
  border-left: 4px solid #2a7960;
}

.example-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.effect-timing {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.timing-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.timing-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.timing-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timing-content p {
  margin: 0;
  color: #6c757d;
}

/* ========= æ™®é€šå€Ÿåœ°æƒæ ·å¼ ========= */
.heir-order {
  margin-bottom: 2rem;
}

.order-flow {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.flow-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
}

.step-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.step-content p {
  margin: 0 0 1rem 0;
  font-size: 0.875rem;
  color: #6c757d;
}

.step-note {
  padding: 0.5rem;
  background: #e9f7f0;
  border-radius: 4px;
  font-size: 0.875rem;
  color: #2a7960;
  font-weight: bold;
}

.important-notes {
  margin: 1.5rem 0;
}

.note-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.note-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.note-item ul {
  padding-left: 1.25rem;
  margin: 0;
}

.note-item li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= ç»§æ‰¿æ‰¿è®¤ä¸æ”¾å¼ƒæ ·å¼ ========= */
.inheritance-choices {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.choice-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.choice-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.choice-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.choice-content p {
  margin: 0.25rem 0;
}

.choice-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

.choice-note.warning {
  background: #fff9e6;
  border-left: 3px solid #ffcc00;
}

/* ========= å¯¹æŠ—è¦ä»¶æ ·å¼ ========= */
.testament-forms {
  margin: 2rem 0;
}

.forms-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.forms-table th, .forms-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.forms-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.forms-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.required {
  background-color: #fff9e6 !important;
  color: #e65100;
  font-weight: bold;
}

.not-required {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
}

/* ========= è´·å€Ÿä¸è®©æ¸¡æ ·å¼ ========= */
.legal-share-rates {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.rate-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.rate-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.rate-item p {
  margin: 0;
  font-weight: bold;
}

.substitution-conditions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.condition-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.condition-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.condition-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.condition-content p {
  margin: 0;
  color: #6c757d;
}

.condition-status {
  margin-top: 1rem;
  padding: 0.5rem;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
  text-align: center;
}

.condition-status.can-substitute {
  background: #e7f7e7;
  color: #2e7d32;
}

.condition-status.cannot-substitute {
  background: #ffe7e7;
  color: #c62828;
}

.substitution-limits {
  margin: 2rem 0;
}

.limit-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 1rem;
}

.limit-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= ç­å¤±ä¸å†ç­‘æ ·å¼ ========= */
.share-table {
  margin: 1.5rem 0;
}

.table-container {
  overflow-x: auto;
}

.shares-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.shares-table th, .shares-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.shares-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.shares-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.share-spouse {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
}

.share-relative {
  background-color: #eef7ff !important;
  color: #1565c0;
  font-weight: bold;
}

.calculation-examples {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.example-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.example-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.calculation-steps {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.step {
  padding: 0.5rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

/* ========= å®šæœŸå€Ÿåœ°æƒæ ·å¼ ========= */
.legal-share-concept {
  margin-bottom: 2rem;
}

/* ========= æ—¶é—´é™åˆ¶æ ·å¼ ========= */
.time-limits {
  margin: 2rem 0;
}

.time-limit-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.time-limit-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.time-note {
  margin-top: 0.5rem;
  font-size: 0.875rem;
  color: #6c757d;
  font-style: italic;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .effect-timing {
    grid-template-columns: 1fr;
  }
  
  .order-flow {
    grid-template-columns: 1fr;
  }
  
  .inheritance-choices {
    grid-template-columns: 1fr;
  }
  
  .calculation-examples {
    grid-template-columns: 1fr;
  }
  
  .substitution-conditions {
    grid-template-columns: 1fr;
  }
  
  .legal-share-rates {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
}
</style>