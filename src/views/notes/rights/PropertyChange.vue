<!-- src/views/notes/rights/PropertyChange.vue -->
<template>
  <div class="property-change-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>ç‰©æƒå˜åŠ¨</span>
        </div>
        <h1>ç‰©æƒå˜åŠ¨</h1>
        <p>æ—¥æœ¬æ°‘æ³•ä¸­çš„ç‰©æƒå˜åŠ¨åˆ¶åº¦ï¼Œæ¶‰åŠæ‰€æœ‰æƒè½¬ç§»ã€å¯¹æŠ—è¦ä»¶ã€ç™»è®°åˆ¶åº¦åŠå¯¹æŠ—ç¬¬ä¸‰äººç­‰é‡è¦å†…å®¹</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">15</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">45åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£ç‰©æƒå˜åŠ¨çš„åŸºæœ¬æ¦‚å¿µå’Œæ•ˆåŠ›å‘ç”Ÿæ—¶é—´</li>
            <li>æŒæ¡ä¸åŠ¨äº§ç‰©æƒå˜åŠ¨çš„å¯¹æŠ—è¦ä»¶ï¼ˆç™»è®°ï¼‰åŠå…¶æ•ˆåŠ›</li>
            <li>ç†Ÿæ‚‰å¯¹æŠ—é—®é¢˜çš„å¤„ç†è§„åˆ™ï¼Œç‰¹åˆ«æ˜¯äºŒé‡è®©ä¸çš„æƒ…å†µ</li>
            <li>äº†è§£ä¸éœ€è¦ç™»è®°å³å¯å¯¹æŠ—çš„ç¬¬ä¸‰äººç±»å‹</li>
            <li>æŒæ¡å„ç§æƒ…å†µä¸‹å¯¹æŠ—ç¬¬ä¸‰äººçš„è§„åˆ™ï¼ˆå–æ¶ˆå‰åã€è§£é™¤å‰åã€æ—¶æ•ˆå®Œæˆå‰åç­‰ï¼‰</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. ç‰©æƒå˜åŠ¨çš„åŸºæœ¬æ¦‚å¿µ</h2>
          
          <h3>ä»€ä¹ˆæ˜¯ç‰©æƒå˜åŠ¨ï¼Ÿ</h3>
          <div class="concept-explanation">
            <p>ç‰©æƒå˜åŠ¨æ˜¯æŒ‡ç‰©æƒçš„å‘ç”Ÿã€å˜æ›´å’Œæ¶ˆç­ï¼Œå¦‚æ‰€æœ‰æƒçš„è½¬ç§»ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ æ¡ˆä¾‹è¯´æ˜</h4>
              <p>AæŠŠæˆ¿å­å–ç»™Bï¼Œæ‰€æœ‰æƒä»Aè½¬ç§»åˆ°äº†Bï¼Œåƒè¿™æ ·çš„æ‰€æœ‰æƒç§»è½¬å°±å«åšç‰©æƒå˜åŠ¨ã€‚</p>
            </div>
          </div>

          <h3>ç‰©æƒå˜åŠ¨çš„æ•ˆåŠ›</h3>
          <div class="effect-timing">
            <div class="timing-item">
              <div class="timing-icon">ğŸ </div>
              <div class="timing-content">
                <h4>ä¸åŠ¨äº§</h4>
                <p>åŸºäºä¹°å–å¥‘çº¦çš„æ„æ€è¡¨ç¤ºï¼Œå‘ç”Ÿæ•ˆåŠ›ã€‚åªè¦æ²¡æœ‰ç‰¹çº¦ï¼Œæ‰€æœ‰æƒç«‹å³ç§»è½¬ç»™ä¹°ä¸»ã€‚</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ“¦</div>
              <div class="timing-content">
                <h4>åŠ¨äº§</h4>
                <p>åªè¦åšäº†å¼•æ¸¡ï¼Œå°±å…·å¤‡äº†å¯¹æŠ—åŠ›ã€‚</p>
              </div>
            </div>
          </div>

          <h3>é‡è¦åŸåˆ™</h3>
          <div class="important-principles">
            <div class="principle-item">
              <h4>è§„åˆ™1</h4>
              <p>è¿›è¡Œäº†ä¸åŠ¨äº§çš„ä¹°å–å¥‘çº¦æ—¶ï¼Œå³ä½¿ä¸ç™»è®°ï¼Œæ‰€æœ‰æƒä¹Ÿç§»è½¬ç»™ä¹°ä¸»ã€‚</p>
            </div>
            <div class="principle-item">
              <h4>è§„åˆ™2</h4>
              <p>æ‰€æœ‰æƒä¸ç™»è®°çš„è¯ï¼Œä¸èƒ½å‘ç¬¬ä¸‰è€…å¯¹æŠ—ã€‚</p>
            </div>
            <div class="principle-item">
              <h4>æ ¸å¿ƒè¦ç‚¹</h4>
              <p>ä¸åŠ¨äº§ç›¸å…³çš„ç‰©æƒå˜åŠ¨ï¼Œå¦‚æœä¸ç™»è®°ï¼Œæ— æ³•å¯¹æŠ—ç¬¬ä¸‰è€…ï¼Œå…ˆç™»è®°è€…èµ¢ã€‚</p>
            </div>
          </div>
        </section>

        <!-- å¯¹æŠ—è¦ä»¶ï¼ˆç™»è®°ï¼‰ -->
        <section id="registration" class="content-section">
          <h2>2. å¯¹æŠ—è¦ä»¶ï¼ˆç™»è®°ï¼‰</h2>
          
          <h3>ç™»è®°çš„ä½œç”¨</h3>
          <div class="registration-concept">
            <p>åœŸåœ°æˆ–å»ºç‰©çš„æ‰€æœ‰æƒè¦ä¸»å¼ ï¼ŒåŸåˆ™ä¸Šéœ€è¦ç™»è®°ã€‚ç™»è®°æ˜¯æŒ‡åœ¨æ³•åŠ¡å±€çš„ç™»è®°ç°¿ä¸Šè®°å½•ä¸€å®šäº‹é¡¹ã€‚</p>
            
            <div class="analogy-box">
              <h4>ğŸ“ ç®€å•æ¯”å–»</h4>
              <p>å°±åƒåœ¨ç‰©å“ä¸Šå†™åå­—è¡¨ç¤ºæ˜¯è‡ªå·±çš„ä¸œè¥¿ä¸€æ ·ï¼Œåœ¨ç™»è®°ç°¿ä¸Šç™»è®°åå­—ï¼Œå°±å¯ä»¥ä¸»å¼ æ˜¯è‡ªå·±çš„ä¸œè¥¿ã€‚</p>
            </div>
          </div>

          <h3>ç™»è®°çš„åŸºæœ¬è§„åˆ™</h3>
          <div class="registration-rules">
            <div class="rule-item">
              <div class="rule-icon">ğŸ¥‡</div>
              <div class="rule-content">
                <h4>å…ˆç™»è®°è€…èƒœå‡º</h4>
                <p>å¥‘çº¦å…ˆåä¸å½±å“ï¼Œç™»è®°å…ˆåå†³å®šèƒœè´Ÿ</p>
              </div>
            </div>
            <div class="rule-item">
              <div class="rule-icon">ğŸ”„</div>
              <div class="rule-content">
                <h4>å¯¹å‰ä¸»å’Œç›¸ç»­äºº</h4>
                <p>ä¹°ä¸»å¯ä»¥æ— ç™»è®°å¯¹æŠ—å–ä¸»çš„å‰ä¸»å’Œç›¸ç»­äºº</p>
              </div>
            </div>
          </div>

          <h3>ç‰¹æ®Šæƒ…å†µè¯´æ˜</h3>
          <div class="special-cases">
            <div class="case-item">
              <h4>å¯¹å–ä¸»çš„å‰ä¸»</h4>
              <p>ä¹°ä¸»å¯ä»¥æ— ç™»è®°å¯¹æŠ—æ‰€æœ‰æƒ</p>
              <div class="case-example">
                <strong>ä¾‹ï¼š</strong>A â†’ B â†’ Cï¼ˆç™»è®°åœ¨Aåä¸‹ï¼‰ï¼ŒCå¯ä»¥æ— ç™»è®°å¯¹æŠ—A
              </div>
            </div>
            <div class="case-item">
              <h4>å¯¹å–ä¸»çš„ç›¸ç»­äºº</h4>
              <p>ä¹°ä¸»å¯ä»¥æ— ç™»è®°å¯¹æŠ—æ‰€æœ‰æƒ</p>
              <div class="case-example">
                <strong>ä¾‹ï¼š</strong>Aå–ç»™Båæ­»äº¡ï¼ŒCç»§æ‰¿Açš„ç™»è®°ï¼ŒBå¯ä»¥æ— ç™»è®°å¯¹æŠ—C
              </div>
            </div>
          </div>
        </section>

        <!-- äºŒé‡è®©ä¸çš„å¯¹æŠ—é—®é¢˜ -->
        <section id="double-transfer" class="content-section">
          <h2>3. äºŒé‡è®©ä¸çš„å¯¹æŠ—é—®é¢˜</h2>
          
          <h3>ä»€ä¹ˆæ˜¯äºŒé‡è®©ä¸ï¼Ÿ</h3>
          <div class="double-transfer-concept">
            <p>åŒä¸€æ ‡çš„ç‰©å…ˆåè®©ä¸ç»™ä¸¤ä¸ªä»¥ä¸Šçš„å—è®©äººè€Œäº§ç”Ÿçš„äº‰è®®ã€‚</p>
            
            <div class="conflict-scenario">
              <div class="party-a">
                <h4>Bçš„ä¸»å¼ </h4>
                <p>è¿™ä¸ªåœŸåœ°æ˜¯æˆ‘çš„ï¼</p>
                <div class="contract-info">å¥‘çº¦ï¼š2æœˆ10æ—¥</div>
              </div>
              <div class="versus">VS</div>
              <div class="party-b">
                <h4>Cçš„ä¸»å¼ </h4>
                <p>è¿™ä¸ªåœŸåœ°æ˜¯æˆ‘çš„ï¼</p>
                <div class="contract-info">å¥‘çº¦ï¼š2æœˆ15æ—¥ + ç™»è®°</div>
              </div>
            </div>
          </div>

          <h3>è§£å†³è§„åˆ™</h3>
          <div class="solution-rules">
            <div class="solution-step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>å¥‘çº¦æ—¶é—´ä¸é‡è¦</h4>
                <p>å¥‘çº¦çš„å…ˆåé¡ºåºä¸å½±å“ç»“æœ</p>
              </div>
            </div>
            <div class="solution-step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>ç™»è®°æ—¶é—´å†³å®šèƒœè´Ÿ</h4>
                <p>å…ˆå®Œæˆç™»è®°è€…å–å¾—æ‰€æœ‰æƒ</p>
              </div>
            </div>
            <div class="solution-step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Cèƒœå‡º</h4>
                <p>è™½ç„¶Bçš„å¥‘çº¦åœ¨å…ˆï¼Œä½†Cå…ˆå®Œæˆç™»è®°</p>
              </div>
            </div>
          </div>

          <h3>æ¡ˆä¾‹è¯´æ˜</h3>
          <div class="case-illustration">
            <div class="timeline">
              <div class="timeline-event">
                <div class="event-date">2æœˆ10æ—¥</div>
                <div class="event-content">Aä¸Bç­¾è®¢ä¹°å–å¥‘çº¦</div>
              </div>
              <div class="timeline-event">
                <div class="event-date">2æœˆ15æ—¥</div>
                <div class="event-content">Aä¸Cç­¾è®¢ä¹°å–å¥‘çº¦ + å®Œæˆç™»è®°</div>
              </div>
              <div class="timeline-event result">
                <div class="event-date">ç»“æœ</div>
                <div class="event-content">Cå–å¾—åœŸåœ°æ‰€æœ‰æƒ</div>
              </div>
            </div>
          </div>
        </section>

        <!-- ä¸éœ€è¦ç™»è®°å³å¯å¯¹æŠ—çš„ç¬¬ä¸‰äºº -->
        <section id="no-registration-needed" class="content-section">
          <h2>4. ä¸éœ€è¦ç™»è®°å³å¯å¯¹æŠ—çš„ç¬¬ä¸‰äºº</h2>
          
          <h3>æ— æƒåˆ©è€…</h3>
          <div class="rights-categories">
            <div class="category-item">
              <div class="category-icon">ğŸš«</div>
              <div class="category-content">
                <h4>å®šä¹‰</h4>
                <p>ä»æ— æƒåˆ©è€…å¤„å—è®©æƒåˆ©çš„äºº</p>
                <div class="category-note">æ— æƒåˆ©è€…ä»æ— æƒåˆ©è€…å¤„å—è®©ï¼Œä»æ˜¯æ— æƒåˆ©è€…ï¼</div>
              </div>
            </div>
            <div class="category-item">
              <div class="category-icon">ğŸ¤¥</div>
              <div class="category-content">
                <h4>è™šä¼ªè¡¨ç¤º</h4>
                <p>å› è™šä¼ªè¡¨ç¤ºè€Œå–å¾—ç™»è®°çš„äºº</p>
                <div class="category-example">
                  A â†” Bï¼ˆè™šä¼ªè¡¨ç¤ºï¼‰â†’ ç™»è®°è½¬ç§»
                </div>
              </div>
            </div>
          </div>

          <h3>ä¸æ³•å æ®è€…</h3>
          <div class="illegal-occupier">
            <div class="occupier-scenario">
              <div class="occupier-claim">
                <h4>ä¸æ³•å æ®è€…çš„ä¸»å¼ </h4>
                <p>"æˆ‘ä½åœ¨è¿™é‡Œå°±æ˜¯æˆ‘çš„åœŸåœ°ï¼ä¸äº¤å‡ºæ¥ï¼æœ‰æ„è§å°±æ‹¿å‡ºç™»è®°æ¥ï¼"</p>
              </div>
              <div class="true-owner-rights">
                <h4>çœŸæ­£æƒåˆ©äººçš„æƒåˆ©</h4>
                <p>å³ä½¿æ²¡æœ‰ç™»è®°ï¼Œä¹Ÿå¯ä»¥å¯¹æŠ—ä¸æ³•å æ®è€…ï¼Œè¯·æ±‚äº¤è¿˜</p>
              </div>
            </div>
          </div>

          <h3>èƒŒä¿¡çš„æ¶æ„è€…</h3>
          <div class="bad-faith">
            <div class="bad-faith-types">
              <div class="type-item">
                <h4>æ¬ºè¯ˆ</h4>
                <p>é€šè¿‡æ¬ºè¯ˆæ‰‹æ®µå¦¨ç¢ç™»è®°ç”³è¯·çš„äºº</p>
              </div>
              <div class="type-item">
                <h4>å¼ºè¿«</h4>
                <p>é€šè¿‡å¼ºè¿«æ‰‹æ®µå¦¨ç¢ç™»è®°ç”³è¯·çš„äºº</p>
                <div class="threat-example">
                  "å»ç™»è®°æ‰€çš„è¯ä¼šé‡åˆ°å¯æ€•çš„äººå“¦ï¼" â† å¼ºè¿«è¡Œä¸º
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- å–æ¶ˆä¸ç¬¬ä¸‰äºº -->
        <section id="cancellation" class="content-section">
          <h2>5. å–æ¶ˆä¸ç¬¬ä¸‰äºº</h2>
          
          <h3>å–æ¶ˆå‰çš„ç¬¬ä¸‰äºº</h3>
          <div class="cancellation-timing">
            <div class="timing-case">
              <h4>æ¬ºè¯ˆçš„æƒ…å†µ</h4>
              <div class="case-outcome cannot-resist">
                ä¸å¯å¯¹æŠ—å–„æ„æ— è¿‡å¤±çš„ç¬¬ä¸‰äºº
              </div>
            </div>
            <div class="timing-case">
              <h4>å¼ºè¿«çš„æƒ…å†µ</h4>
              <div class="case-outcome can-resist">
                æ— è®ºå–„æ„æ¶æ„éƒ½å¯å¯¹æŠ—
              </div>
            </div>
          </div>

          <h3>å–æ¶ˆåçš„ç¬¬ä¸‰äºº</h3>
          <div class="cancellation-scenario">
            <div class="scenario-flow">
              <div class="flow-step">
                <div class="step-icon">ğŸ“</div>
                <div class="step-content">
                  <h4>Aå–æ¶ˆå¥‘çº¦</h4>
                  <p>"æˆ‘è¦å–æ¶ˆï¼"</p>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-icon">ğŸ”„</div>
                <div class="step-content">
                  <h4>Bè½¬å–ç»™C</h4>
                  <p>"ä¸æƒ³è¿”è¿˜ï¼Œå–ç»™Cå§ï¼"</p>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-icon">âš–ï¸</div>
                <div class="step-content">
                  <h4>è§£å†³æ–¹å¼</h4>
                  <p>ä»¥ç™»è®°å†³å®šèƒœè´Ÿ</p>
                  <div class="step-detail">Aæœ‰ç™»è®° â†’ Aèƒœå‡º<br>Cæœ‰ç™»è®° â†’ Cèƒœå‡º</div>
                </div>
              </div>
            </div>
          </div>

          <h3>é‡è¦åŒºåˆ«</h3>
          <div class="important-distinction">
            <div class="distinction-item">
              <h4>å–æ¶ˆå‰çš„ç¬¬ä¸‰äºº</h4>
              <p>ç™»è®°æœ‰æ— ä¸å½±å“</p>
            </div>
            <div class="distinction-item">
              <h4>å–æ¶ˆåçš„ç¬¬ä¸‰äºº</h4>
              <p>ä»¥ç™»è®°å†³å®šèƒœè´Ÿ</p>
            </div>
          </div>
        </section>

        <!-- è§£é™¤ä¸ç¬¬ä¸‰äºº -->
        <section id="rescission" class="content-section">
          <h2>6. è§£é™¤ä¸ç¬¬ä¸‰äºº</h2>
          
          <h3>è§£é™¤å‰çš„ç¬¬ä¸‰äºº</h3>
          <div class="rescission-before">
            <div class="rule-summary">
              <div class="rule-icon">ğŸ“‹</div>
              <div class="rule-text">
                <h4>æœ‰ç™»è®°çš„ç¬¬ä¸‰äººèƒœå‡º</h4>
                <p>è§£é™¤å‰å‡ºç°çš„ç¬¬ä¸‰äººï¼Œå¦‚æœæœ‰ç™»è®°ï¼Œåˆ™ç¬¬ä¸‰äººèƒœå‡º</p>
              </div>
            </div>
          </div>

          <h3>è§£é™¤åçš„ç¬¬ä¸‰äºº</h3>
          <div class="rescission-after">
            <div class="rule-summary">
              <div class="rule-icon">âš”ï¸</div>
              <div class="rule-text">
                <h4>æœ‰ç™»è®°çš„ä¸€æ–¹èƒœå‡º</h4>
                <p>è§£é™¤åå‡ºç°çš„ç¬¬ä¸‰äººï¼Œç™»è®°åœ¨å…ˆçš„ä¸€æ–¹èƒœå‡º</p>
              </div>
            </div>
          </div>

          <h3>åŸºæœ¬åŸåˆ™</h3>
          <div class="basic-principle">
            <div class="principle-highlight">
              <span class="highlight-text">"è§£é™¤"å‡ºç°æ—¶ï¼ŒåŸºæœ¬ä¸Šä»¥ç™»è®°å†³å®šèƒœè´Ÿ</span>
            </div>
            <div class="principle-note">
              <p>æ— è®ºæ˜¯è§£é™¤å‰è¿˜æ˜¯è§£é™¤åçš„ç¬¬ä¸‰äººï¼Œç™»è®°éƒ½æ˜¯å…³é”®å› ç´ </p>
            </div>
          </div>
        </section>

        <!-- å„ç§ç‰¹æ®Šæƒ…å†µ -->
        <section id="special-cases" class="content-section">
          <h2>7. å„ç§ç‰¹æ®Šæƒ…å†µ</h2>
          
          <h3>å…±åŒç›¸ç»­ä¸ç¬¬ä¸‰äºº</h3>
          <div class="co-inheritance">
            <div class="case-scenario">
              <h4>æƒ…æ™¯</h4>
              <p>Aå’ŒBå…±åŒç»§æ‰¿åœŸåœ°ï¼Œä½†Bä»¥å•ç‹¬ç»§æ‰¿åä¹‰ç™»è®°ï¼Œå¹¶æ“…è‡ªå–ç»™ç¬¬ä¸‰äººC</p>
            </div>
            <div class="case-resolution">
              <h4>è§£å†³</h4>
              <div class="resolution-steps">
                <div class="resolution-step">
                  <div class="step-mark">â‘ </div>
                  <div class="step-content">Bå¯¹Açš„æŒåˆ†æ˜¯æ— æƒåˆ©è€…</div>
                </div>
                <div class="resolution-step">
                  <div class="step-mark">â‘¡</div>
                  <div class="step-content">Cä»æ— æƒåˆ©è€…å¤„å—è®©ï¼Œä¹Ÿæ˜¯æ— æƒåˆ©è€…</div>
                </div>
                <div class="resolution-step">
                  <div class="step-mark">â‘¢</div>
                  <div class="step-content">Aå¯ä»¥æ— ç™»è®°å¯¹æŠ—C</div>
                </div>
              </div>
            </div>
          </div>

          <h3>é—äº§åˆ†å‰²ä¸ç¬¬ä¸‰äºº</h3>
          <div class="inheritance-division">
            <div class="division-scenario">
              <h4>æƒ…æ™¯</h4>
              <p>Aå’ŒBå…±åŒç»§æ‰¿ï¼Œåè®®åœŸåœ°å½’Aå•ç‹¬æ‰€æœ‰ï¼Œä½†Bç™»è®°è‡ªå·±æŒåˆ†åå–ç»™C</p>
            </div>
            <div class="division-resolution">
              <h4>è§£å†³</h4>
              <p>Bçš„æŒåˆ†é€šè¿‡é—äº§åˆ†å‰²å·²è½¬ç§»ç»™Aï¼ŒBåŒæ—¶éœ€è¦å¯¹Aå’ŒCå±¥è¡Œä¹‰åŠ¡</p>
              <div class="resolution-note">
                è¿™æ„æˆäºŒé‡è®©ä¸çŠ¶æ€ï¼Œä»¥ç™»è®°å†³å®šèƒœè´Ÿ
              </div>
            </div>
          </div>

          <h3>ç›¸ç»­æ”¾å¼ƒä¸ç¬¬ä¸‰äºº</h3>
          <div class="inheritance-renunciation">
            <div class="renunciation-scenario">
              <h4>æƒ…æ™¯</h4>
              <p>Aå’ŒBå…±åŒç»§æ‰¿åœŸåœ°ï¼ŒBæ”¾å¼ƒç›¸ç»­ä½†ä»ç™»è®°å¹¶å–ç»™C</p>
            </div>
            <div class="renunciation-resolution">
              <h4>è§£å†³</h4>
              <div class="resolution-logic">
                <div class="logic-step">Bæ”¾å¼ƒç›¸ç»­ â†’ è§†ä¸ºä»ä¸€å¼€å§‹å°±ä¸æ˜¯ç›¸ç»­äºº</div>
                <div class="logic-step">Bæ˜¯æ— æƒåˆ©è€… â†’ Cä¹Ÿæ˜¯æ— æƒåˆ©è€…</div>
                <div class="logic-step">Aå¯ä»¥æ— ç™»è®°å¯¹æŠ—C</div>
              </div>
            </div>
          </div>
        </section>

        <!-- æ—¶æ•ˆå®Œæˆä¸ç¬¬ä¸‰äºº -->
        <section id="prescription" class="content-section">
          <h2>8. æ—¶æ•ˆå®Œæˆä¸ç¬¬ä¸‰äºº</h2>
          
          <h3>æ—¶æ•ˆå®Œæˆå‰çš„ç¬¬ä¸‰äºº</h3>
          <div class="prescription-before">
            <div class="outcome-summary">
              <div class="outcome-icon">ğŸ‘‘</div>
              <div class="outcome-content">
                <h4>æ—¶æ•ˆå®Œæˆè€…èƒœå‡º</h4>
                <p>æ— è®ºç¬¬ä¸‰äººæ˜¯å¦æœ‰ç™»è®°ï¼Œæ—¶æ•ˆå®Œæˆè€…éƒ½å¯ä»¥å¯¹æŠ—</p>
              </div>
            </div>
          </div>

          <h3>æ—¶æ•ˆå®Œæˆåçš„ç¬¬ä¸‰äºº</h3>
          <div class="prescription-after">
            <div class="outcome-summary">
              <div class="outcome-icon">ğŸ“œ</div>
              <div class="outcome-content">
                <h4>ä»¥ç™»è®°å†³å®šèƒœè´Ÿ</h4>
                <p>æ—¶æ•ˆå®Œæˆåå‡ºç°çš„ç¬¬ä¸‰äººï¼Œç™»è®°åœ¨å…ˆçš„ä¸€æ–¹èƒœå‡º</p>
              </div>
            </div>
          </div>

          <h3>è®°å¿†è¦ç‚¹æ€»ç»“</h3>
          <div class="memory-summary">
            <div class="table-container">
              <table class="summary-table">
                <thead>
                  <tr>
                    <th>æƒ…å†µ</th>
                    <th>å¤„ç†è§„åˆ™</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>å–æ¶ˆå‰çš„ç¬¬ä¸‰äºº</strong></td>
                    <td>æ¬ºè¯ˆï¼šå–„æ„æ— è¿‡å¤±ä¸å¯å¯¹æŠ—<br>å¼ºè¿«ï¼šæ— è®ºå–„æ„æ¶æ„éƒ½å¯å¯¹æŠ—</td>
                  </tr>
                  <tr>
                    <td><strong>å–æ¶ˆåçš„ç¬¬ä¸‰äºº</strong></td>
                    <td class="registration-rule">ç™»è®°ï¼</td>
                  </tr>
                  <tr>
                    <td><strong>è§£é™¤å‰çš„ç¬¬ä¸‰äºº</strong></td>
                    <td class="registration-rule">ç™»è®°ï¼</td>
                  </tr>
                  <tr>
                    <td><strong>è§£é™¤åçš„ç¬¬ä¸‰äºº</strong></td>
                    <td class="registration-rule">ç™»è®°ï¼</td>
                  </tr>
                  <tr>
                    <td><strong>æ—¶æ•ˆå®Œæˆå‰çš„ç¬¬ä¸‰äºº</strong></td>
                    <td class="prescription-rule">æ—¶æ•ˆå®Œæˆè€…èƒœå‡ºï¼</td>
                  </tr>
                  <tr>
                    <td><strong>æ—¶æ•ˆå®Œæˆåçš„ç¬¬ä¸‰äºº</strong></td>
                    <td class="registration-rule">ç™»è®°ï¼</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <h3>å®ç”¨å»ºè®®</h3>
          <div class="practical-tips">
            <div class="tip-item">
              <div class="tip-icon">ğŸ’¡</div>
              <div class="tip-content">
                <h4>â—‹â—‹åçš„ç¬¬ä¸‰äºº</h4>
                <p>çœ‹åˆ°"â—‹â—‹å"çš„è¡¨è¿°ï¼ŒåŸºæœ¬éƒ½è¦çœ‹ç™»è®°ï¼</p>
              </div>
            </div>
            <div class="tip-item">
              <div class="tip-icon">ğŸ’¡</div>
              <div class="tip-content">
                <h4>è§£é™¤</h4>
                <p>çœ‹åˆ°"è§£é™¤"ï¼ŒåŸºæœ¬éƒ½è¦çœ‹ç™»è®°ï¼</p>
              </div>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=property-change" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=property-change" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'registration', title: 'å¯¹æŠ—è¦ä»¶', icon: 'ğŸ“' },
  { id: 'double-transfer', title: 'äºŒé‡è®©ä¸', icon: 'ğŸ”„' },
  { id: 'no-registration-needed', title: 'æ— éœ€ç™»è®°', icon: 'ğŸš«' },
  { id: 'cancellation', title: 'å–æ¶ˆ', icon: 'âŒ' },
  { id: 'rescission', title: 'è§£é™¤', icon: 'âš”ï¸' },
  { id: 'special-cases', title: 'ç‰¹æ®Šæƒ…å†µ', icon: 'ğŸ”' },
  { id: 'prescription', title: 'æ—¶æ•ˆå®Œæˆ', icon: 'â°' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'ç‰©æ¨©å¤‰å‹•ï¼ˆã¶ã£ã‘ã‚“ã¸ã‚“ã©ã†ï¼‰',
    chinese: 'ç‰©æƒå˜åŠ¨',
    explanation: 'ç‰©æƒçš„å‘ç”Ÿã€å˜æ›´å’Œæ¶ˆç­ï¼Œå¦‚æ‰€æœ‰æƒçš„è½¬ç§»',
    example: 'AæŠŠæˆ¿å­å–ç»™Bï¼Œæ‰€æœ‰æƒä»Aè½¬ç§»åˆ°B'
  },
  {
    japanese: 'å¯¾æŠ—è¦ä»¶ï¼ˆãŸã„ã“ã†ã‚ˆã†ã‘ã‚“ï¼‰',
    chinese: 'å¯¹æŠ—è¦ä»¶',
    explanation: 'ç‰©æƒå˜åŠ¨åï¼Œèƒ½å¤Ÿå¯¹æŠ—ç¬¬ä¸‰äººçš„æ³•å¾‹è¦ä»¶',
    example: 'ä¸åŠ¨äº§çš„ç™»è®°ï¼ŒåŠ¨äº§çš„äº¤ä»˜'
  },
  {
    japanese: 'ç™»è¨˜ï¼ˆã¨ã†ãï¼‰',
    chinese: 'ç™»è®°',
    explanation: 'åœ¨æ³•åŠ¡å±€ç™»è®°ç°¿ä¸Šè®°å½•ç›¸å…³äº‹é¡¹ï¼Œä½œä¸ºä¸åŠ¨äº§ç‰©æƒå˜åŠ¨çš„å¯¹æŠ—è¦ä»¶',
    example: 'ä¹°æˆ¿ååˆ°æ³•åŠ¡å±€åŠç†æ‰€æœ‰æƒè½¬ç§»ç™»è®°'
  },
  {
    japanese: 'äºŒé‡è­²æ¸¡ï¼ˆã«ã˜ã‚…ã†ã˜ã‚‡ã†ã¨ï¼‰',
    chinese: 'äºŒé‡è®©ä¸',
    explanation: 'åŒä¸€æ ‡çš„ç‰©å…ˆåè®©ä¸ç»™ä¸¤ä¸ªä»¥ä¸Šçš„å—è®©äºº',
    example: 'AæŠŠåŒä¸€åœŸåœ°å…ˆåå–ç»™Bå’ŒC'
  },
  {
    japanese: 'èƒŒä¿¡çš„æ‚ªæ„è€…ï¼ˆã¯ã„ã—ã‚“ã¦ãã‚ãã„ã—ã‚ƒï¼‰',
    chinese: 'èƒŒä¿¡çš„æ¶æ„è€…',
    explanation: 'æ˜çŸ¥ç‰©æƒå˜åŠ¨å´ä»¥æŸå®³çœŸæ­£æƒåˆ©äººä¸ºç›®çš„è€Œå–å¾—æƒåˆ©çš„äºº',
    example: 'é€šè¿‡æ¬ºè¯ˆã€å¼ºè¿«æ‰‹æ®µå¦¨ç¢ç™»è®°ç”³è¯·çš„äºº'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'Aã¯ã€è‡ªå·±æ‰€æœ‰ã®å»ºç‰©ã‚’Bã«å£²å´ã—ãŸãŒã€Bã¯ã¾ã æ‰€æœ‰æ¨©ç§»è»¢ç™»è¨˜ã‚’è¡Œã£ã¦ã„ãªã„ã€‚Aã¯ã“ã®å»ºç‰©ã‚’Fã‹ã‚‰è²·ã„å—ã‘ã€Fã‹ã‚‰Aã«å¯¾ã™ã‚‹æ‰€æœ‰æ¨©ç§»è»¢ç™»è¨˜ãŒã¾ã è¡Œã‚ã‚Œã¦ã„ãªã„å ´åˆã€Bã¯ã€Fã«å¯¾ã—ã€ã“ã®å»ºç‰©ã®æ‰€æœ‰æ¨©ã‚’å¯¾æŠ—ã§ãã‚‹ã€‚ï¼ˆ2004-3-4ï¼‰',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'å¯¹å–ä¸»çš„å‰ä¸»ï¼Œä¹°ä¸»å¯ä»¥æ— ç™»è®°å¯¹æŠ—æ‰€æœ‰æƒã€‚'
  },
  {
    question: 'Aã¯ã€è‡ªå·±æ‰€æœ‰ã®ç”²åœ°ã‚’Bã«å£²å´ã—ã€ä»£é‡‘ã‚’å—é ˜ã—ã¦å¼•æ¸¡ã—ã‚’çµ‚ãˆãŸãŒã€Aã‹ã‚‰Bã«å¯¾ã™ã‚‹æ‰€æœ‰æ¨©ç§»è»¢ç™»è¨˜ã¯ã¾ã è¡Œã‚ã‚Œã¦ã„ãªã„ã€‚Aã®æ­»äº¡ã«ã‚ˆã‚ŠCãŒå˜ç‹¬ç›¸ç¶šã—ã€ç”²åœ°ã«ã¤ã„ã¦ç›¸ç¶šã‚’åŸå› ã¨ã™ã‚‹Aã‹ã‚‰Cã¸ã®æ‰€æœ‰æ¨©ç§»è»¢ç™»è¨˜ãŒãªã•ã‚ŒãŸå ´åˆã€Bã¯ã€è‡ªã‚‰ã¸ã®ç™»è¨˜ã‚’ã—ã¦ã„ãªã„ã®ã§ã€ç”²åœ°ã®æ‰€æœ‰æ¨©ã‚’Cã«å¯¾æŠ—ã§ããªã„ã€‚ï¼ˆ2005-8-1ï¼‰',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'å¯¹å–ä¸»çš„ç›¸ç»­äººï¼Œä¹°ä¸»å¯ä»¥æ— ç™»è®°å¯¹æŠ—æ‰€æœ‰æƒã€‚'
  },
  {
    question: 'Aã¯ã€è‡ªå·±æ‰€æœ‰ã®å»ºç‰©ã‚’Bã«å£²å´ã—ãŸãŒã€Bã¯ã¾ã æ‰€æœ‰æ¨©ç§»è»¢ç™»è¨˜ã‚’è¡Œã£ã¦ã„ãªã„ã€‚CãŒä½•ã‚‰ã®æ¨©åŸãªãã“ã®å»ºç‰©ã‚’ä¸æ³•å æœ‰ã—ã¦ã„ã‚‹å ´åˆã€Bã¯ã€Cã«å¯¾ã—ã€ã“ã®å»ºç‰©ã®æ‰€æœ‰æ¨©ã‚’å¯¾æŠ—ã§ãã€æ˜æ¸¡ã—ã‚’è«‹æ±‚ã§ãã‚‹ã€‚ï¼ˆ2004-3-1ï¼‰',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'å¯¹ä¸æ³•å æ®è€…ï¼Œä¹°ä¸»å¯ä»¥æ— ç™»è®°å¯¹æŠ—æ‰€æœ‰æƒã€‚'
  },
  {
    question: 'Aæ‰€æœ‰ã®ç”²åœŸåœ°ã«ã¤ãã€Aã¨Bã¨ã®é–“ã§å£²è²·å¥‘ç´„ãŒç· çµã•ã‚ŒãŸã€‚AãŒBã«ã ã¾ã•ã‚ŒãŸã¨ã—ã¦è©æ¬ºã‚’ç†ç”±ã«ABé–“ã®å£²è²·å¥‘ç´„ã‚’å–ã‚Šæ¶ˆã—ãŸå¾Œã€BãŒç”²åœŸåœ°ã‚’Aã«è¿”é‚„ã›ãšã«Dã«è»¢å£²ã—ã¦DãŒæ‰€æœ‰æ¨©ç§»è»¢ç™»è¨˜ã‚’å‚™ãˆã¦ã‚‚ã€Aã¯Dã‹ã‚‰ç”²åœŸåœ°ã‚’å–ã‚Šæˆ»ã™ã“ã¨ãŒã§ãã‚‹ã€‚ï¼ˆ2011-1-3ï¼‰',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'å–æ¶ˆåçš„ç¬¬ä¸‰äººï¼Œéœ€è¦ç™»è®°æ‰èƒ½å¯¹æŠ—ã€‚'
  },
  {
    question: 'Aæ‰€æœ‰ã®ç”²åœŸåœ°ã«ã¤ãã€æ™‚åŠ¹ã«ã‚ˆã‚Šæ‰€æœ‰æ¨©ã‚’å–å¾—ã—ãŸBã¯ã€æ™‚åŠ¹å®Œæˆå‰ã«Aã‹ã‚‰ç”²åœŸåœ°ã‚’è³¼å…¥ã—ã¦æ‰€æœ‰æ¨©ç§»è»¢ç™»è¨˜ã‚’å‚™ãˆãŸCã«å¯¾ã—ã¦ã€æ™‚åŠ¹ã«ã‚ˆã‚‹æ‰€æœ‰æ¨©ã®å–å¾—ã‚’ä¸»å¼µã™ã‚‹ã“ã¨ãŒã§ããªã„ã€‚ï¼ˆ2012-6-1ï¼‰',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æ—¶æ•ˆå®Œæˆå‰çš„ç¬¬ä¸‰äººï¼Œæ—¶æ•ˆå®Œæˆè€…èƒœå‡ºã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('property-change', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('property-change')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('property-change')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('property-change', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.property-change-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-explanation {
  margin-bottom: 2rem;
}

.example-box {
  background: #f0f7ff;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
  border-left: 4px solid #2a7960;
}

.example-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.effect-timing {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.timing-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.timing-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.timing-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timing-content p {
  margin: 0;
  color: #6c757d;
}

.important-principles {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.principle-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.principle-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= å¯¹æŠ—è¦ä»¶æ ·å¼ ========= */
.registration-concept {
  margin-bottom: 2rem;
}

.analogy-box {
  background: #e9f7f0;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
  border-left: 4px solid #2a7960;
}

.analogy-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.registration-rules {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.rule-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.rule-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.rule-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.special-cases {
  margin: 2rem 0;
}

.case-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 1rem;
}

.case-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.case-example {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

/* ========= äºŒé‡è®©ä¸æ ·å¼ ========= */
.double-transfer-concept {
  margin-bottom: 2rem;
}

.conflict-scenario {
  display: flex;
  justify-content: space-around;
  align-items: center;
  margin: 1.5rem 0;
  padding: 1.5rem;
  background: #f8f9fa;
  border-radius: 8px;
}

.party-a, .party-b {
  text-align: center;
  padding: 1rem;
  flex: 1;
}

.party-a h4, .party-b h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.versus {
  font-weight: bold;
  color: #6c757d;
  padding: 0 1rem;
}

.contract-info {
  margin-top: 0.5rem;
  font-size: 0.875rem;
  color: #6c757d;
}

.solution-rules {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.solution-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.solution-step .step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
}

.solution-step h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.case-illustration {
  margin: 2rem 0;
}

.timeline {
  position: relative;
  max-width: 500px;
  margin: 0 auto;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 20px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: #2a7960;
}

.timeline-event {
  position: relative;
  margin-bottom: 2rem;
  padding-left: 60px;
}

.timeline-event::before {
  content: '';
  position: absolute;
  left: 12px;
  top: 0;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #2a7960;
  border: 3px solid white;
}

.event-date {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.event-content {
  padding: 0.75rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.timeline-event.result .event-content {
  background: #e7f7e7;
  border-color: #2a7960;
}

/* ========= æ— éœ€ç™»è®°æ ·å¼ ========= */
.rights-categories {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.category-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.category-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.category-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.category-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #fff9e6;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
}

.category-example {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

.illegal-occupier {
  margin: 2rem 0;
}

.occupier-scenario {
  padding: 1.5rem;
  background: #fff9e6;
  border-radius: 8px;
  border-left: 4px solid #ffcc00;
}

.occupier-claim h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.true-owner-rights {
  margin-top: 1rem;
  padding: 1rem;
  background: #e7f7e7;
  border-radius: 4px;
}

.bad-faith {
  margin: 2rem 0;
}

.bad-faith-types {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.type-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.type-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.threat-example {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #ffe7e7;
  border-radius: 4px;
  font-size: 0.875rem;
  font-style: italic;
}

/* ========= å–æ¶ˆæ ·å¼ ========= */
.cancellation-timing {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.timing-case {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.timing-case h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.case-outcome {
  padding: 1rem;
  border-radius: 4px;
  font-weight: bold;
}

.cannot-resist {
  background: #ffe7e7;
  color: #c62828;
}

.can-resist {
  background: #e7f7e7;
  color: #2e7d32;
}

.cancellation-scenario {
  margin: 2rem 0;
}

.scenario-flow {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
}

.flow-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.step-icon {
  font-size: 2rem;
  margin-bottom: 1rem;
}

.flow-step h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.step-detail {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

.important-distinction {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.distinction-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.distinction-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= è§£é™¤æ ·å¼ ========= */
.rescission-before, .rescission-after {
  margin: 1.5rem 0;
}

.rule-summary {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.rule-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.rule-text h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.basic-principle {
  margin: 2rem 0;
}

.principle-highlight {
  text-align: center;
  padding: 1.5rem;
  background: #2a7960;
  color: white;
  border-radius: 8px;
  margin-bottom: 1rem;
}

.highlight-text {
  font-size: 1.25rem;
  font-weight: bold;
}

.principle-note {
  text-align: center;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 4px;
}

/* ========= ç‰¹æ®Šæƒ…å†µæ ·å¼ ========= */
.co-inheritance, .inheritance-division, .inheritance-renunciation {
  margin-bottom: 2rem;
}

.case-scenario, .division-scenario, .renunciation-scenario {
  padding: 1.5rem;
  background: #f0f7ff;
  border-radius: 8px;
  margin-bottom: 1rem;
}

.case-scenario h4, .division-scenario h4, .renunciation-scenario h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.case-resolution, .division-resolution, .renunciation-resolution {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.case-resolution h4, .division-resolution h4, .renunciation-resolution h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.resolution-steps {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.resolution-step {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.step-mark {
  width: 30px;
  height: 30px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  flex-shrink: 0;
}

.resolution-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #fff9e6;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
}

.resolution-logic {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.logic-step {
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
}

/* ========= æ—¶æ•ˆå®Œæˆæ ·å¼ ========= */
.prescription-before, .prescription-after {
  margin: 1.5rem 0;
}

.outcome-summary {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.outcome-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.outcome-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.memory-summary {
  margin: 2rem 0;
}

.summary-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.summary-table th, .summary-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
}

.summary-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
  text-align: left;
}

.summary-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.registration-rule {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
  text-align: center;
}

.prescription-rule {
  background-color: #fff9e6 !important;
  color: #e65100;
  font-weight: bold;
  text-align: center;
}

.practical-tips {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.tip-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.tip-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.tip-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .effect-timing {
    grid-template-columns: 1fr;
  }
  
  .important-principles {
    grid-template-columns: 1fr;
  }
  
  .registration-rules {
    grid-template-columns: 1fr;
  }
  
  .conflict-scenario {
    flex-direction: column;
    gap: 1rem;
  }
  
  .solution-rules {
    grid-template-columns: 1fr;
  }
  
  .rights-categories {
    grid-template-columns: 1fr;
  }
  
  .bad-faith-types {
    grid-template-columns: 1fr;
  }
  
  .cancellation-timing {
    grid-template-columns: 1fr;
  }
  
  .scenario-flow {
    grid-template-columns: 1fr;
  }
  
  .important-distinction {
    grid-template-columns: 1fr;
  }
  
  .practical-tips {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
}
</style>