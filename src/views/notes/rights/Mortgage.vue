<!-- src/views/notes/rights/Mortgage.vue -->
<template>
  <div class="mortgage-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>æŠµå½“æƒ</span>
        </div>
        <h1>æŠµå½“æƒï¼ˆæŠµæŠ¼æƒï¼‰</h1>
        <p>æ—¥æœ¬æ°‘æ³•ä¸­çš„æ‹…ä¿ç‰©æƒåˆ¶åº¦ï¼Œæ¶‰åŠæŠµæŠ¼æƒè®¾å®šã€æ•ˆåŠ›èŒƒå›´ã€ä¼˜å…ˆå—å¿ã€æ³•å®šåœ°ä¸ŠæƒåŠæœ€é«˜é¢æŠµæŠ¼æƒç­‰é‡è¦å†…å®¹</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">16</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">50åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£æŠµå½“æƒçš„å®šä¹‰ã€æ€§è´¨å’ŒåŸºæœ¬ç‰¹å¾</li>
            <li>æŒæ¡æŠµå½“æƒçš„è®¾å®šã€ç™»è®°å’Œå¯¹æŠ—è¦ä»¶</li>
            <li>ç†Ÿæ‚‰æŠµå½“æƒçš„æ•ˆåŠ›èŒƒå›´åŠä¼˜å…ˆå¼æ¸ˆè§„åˆ™</li>
            <li>äº†è§£æŠµå½“æƒä¸ç¬¬ä¸‰è€…å…³ç³»ä¸­çš„ä¿æŠ¤åˆ¶åº¦</li>
            <li>æŒæ¡æ ¹æŠµå½“æƒçš„ç‰¹æ®Šè§„å®šå’Œå®åŠ¡è¦ç‚¹</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. æŠµå½“æƒçš„åŸºæœ¬æ¦‚å¿µ</h2>
          
          <h3>æŠµå½“æƒçš„å®šä¹‰</h3>
          <div class="concept-explanation">
            <p>æŠµå½“æƒæ˜¯æŒ‡å€ºæƒäººï¼ˆæŠµå½“æƒè€…ï¼‰å¯¹å€ºåŠ¡äººæˆ–ç¬¬ä¸‰äººï¼ˆæŠµå½“æƒè®¾å®šè€…ï¼‰ä¸è½¬ç§»å æœ‰è€Œä¾›æ‹…ä¿çš„ä¸åŠ¨äº§ï¼Œåœ¨å€ºåŠ¡äººä¸å±¥è¡Œå€ºåŠ¡æ—¶ï¼Œä¾æ³•äº«æœ‰çš„å°±è¯¥è´¢äº§å˜ä»·å¹¶ä¼˜å…ˆå—å¿çš„æƒåˆ©ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ å…¸å‹æ¡ˆä¾‹</h4>
              <p>Aå€Ÿç»™B 1000ä¸‡æ—¥å…ƒï¼ŒBä»¥è‡ªæœ‰æˆ¿äº§è®¾å®šæŠµæŠ¼æƒã€‚è‹¥Bä¸è¿˜æ¬¾ï¼ŒAå¯ç”³è¯·æ‹å–è¯¥æˆ¿äº§ï¼Œä»æ‹å–æ¬¾ä¸­ä¼˜å…ˆå—å¿ã€‚</p>
            </div>
          </div>

          <h3>æŠµå½“æƒå…³ç³»ä¸­çš„è§’è‰²</h3>
          <div class="effect-timing">
            <div class="timing-item">
              <div class="timing-icon">ğŸ¦</div>
              <div class="timing-content">
                <h4>æŠµå½“æƒè€…</h4>
                <p>å€ºæƒäººï¼Œäº«æœ‰æŠµæŠ¼æƒ</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ‘¤</div>
              <div class="timing-content">
                <h4>æŠµå½“æƒè®¾å®šè€…</h4>
                <p>æä¾›æŠµæŠ¼è´¢äº§çš„äººï¼ˆå¯èƒ½æ˜¯å€ºåŠ¡äººæˆ–ç‰©ä¸Šä¿è¯äººï¼‰</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ’°</div>
              <div class="timing-content">
                <h4>è¢«æ‹…ä¿å€ºæƒ</h4>
                <p>å—æŠµæŠ¼æƒæ‹…ä¿çš„å€ºæƒ</p>
              </div>
            </div>
          </div>

          <h3>æŠµå½“æƒçš„è®¾å®š</h3>
          <div class="setting-process">
            <div class="process-steps">
              <div class="process-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>è¯ºæˆå¥‘çº¦</h4>
                  <p>åŒæ–¹åˆæ„å³å¯æˆç«‹æŠµæŠ¼æƒ</p>
                </div>
              </div>
              <div class="process-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>ç™»è®°</h4>
                  <p>å¯¹æŠ—ç¬¬ä¸‰äººçš„è¦ä»¶</p>
                </div>
              </div>
              <div class="process-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>æŠµæŠ¼æƒå®è¡Œ</h4>
                  <p>å€ºåŠ¡ä¸å±¥è¡Œæ—¶æ‹å–æŠµæŠ¼ç‰©</p>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- æŠµå½“æƒçš„æ€§è´¨ -->
        <section id="mortgage-nature" class="content-section">
          <h2>2. æŠµå½“æƒçš„æ€§è´¨</h2>
          
          <h3>å››å¤§æ€§è´¨</h3>
          <div class="nature-grid">
            <div class="nature-item">
              <div class="nature-icon">ğŸ”—</div>
              <div class="nature-content">
                <h4>ä»˜å¾“æ€§ï¼ˆé™„ä»æ€§ï¼‰</h4>
                <p>æŠµå½“æƒä»å±äºè¢«æ‹…ä¿å€ºæƒè€Œå­˜åœ¨ï¼š</p>
                <ul>
                  <li>å€ºæƒæˆç«‹ â†’ æŠµæŠ¼æƒæˆç«‹</li>
                  <li>å€ºæƒæ¶ˆç­ â†’ æŠµæŠ¼æƒæ¶ˆç­</li>
                  <li>å€ºæƒæ— æ•ˆ â†’ æŠµæŠ¼æƒæ— æ•ˆ</li>
                </ul>
              </div>
            </div>
            <div class="nature-item">
              <div class="nature-icon">ğŸ”„</div>
              <div class="nature-content">
                <h4>éšä¼´æ€§ï¼ˆä¼´éšæ€§ï¼‰</h4>
                <p>å€ºæƒè½¬è®©æ—¶ï¼ŒæŠµæŠ¼æƒéšä¹‹è½¬è®©ï¼Œä¸èƒ½å•ç‹¬è½¬è®©æŠµæŠ¼æƒã€‚</p>
              </div>
            </div>
            <div class="nature-item">
              <div class="nature-icon">âš–ï¸</div>
              <div class="nature-content">
                <h4>ä¸å¯åˆ†æ€§</h4>
                <p>å€ºæƒå…¨éƒ¨æ¸…å¿å‰ï¼ŒæŠµæŠ¼æƒäººå¯å°±æŠµæŠ¼ç‰©çš„å…¨éƒ¨è¡Œä½¿æƒåˆ©ã€‚</p>
              </div>
            </div>
            <div class="nature-item">
              <div class="nature-icon">ğŸ”„</div>
              <div class="nature-content">
                <h4>ç‰©ä¸Šä»£ä½æ€§</h4>
                <p>æŠµæŠ¼ç‰©æ¯æŸã€ç­å¤±æˆ–è¢«å¾æ”¶æ—¶ï¼ŒæŠµæŠ¼æƒäººå¯å¯¹ä¿é™©é‡‘ã€èµ”å¿é‡‘ã€è¡¥å¿é‡‘ç­‰è¡Œä½¿æƒåˆ©ã€‚</p>
              </div>
            </div>
          </div>

          <h3>ç‰©ä¸Šä»£ä½æ€§çš„è¡Œä½¿</h3>
          <div class="substitution-examples">
            <div class="example-item">
              <h4>ç«ç¾ä¿é™©é‡‘è¯·æ±‚æƒ</h4>
              <p>æŠµæŠ¼æˆ¿å±‹è¢«ç«çƒ§æ¯ï¼ŒæŠµæŠ¼æƒäººå¯å¯¹ç«ç¾ä¿é™©é‡‘è¡Œä½¿æƒåˆ©</p>
            </div>
            <div class="example-item">
              <h4>æŸå®³èµ”å¿è¯·æ±‚æƒ</h4>
              <p>åŸºäºä¸æ³•è¡Œä¸ºçš„æŸå®³èµ”å¿è¯·æ±‚æƒ</p>
            </div>
            <div class="example-item">
              <h4>ä¹°å–ä»£é‡‘è¯·æ±‚æƒ</h4>
              <p>ç›®çš„ç‰©è¢«å–å´æ—¶ï¼Œå¯è¡Œä½¿ä¹°å–ä»£é‡‘è¯·æ±‚æƒ</p>
            </div>
          </div>

          <div class="important-notes">
            <div class="note-item">
              <h4>âš ï¸ é‡è¦æé†’</h4>
              <p><strong>ç‰©ä¸Šä»£ä½å¿…é¡»åœ¨é‡‘é’±æ”¯ä»˜ç»™å€ºåŠ¡è€…ä¹‹å‰è¿›è¡Œå†»ç»“ï¼</strong>å¦‚æœä¿é™©å…¬å¸å…ˆèµ”ä»˜ç»™å€ºåŠ¡è€…ï¼Œå°±æ— æ³•æ¸…æ¥šåŒºåˆ†è¿™ç¬”é’±æ˜¯å¦æ˜¯ä¿é™©é‡‘äº†ã€‚</p>
            </div>
          </div>
        </section>

        <!-- æŠµå½“æƒçš„è®¾å®šä¸æ•ˆåŠ› -->
        <section id="mortgage-effect" class="content-section">
          <h2>3. æŠµå½“æƒçš„è®¾å®šä¸æ•ˆåŠ›</h2>
          
          <h3>è®¾å®šæ–¹å¼</h3>
          <div class="setting-methods">
            <div class="method-item">
              <h4>è¯ºæˆå¥‘çº¦</h4>
              <p>åŒæ–¹åˆæ„å³å¯æˆç«‹</p>
            </div>
            <div class="method-item">
              <h4>å¯¹æŠ—è¦ä»¶</h4>
              <p>ç™»è®°ï¼ˆä¸ç™»è®°ä¸å¾—å¯¹æŠ—ç¬¬ä¸‰äººï¼‰</p>
            </div>
          </div>

          <h3>æ•ˆåŠ›èŒƒå›´</h3>
          <div class="effect-scope">
            <div class="scope-categories">
              <div class="category-item">
                <h4>ä¸»ç‰©</h4>
                <p>åœŸåœ°ã€å»ºç­‘ç‰©ç­‰æŠµæŠ¼è´¢äº§æœ¬èº«</p>
              </div>
              <div class="category-item">
                <h4>ä»ç‰©</h4>
                <p>æŠµæŠ¼æƒè®¾å®šæ—¶å·²å­˜åœ¨çš„é™„å±ç‰©ï¼ˆå¦‚ç©ºè°ƒã€å›ºå®šè®¾å¤‡ï¼‰</p>
              </div>
              <div class="category-item">
                <h4>é™„åŠ ä¸€ä½“ç‰©</h4>
                <p>ä¸æŠµæŠ¼ç‰©éš¾ä»¥åˆ†ç¦»çš„å¢å»ºéƒ¨åˆ†</p>
              </div>
              <div class="category-item">
                <h4>ä»æƒåˆ©</h4>
                <p>åœŸåœ°ç§Ÿèµæƒç­‰ï¼ˆé™äºæŠµæŠ¼æƒè®¾å®šæ—¶å·²å­˜åœ¨ï¼‰</p>
              </div>
              <div class="category-item">
                <h4>æœå®</h4>
                <p>åŸåˆ™ä¸Šä¸åŠäºå­³æ¯ï¼Œä½†å€ºåŠ¡ä¸å±¥è¡Œåå¯åŠäº</p>
              </div>
            </div>
          </div>

          <h3>ä¼˜å…ˆå¼æ¸ˆçš„é™åˆ¶</h3>
          <div class="priority-limits">
            <div class="limit-scenario">
              <h4>æœ‰å¤šæ•°æŠµæŠ¼æƒäººæ—¶</h4>
              <div class="scenario-detail">
                <p>åˆ©æ¯ç­‰é™äº<strong>æœ€å2å¹´åˆ†</strong></p>
                <div class="scenario-note">ä¸ºäº†ä¿æŠ¤åé¡ºä½æŠµæŠ¼æƒäººçš„åˆ©ç›Š</div>
              </div>
            </div>
            <div class="limit-scenario">
              <h4>æ— å…¶ä»–åˆ©å®³å…³ç³»äººæ—¶</h4>
              <div class="scenario-detail">
                <p><strong>æ— æ­¤é™åˆ¶</strong></p>
                <div class="scenario-note">å¯å›æ”¶å…¨éƒ¨æœ¬é‡‘å’Œåˆ©æ¯</div>
              </div>
            </div>
          </div>
        </section>

        <!-- æŠµå½“æƒä¸ç¬¬ä¸‰è€…çš„å…³ç³» -->
        <section id="third-party" class="content-section">
          <h2>4. æŠµå½“æƒä¸ç¬¬ä¸‰è€…çš„å…³ç³»</h2>
          
          <h3>æŠµæŠ¼æƒä¸ç§Ÿèµæƒçš„å…³ç³»</h3>
          <div class="lease-mortgage">
            <div class="relation-case">
              <h4>æŠµæŠ¼æƒç™»è®°åœ¨å‰</h4>
              <div class="case-result">
                <p>ç§Ÿèµæƒ<strong>ä¸å¾—å¯¹æŠ—</strong>æŠµæŠ¼æƒäºº</p>
                <div class="case-note">æ‰¿ç§Ÿäººè¦æ¬ç¦»ï¼Œä½†æœ‰6ä¸ªæœˆæ˜æ¸¡çŠ¹è±«æœŸé—´</div>
              </div>
            </div>
            <div class="relation-case">
              <h4>ç§Ÿèµæƒç™»è®°åœ¨å‰</h4>
              <div class="case-result">
                <p>ç§Ÿèµæƒ<strong>å¯å¯¹æŠ—</strong>æŠµæŠ¼æƒäºº</p>
                <div class="case-note">æ‰¿ç§Ÿäººå¯ç»§ç»­å±…ä½</div>
              </div>
            </div>
          </div>

          <h3>ç¬¬ä¸‰å–å¾—è€…çš„ä¿æŠ¤åˆ¶åº¦</h3>
          <div class="third-party-protection">
            <div class="protection-method">
              <div class="method-icon">ğŸ’µ</div>
              <div class="method-content">
                <h4>ä»£ä»·æ¸…å¿</h4>
                <p>ç¬¬ä¸‰å–å¾—è€…å¯å‘æŠµæŠ¼æƒäººæ”¯ä»˜å€ºåŠ¡é‡‘é¢æ¶ˆç­æŠµæŠ¼æƒ</p>
              </div>
            </div>
            <div class="protection-method">
              <div class="method-icon">ğŸ“</div>
              <div class="method-content">
                <h4>æŠµæŠ¼æƒæ¶ˆç­è¯·æ±‚</h4>
                <p>ç¬¬ä¸‰å–å¾—è€…å‘æŠµæŠ¼æƒäººæ”¯ä»˜æˆ–æå­˜å¾—åˆ°æ‰¿è¯ºçš„é‡‘é¢ï¼Œæ¶ˆç­æŠµæŠ¼æƒ</p>
              </div>
            </div>
            <div class="protection-method">
              <div class="method-icon">ğŸ·ï¸</div>
              <div class="method-content">
                <h4>ç«ä¹°</h4>
                <p>æ‹å–æ—¶ç¬¬ä¸‰å–å¾—è€…å¯å‚ä¸ç«ä¹°ä»¥ä¿æœ‰æ‰€æœ‰æƒ</p>
              </div>
            </div>
          </div>

          <div class="important-notes">
            <div class="note-item">
              <h4>ğŸš« é™åˆ¶æ¡ä»¶</h4>
              <p><strong>ä¸»å€ºåŠ¡è€…ã€ä¿è¯äººä¸å¾—è¡Œä½¿æŠµæŠ¼æƒæ¶ˆç­è¯·æ±‚æƒï¼</strong>å› ä¸ºä»–ä»¬æœ¬æ¥å°±æ˜¯åº”è¯¥è¿˜å€ºçš„ç«‹åœºã€‚</p>
            </div>
          </div>
        </section>

        <!-- æ³•å®šåœ°ä¸Šæƒä¸ä¸€æ‹¬ç«å– -->
        <section id="legal-surface" class="content-section">
          <h2>5. æ³•å®šåœ°ä¸Šæƒä¸ä¸€æ‹¬ç«å–</h2>
          
          <h3>æ³•å®šåœ°ä¸Šæƒçš„æˆç«‹è¦ä»¶</h3>
          <div class="legal-surface-conditions">
            <div class="condition-list">
              <div class="condition-item">
                <div class="condition-check">âœ“</div>
                <div class="condition-text">æŠµæŠ¼æƒè®¾å®šæ—¶åœŸåœ°ä¸Šå·²æœ‰å»ºç­‘ç‰©</div>
              </div>
              <div class="condition-item">
                <div class="condition-check">âœ“</div>
                <div class="condition-text">åœŸåœ°ä¸å»ºç­‘ç‰©å±åŒä¸€äººæ‰€æœ‰</div>
              </div>
              <div class="condition-item">
                <div class="condition-check">âœ“</div>
                <div class="condition-text">åœŸåœ°æˆ–å»ºç­‘ç‰©æˆ–ä¸¤è€…å‡è®¾å®šäº†æŠµæŠ¼æƒ</div>
              </div>
              <div class="condition-item">
                <div class="condition-check">âœ“</div>
                <div class="condition-text">å› æ‹å–å¯¼è‡´åœŸåœ°ä¸å»ºç­‘ç‰©åˆ†å±ä¸åŒäºº</div>
              </div>
            </div>
          </div>

          <h3>ä¸€æ‹¬ç«å–åˆ¶åº¦</h3>
          <div class="bulk-auction">
            <div class="auction-scenario">
              <h4>é€‚ç”¨æƒ…å½¢</h4>
              <p>æŠµæŠ¼æƒè®¾å®šæ—¶ä¸ºç©ºåœ°ï¼Œå…¶åå»ºé€ äº†å»ºç­‘ç‰©</p>
            </div>
            <div class="auction-effect">
              <h4>æ³•å¾‹æ•ˆæœ</h4>
              <p>å¯è¯·æ±‚åœŸåœ°ä¸å»ºç­‘ç‰©<strong>ä¸€å¹¶æ‹å–</strong>ï¼Œä½†ä»…å°±<strong>åœŸåœ°ä»·æ¬¾</strong>ä¼˜å…ˆå—å¿</p>
            </div>
            <div class="auction-limit">
              <h4>é™åˆ¶æ¡ä»¶</h4>
              <p>å»ºç­‘ç‰©å æœ‰äººå¯¹æŠµæŠ¼æƒäººæœ‰å¯¹æŠ—åŠ›æ—¶é™¤å¤–</p>
            </div>
          </div>

          <h3>å®åŠ¡è¦ç‚¹</h3>
          <div class="practical-points">
            <div class="point-item">
              <h4>å»ºç‰©æœªç™»è®°</h4>
              <p>å³ä½¿å»ºç‰©æ²¡æœ‰ç™»è®°ï¼Œç»™åœŸåœ°è®¾å®šæŠµæŠ¼æƒæ—¶ï¼Œæ³•å®šåœ°ä¸Šæƒä»æˆç«‹</p>
            </div>
            <div class="point-item">
              <h4>æ›´åœ°æŠµæŠ¼</h4>
              <p>æŠµæŠ¼æƒè®¾å®šæ—¶æ˜¯ç©ºåœ°ï¼ˆæ›´åœ°ï¼‰ï¼Œè®¾å®šåå»ºé€ å»ºç‰©ï¼Œæ³•å®šåœ°ä¸Šæƒä¸æˆç«‹</p>
            </div>
          </div>
        </section>

        <!-- æ ¹æŠµå½“æƒ -->
        <section id="root-mortgage" class="content-section">
          <h2>6. æ ¹æŠµå½“æƒï¼ˆæœ€é«˜é¢æŠµæŠ¼æƒï¼‰</h2>
          
          <h3>å®šä¹‰ä¸ç‰¹å¾</h3>
          <div class="root-mortgage-concept">
            <p>ä¸ºæ‹…ä¿ä¸€å®šèŒƒå›´å†…ä¸ç‰¹å®šå€ºæƒï¼Œåœ¨æœ€é«˜é™é¢å†…è®¾å®šçš„æŠµæŠ¼æƒã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ å®åŠ¡æ¡ˆä¾‹</h4>
              <p>ç å®å•†ä¸ºè¿ç»­è¿›è´§éœ€è¦ï¼Œåœ¨5000ä¸‡æ—¥å…ƒé¢åº¦å†…è®¾å®šæ ¹æŠµå½“æƒã€‚æœªæ¥1å¹´å†…å¯å¤šæ¬¡å€Ÿæ¬¾ï¼Œåªè¦åˆè®¡ä¸è¶…è¿‡5000ä¸‡æ—¥å…ƒã€‚</p>
            </div>
          </div>

          <h3>ä¸æ™®é€šæŠµæŠ¼æƒçš„åŒºåˆ«</h3>
          <div class="comparison-table">
            <div class="table-container">
              <table class="features-table">
                <thead>
                  <tr>
                    <th>ç‰¹å¾</th>
                    <th>æ™®é€šæŠµå½“æƒ</th>
                    <th>æ ¹æŠµå½“æƒ</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>ä»˜å¾“æ€§</strong></td>
                    <td>æœ‰</td>
                    <td class="different">å…ƒæœ¬ç¡®å®šå‰æ— </td>
                  </tr>
                  <tr>
                    <td><strong>éšä¼´æ€§</strong></td>
                    <td>æœ‰</td>
                    <td class="different">å…ƒæœ¬ç¡®å®šå‰æ— </td>
                  </tr>
                  <tr>
                    <td><strong>æ‹…ä¿èŒƒå›´</strong></td>
                    <td>ç‰¹å®šå€ºæƒ</td>
                    <td class="different">ä¸ç‰¹å®šå€ºæƒ</td>
                  </tr>
                  <tr>
                    <td><strong>åˆ©æ¯é™åˆ¶</strong></td>
                    <td>æœ€å2å¹´åˆ†</td>
                    <td class="different">æåº¦é¢å†…æ— é™åˆ¶</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <h3>å…ƒæœ¬ç¡®å®š</h3>
          <div class="principal-determination">
            <div class="determination-methods">
              <div class="method-item">
                <h4>ç¡®å®šæœŸæ—¥å±Šè‡³</h4>
                <p>è®¾å®šæ—¶çº¦å®šçš„ç¡®å®šæœŸæ—¥åˆ°æ¥</p>
              </div>
              <div class="method-item">
                <h4>ç¡®å®šè¯·æ±‚</h4>
                <p>æ ¹æŠµå½“æƒè€…éšæ—¶å¯è¯·æ±‚ç¡®å®š</p>
              </div>
              <div class="method-item">
                <h4>å€ºåŠ¡è€…ç ´äº§</h4>
                <p>å€ºåŠ¡è€…ç ´äº§æ—¶è‡ªåŠ¨ç¡®å®š</p>
              </div>
            </div>
            
            <div class="determination-effect">
              <h4>ç¡®å®šæ•ˆæœ</h4>
              <p>å˜ä¸ºæ™®é€šæŠµæŠ¼æƒï¼Œç¡®å®šæ—¶å­˜åœ¨çš„å€ºæƒé¢å³ä¸ºæ‹…ä¿å€ºæƒé¢</p>
            </div>
          </div>

          <h3>å˜æ›´é™åˆ¶</h3>
          <div class="change-limits">
            <div class="change-item">
              <h4>å…ƒæœ¬ç¡®å®šå‰</h4>
              <p>å¯å˜æ›´è¢«æ‹…ä¿å€ºæƒèŒƒå›´ã€å€ºåŠ¡è€…</p>
            </div>
            <div class="change-item">
              <h4>æåº¦é¢å˜æ›´</h4>
              <p>éœ€åˆ©å®³å…³ç³»äººæ‰¿è¯º</p>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=mortgage" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=mortgage" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'mortgage-nature', title: 'æŠµå½“æƒæ€§è´¨', icon: 'ğŸ”' },
  { id: 'mortgage-effect', title: 'è®¾å®šä¸æ•ˆåŠ›', icon: 'âš–ï¸' },
  { id: 'third-party', title: 'ä¸ç¬¬ä¸‰è€…å…³ç³»', icon: 'ğŸ‘¥' },
  { id: 'legal-surface', title: 'æ³•å®šåœ°ä¸Šæƒ', icon: 'ğŸ ' },
  { id: 'root-mortgage', title: 'æ ¹æŠµå½“æƒ', icon: 'ğŸ’°' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'æŠµå½“æ¨©ï¼ˆã¦ã„ã¨ã†ã‘ã‚“ï¼‰',
    chinese: 'æŠµæŠ¼æƒ',
    explanation: 'å€ºåŠ¡äººæˆ–ç¬¬ä¸‰äººä¸è½¬ç§»è´¢äº§å æœ‰ï¼Œå°†è¯¥è´¢äº§ä½œä¸ºå€ºæƒçš„æ‹…ä¿ï¼Œå€ºåŠ¡äººä¸å±¥è¡Œå€ºåŠ¡æ—¶ï¼Œå€ºæƒäººæœ‰æƒä¾æ³•ä»¥è¯¥è´¢äº§æŠ˜ä»·æˆ–ä»¥æ‹å–ã€å˜å–è¯¥è´¢äº§çš„ä»·æ¬¾ä¼˜å…ˆå—å¿çš„æƒåˆ©',
    example: 'Aå‘Bå€Ÿæ¬¾1000ä¸‡æ—¥å…ƒï¼Œä»¥è‡ªæœ‰æˆ¿äº§è®¾å®šæŠµæŠ¼æƒæ‹…ä¿'
  },
  {
    japanese: 'æ ¹æŠµå½“æ¨©ï¼ˆã­ã¦ã„ã¨ã†ã‘ã‚“ï¼‰',
    chinese: 'æœ€é«˜é¢æŠµæŠ¼æƒ',
    explanation: 'åœ¨æœ€é«˜å€ºæƒé¢é™åº¦å†…ï¼Œä¸ºæ‹…ä¿ä¸€å®šæœŸé—´å†…è¿ç»­å‘ç”Ÿçš„å€ºæƒè€Œè®¾å®šçš„æŠµæŠ¼æƒ',
    example: 'ç å®å•†ä¸ºè¿ç»­è¿›è´§éœ€è¦ï¼Œåœ¨5000ä¸‡æ—¥å…ƒé¢åº¦å†…è®¾å®šæ ¹æŠµå½“æƒ'
  },
  {
    japanese: 'ç‰©ä¸Šä»£ä½ï¼ˆã¶ã¤ã˜ã‚‡ã†ã ã„ã„ï¼‰',
    chinese: 'ç‰©ä¸Šä»£ä½',
    explanation: 'æ‹…ä¿ç‰©ç­å¤±ã€æ¯æŸæˆ–è€…è¢«å¾ç”¨æ—¶ï¼Œæ‹…ä¿ç‰©æƒäººå¯ä»¥å¯¹ä¿é™©é‡‘ã€èµ”å¿é‡‘æˆ–è€…è¡¥å¿é‡‘ç­‰è¡Œä½¿æƒåˆ©',
    example: 'æŠµæŠ¼æˆ¿å±‹è¢«ç«çƒ§æ¯ï¼ŒæŠµæŠ¼æƒäººå¯å¯¹ç«ç¾ä¿é™©é‡‘è¡Œä½¿æƒåˆ©'
  },
  {
    japanese: 'æ³•å®šåœ°ä¸Šæ¨©ï¼ˆã»ã†ã¦ã„ã¡ã˜ã‚‡ã†ã‘ã‚“ï¼‰',
    chinese: 'æ³•å®šåœ°ä¸Šæƒ',
    explanation: 'åœŸåœ°å’Œå»ºç­‘ç‰©å±äºåŒä¸€äººï¼Œä»…ä»¥åœŸåœ°æˆ–å»ºç­‘ç‰©æŠµæŠ¼ï¼Œæ‹å–ååœŸåœ°ä¸å»ºç­‘ç‰©åˆ†å±ä¸åŒäººæ—¶ï¼Œä¾æ³•è‡ªåŠ¨æˆç«‹çš„åœ°ä¸Šæƒ',
    example: 'åœŸåœ°å’Œæˆ¿å±‹ä¸€åŒæŠµæŠ¼æ‹å–åï¼ŒåŸæˆ¿ä¸»è‡ªåŠ¨è·å¾—ä½¿ç”¨åœŸåœ°çš„æƒåˆ©'
  },
  {
    japanese: 'ä¸€æ‹¬ç«¶å£²ï¼ˆã„ã£ã‹ã¤ãã‚‡ã†ã°ã„ï¼‰',
    chinese: 'ä¸€å¹¶æ‹å–',
    explanation: 'æŠµæŠ¼æƒäººå¯è¯·æ±‚å°†åœŸåœ°åŠå…¶ä¸Šå»ºç­‘ç‰©ä¸€å¹¶æ‹å–ï¼Œä½†ä»…å°±åœŸåœ°ä»·æ¬¾ä¼˜å…ˆå—å¿',
    example: 'ç©ºåœ°è®¾å®šæŠµæŠ¼åå»ºé€ æˆ¿å±‹ï¼ŒæŠµæŠ¼æƒäººå¯è¯·æ±‚åœŸåœ°æˆ¿å±‹ä¸€å¹¶æ‹å–'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'æŠµå½“æ¨©ã¯ã€æŠµå½“æ¨©è¨­å®šè€…ã¨æŠµå½“æ¨©è€…ã¨ã®æŠµå½“æ¨©è¨­å®šå¥‘ç´„ã«ã‚ˆã£ã¦æˆç«‹ã—ã€ãã®åŠ¹åŠ›ã‚’ç”Ÿãšã‚‹ãŸã‚ã«ã¯ã€æŠµå½“æ¨©ã®ç™»è¨˜ã‚’ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æŠµæŠ¼æƒå› åŒæ–¹åˆæ„å³æˆç«‹ï¼Œç™»è®°ä»…ä¸ºå¯¹æŠ—ç¬¬ä¸‰äººçš„è¦ä»¶ï¼Œéæˆç«‹è¦ä»¶ã€‚'
  },
  {
    question: 'åœŸåœ°åŠã³ãã®åœ°ä¸Šå»ºç‰©ã®æ‰€æœ‰è€…ãŒåŒä¸€ã§ã‚ã‚‹å ´åˆã«ã€åœŸåœ°ã«æŠµå½“æ¨©ãŒè¨­å®šã•ã‚Œã€ãã®å®Ÿè¡Œã«ã‚ˆã‚ŠåœŸåœ°ã¨å»ºç‰©ã®æ‰€æœ‰è€…ãŒç•°ãªã‚‹ã«è‡³ã£ãŸã¨ãã¯ã€å»ºç‰©ã«ã¤ã„ã¦æ³•å®šåœ°ä¸Šæ¨©ãŒæˆç«‹ã™ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'ç¬¦åˆæ³•å®šåœ°ä¸Šæƒçš„å…¨éƒ¨æˆç«‹è¦ä»¶ï¼Œä¾æ³•è‡ªåŠ¨æˆç«‹åœ°ä¸Šæƒã€‚'
  },
  {
    question: 'æ ¹æŠµå½“æ¨©ã¯ã€æ¥µåº¦é¡ã®ç¯„å›²å†…ã§ã‚ã‚Œã°ã€è¢«æ‹…ä¿å‚µæ¨©ã®ç¯„å›²ã«å±ã™ã‚‹åˆ©æ¯ã®è«‹æ±‚æ¨©ã«ã¤ã„ã¦ã¯ã€ãã®æº€æœŸã¨ãªã£ãŸæœ€å¾Œã®ï¼’å¹´åˆ†ã«ã¤ã„ã¦ã®ã¿è¡Œä½¿ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æ ¹æŠµå½“æƒåœ¨æåº¦é¢èŒƒå›´å†…æ‹…ä¿å…¨éƒ¨åˆ©æ¯ï¼Œä¸å—"æœ€å2å¹´åˆ†"çš„é™åˆ¶ã€‚'
  },
  {
    question: 'æŠµå½“ä¸å‹•ç”£ã®ç¬¬ä¸‰å–å¾—è€…ã¯ã€æŠµå½“æ¨©æ¶ˆæ»…è«‹æ±‚ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãŒã€ãã®å‚µå‹™ã«ã¤ã„ã¦é€£å¸¯ä¿è¨¼ã‚’ã—ãŸè€…ã¯ã€æŠµå½“æ¨©æ¶ˆæ»…è«‹æ±‚ã‚’ã™ã‚‹ã“ã¨ãŒã§ããªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'ç¬¬ä¸‰å–å¾—è€…å¯è¡Œä½¿æŠµæŠ¼æƒæ¶ˆç­è¯·æ±‚æƒï¼Œä½†è¿å¸¦ä¿è¯äººå±äºå€ºåŠ¡è€…ä¸€æ–¹ï¼Œä¸å¾—è¡Œä½¿ã€‚'
  },
  {
    question: 'Aã®Bã«å¯¾ã™ã‚‹å‚µå‹™ã‚’æ‹…ä¿ã™ã‚‹ãŸã‚ã€Aæ‰€æœ‰ã®æ›´åœ°ã«æŠµå½“æ¨©ã‚’è¨­å®šã—ãŸå¾Œã«ã€AãŒãã®åœŸåœ°ä¸Šã«å»ºç‰©ã‚’ç¯‰é€ ã—ãŸå ´åˆã€æŠµå½“æ¨©è€…ã¯ã€æŠµå½“æ¨©ã®å®Ÿè¡Œã¨ã—ã¦ã€åœŸåœ°ã¨ã¨ã‚‚ã«å»ºç‰©ã‚’ç«¶å£²ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'æ­¤ä¸ºä¸€æ‹¬ç«å–çš„å…¸å‹æƒ…å½¢ï¼ŒæŠµæŠ¼æƒäººå¯è¯·æ±‚åœŸåœ°ä¸å»ºç­‘ç‰©ä¸€å¹¶æ‹å–ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('mortgage', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('mortgage')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('mortgage')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('mortgage', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.mortgage-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-explanation {
  margin-bottom: 2rem;
}

.example-box {
  background: #f0f7ff;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
  border-left: 4px solid #2a7960;
}

.example-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.effect-timing {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.timing-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.timing-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.timing-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timing-content p {
  margin: 0;
  color: #6c757d;
}

.setting-process {
  margin: 2rem 0;
}

.process-steps {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
}

.process-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
}

.step-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.step-content p {
  margin: 0;
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= æŠµå½“æƒæ€§è´¨æ ·å¼ ========= */
.nature-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.nature-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.nature-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.nature-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.nature-content ul {
  padding-left: 1.25rem;
  margin: 0;
}

.nature-content li {
  margin-bottom: 0.25rem;
  font-size: 0.875rem;
}

.substitution-examples {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
  margin: 1.5rem 0;
}

.example-item {
  padding: 1rem;
  background: #f0f7ff;
  border-radius: 8px;
  border-left: 3px solid #2a7960;
}

.example-item h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.example-item p {
  margin: 0;
  font-size: 0.875rem;
}

.important-notes {
  margin: 2rem 0;
}

.note-item {
  padding: 1.5rem;
  background: #fff9e6;
  border-radius: 8px;
  border-left: 4px solid #ffcc00;
}

.note-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* ========= æŠµå½“æƒè®¾å®šä¸æ•ˆåŠ›æ ·å¼ ========= */
.setting-methods {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.method-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.method-item h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.effect-scope {
  margin: 2rem 0;
}

.scope-categories {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.category-item {
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-align: center;
}

.category-item h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.category-item p {
  margin: 0;
  font-size: 0.875rem;
}

.priority-limits {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.limit-scenario {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.limit-scenario h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.scenario-detail p {
  margin: 0 0 0.5rem 0;
  font-weight: bold;
}

.scenario-note {
  padding: 0.5rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= æŠµå½“æƒä¸ç¬¬ä¸‰è€…å…³ç³»æ ·å¼ ========= */
.lease-mortgage {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.relation-case {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.relation-case h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.case-result p {
  margin: 0 0 0.5rem 0;
  font-weight: bold;
}

.case-note {
  padding: 0.5rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
  color: #6c757d;
}

.third-party-protection {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.protection-method {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.method-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.method-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.method-content p {
  margin: 0;
  font-size: 0.875rem;
}

/* ========= æ³•å®šåœ°ä¸Šæƒæ ·å¼ ========= */
.legal-surface-conditions {
  margin: 1.5rem 0;
}

.condition-list {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

.condition-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: #f8f9fa;
  border-radius: 8px;
}

.condition-check {
  width: 24px;
  height: 24px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  flex-shrink: 0;
}

.bulk-auction {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.auction-scenario, .auction-effect, .auction-limit {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.auction-scenario h4, .auction-effect h4, .auction-limit h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.practical-points {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.point-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.point-item h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

/* ========= æ ¹æŠµå½“æƒæ ·å¼ ========= */
.root-mortgage-concept {
  margin-bottom: 2rem;
}

.comparison-table {
  margin: 2rem 0;
}

.table-container {
  overflow-x: auto;
}

.features-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.features-table th, .features-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.features-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.features-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.different {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
}

.principal-determination {
  margin: 2rem 0;
}

.determination-methods {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.determination-methods .method-item {
  text-align: center;
}

.determination-effect {
  padding: 1.5rem;
  background: #f0f7ff;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
  text-align: center;
}

.determination-effect h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.change-limits {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.change-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.change-item h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .effect-timing {
    grid-template-columns: 1fr;
  }
  
  .process-steps {
    grid-template-columns: 1fr;
  }
  
  .nature-grid {
    grid-template-columns: 1fr;
  }
  
  .substitution-examples {
    grid-template-columns: 1fr;
  }
  
  .setting-methods {
    grid-template-columns: 1fr;
  }
  
  .scope-categories {
    grid-template-columns: 1fr;
  }
  
  .priority-limits {
    grid-template-columns: 1fr;
  }
  
  .lease-mortgage {
    grid-template-columns: 1fr;
  }
  
  .third-party-protection {
    grid-template-columns: 1fr;
  }
  
  .bulk-auction {
    grid-template-columns: 1fr;
  }
  
  .practical-points {
    grid-template-columns: 1fr;
  }
  
  .determination-methods {
    grid-template-columns: 1fr;
  }
  
  .change-limits {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
}
</style>