<!-- src/views/notes/rights/LimitedCapacity.vue -->
<template>
  <div class="limited-capacity-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>é™åˆ¶è¡Œä¸ºèƒ½åŠ›è€…</span>
        </div>
        <h1>é™åˆ¶è¡Œä¸ºèƒ½åŠ›è€…</h1>
        <p>æ°‘æ³•å¯¹åˆ¤æ–­èƒ½åŠ›ä¸å……åˆ†è€…çš„ç‰¹æ®Šä¿æŠ¤åˆ¶åº¦ï¼Œæ¶‰åŠæœªæˆå¹´äººã€æˆå¹´è¢«åè§äººã€è¢«ä¿ä½äººã€è¢«è¾…åŠ©äººå››ç§ç±»å‹</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">12</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">40åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£æ„æ€èƒ½åŠ›ã€è¡Œä¸ºèƒ½åŠ›ã€æƒåˆ©èƒ½åŠ›çš„åŸºæœ¬æ¦‚å¿µå’ŒåŒºåˆ«</li>
            <li>æŒæ¡å››ç§é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººçš„å®šä¹‰å’Œä¿æŠ¤è¦ä»¶</li>
            <li>ç†Ÿæ‚‰é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººæ³•å¾‹è¡Œä¸ºçš„æ•ˆåŠ›å’Œå–æ¶ˆæƒè¡Œä½¿</li>
            <li>äº†è§£å¯¹äº¤æ˜“ç›¸å¯¹æ–¹çš„ä¿æŠ¤åˆ¶åº¦å’Œå‚¬å‘Šæƒ</li>
            <li>èƒ½å¤ŸåŒºåˆ†ä¸åŒç±»å‹é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººçš„æƒåˆ©å·®å¼‚</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. åŸºæœ¬æ¦‚å¿µï¼šä¸‰ç§èƒ½åŠ›</h2>
          
          <div class="concept-cards">
            <div class="concept-card">
              <div class="concept-icon">ğŸ‘¤</div>
              <div class="concept-content">
                <h3>æƒåˆ©èƒ½åŠ›</h3>
                <p>æˆä¸ºæƒåˆ©å’Œä¹‰åŠ¡ä¸»ä½“çš„èµ„æ ¼</p>
                <div class="concept-detail">
                  <strong>ç‰¹ç‚¹ï¼š</strong>äººäººç”Ÿè€Œå¹³ç­‰ï¼Œå‡ºç”Ÿæ—¶è·å¾—ï¼Œæ­»äº¡æ—¶ä¸§å¤±
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-icon">ğŸ§ </div>
              <div class="concept-content">
                <h3>æ„æ€èƒ½åŠ›</h3>
                <p>ç†è§£è‡ªå·±è¡Œä¸ºæ³•å¾‹åæœçš„è®¤çŸ¥èƒ½åŠ›</p>
                <div class="concept-detail">
                  <strong>æ— æ„æ€èƒ½åŠ›è€…ï¼š</strong>å¹¼å„¿ã€æ³¥é†‰è€…ã€é‡åº¦ç²¾ç¥éšœç¢è€…<br>
                  <strong>æ³•å¾‹æ•ˆæœï¼š</strong>å¥‘çº¦åŸå§‹æ— æ•ˆï¼ˆä¸æ˜¯æ’¤é”€ï¼‰
                </div>
              </div>
            </div>
            
            <div class="concept-card">
              <div class="concept-icon">ğŸ“</div>
              <div class="concept-content">
                <h3>è¡Œä¸ºèƒ½åŠ›</h3>
                <p>ç‹¬ç«‹è¿›è¡Œæœ‰æ•ˆæ³•å¾‹è¡Œä¸ºçš„èƒ½åŠ›</p>
                <div class="concept-detail">
                  <strong>é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººï¼š</strong>æœ‰æ„æ€èƒ½åŠ›ä½†è¡Œä¸ºèƒ½åŠ›å—é™<br>
                  <strong>æ³•å¾‹æ•ˆæœï¼š</strong>å¥‘çº¦å¯ä»¥æ’¤é”€
                </div>
              </div>
            </div>
          </div>

          <div class="capacity-comparison">
            <h3>èƒ½åŠ›ç±»å‹å¯¹æ¯”</h3>
            <div class="comparison-table">
              <table>
                <thead>
                  <tr>
                    <th>èƒ½åŠ›ç±»å‹</th>
                    <th>å®šä¹‰</th>
                    <th>ä¸å…·å¤‡æ—¶çš„æ³•å¾‹æ•ˆæœ</th>
                    <th>å…¸å‹äººç¾¤</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>æ„æ€èƒ½åŠ›</strong></td>
                    <td>ç†è§£è¡Œä¸ºåæœçš„è®¤çŸ¥èƒ½åŠ›</td>
                    <td class="effect-invalid">æ— æ•ˆ</td>
                    <td>å¹¼å„¿ã€æ³¥é†‰è€…</td>
                  </tr>
                  <tr>
                    <td><strong>è¡Œä¸ºèƒ½åŠ›</strong></td>
                    <td>ç‹¬ç«‹è¿›è¡Œæ³•å¾‹è¡Œä¸ºçš„èƒ½åŠ›</td>
                    <td class="effect-revocable">å¯æ’¤é”€</td>
                    <td>æœªæˆå¹´äººã€è¢«åè§äºº</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- å››ç§é™åˆ¶è¡Œä¸ºèƒ½åŠ›äºº -->
        <section id="four-types" class="content-section">
          <h2>2. å››ç§é™åˆ¶è¡Œä¸ºèƒ½åŠ›äºº</h2>
          
          <div class="types-overview">
            <div class="type-scale">
              <div class="scale-labels">
                <span>åˆ¤æ–­èƒ½åŠ›ä½</span>
                <span>åˆ¤æ–­èƒ½åŠ›é«˜</span>
              </div>
              <div class="scale-bar">
                <div class="scale-point" style="left: 0%">
                  <div class="point-label">æˆå¹´è¢«åè§äºº</div>
                </div>
                <div class="scale-point" style="left: 33%">
                  <div class="point-label">è¢«ä¿ä½äºº</div>
                </div>
                <div class="scale-point" style="left: 66%">
                  <div class="point-label">è¢«è¾…åŠ©äºº</div>
                </div>
                <div class="scale-point" style="left: 100%">
                  <div class="point-label">æœªæˆå¹´äºº</div>
                </div>
              </div>
            </div>
          </div>

          <div class="types-details">
            <!-- æœªæˆå¹´äºº -->
            <div class="type-detail">
              <h3>ğŸ‘¦ æœªæˆå¹´äºº</h3>
              <div class="type-info">
                <div class="info-item">
                  <strong>å®šä¹‰ï¼š</strong>18å²æœªæ»¡è€…
                </div>
                <div class="info-item">
                  <strong>ä¿æŠ¤è€…ï¼š</strong>äº²æƒè€…æˆ–æœªæˆå¹´åè§äºº
                </div>
                <div class="info-item">
                  <strong>ä¿æŠ¤ç¨‹åº¦ï¼š</strong>ä¸­ç­‰
                </div>
              </div>
              
              <div class="legal-effects">
                <h4>æ³•å¾‹è¡Œä¸ºæ•ˆæœ</h4>
                <div class="effect-item positive">
                  <div class="effect-icon">âœ…</div>
                  <div class="effect-content">
                    <strong>å¯ä»¥æ’¤é”€ï¼š</strong>åŸåˆ™ä¸Šï¼Œæœªæˆå¹´äººå•ç‹¬ç­¾è®¢çš„å¥‘çº¦å¯ä»¥æ’¤é”€
                  </div>
                </div>
                <div class="effect-item negative">
                  <div class="effect-icon">âŒ</div>
                  <div class="effect-content">
                    <strong>ä¸èƒ½æ’¤é”€çš„æƒ…å†µï¼š</strong>
                    <ul>
                      <li>æ³•å®šä»£ç†äººåŒæ„çš„è¡Œä¸º</li>
                      <li>è¢«è®¸å¯çš„è¥ä¸šç›¸å…³è¡Œä¸º</li>
                      <li>å¤„åˆ†è¢«å…è®¸å¤„åˆ†çš„è´¢äº§</li>
                      <li>å•çº¯è·å¾—æƒåˆ©æˆ–å…é™¤ä¹‰åŠ¡çš„è¡Œä¸º</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="example-box">
                <h4>ğŸ“ æ¡ˆä¾‹ï¼šé«˜ä¸­ç”Ÿå–æ¼«ç”»</h4>
                <p>é«˜ä¸­ç”ŸAå¾—åˆ°çˆ¶äº²è®¸å¯ï¼Œåœ¨äºŒæ‰‹ç½‘ç«™è´©å–çœ‹è¿‡çš„æ¼«ç”»ä¹¦ã€‚è¿™ç§è¥ä¸šè¡Œä¸ºä¸€æ—¦è·å¾—æ³•å®šä»£ç†äººåŒæ„ï¼Œå°±ä¸èƒ½ä»¥æœªæˆå¹´ä¸ºç”±æ’¤é”€ã€‚</p>
              </div>
            </div>

            <!-- æˆå¹´è¢«åè§äºº -->
            <div class="type-detail">
              <h3>ğŸ§“ æˆå¹´è¢«åè§äºº</h3>
              <div class="type-info">
                <div class="info-item">
                  <strong>å®šä¹‰ï¼š</strong>å› ç²¾ç¥éšœç¢æ¬ ç¼ºè¾¨è¯†èƒ½åŠ›çš„å¸¸æ€è€… + åè§å¼€å§‹å®¡åˆ¤
                </div>
                <div class="info-item">
                  <strong>ä¿æŠ¤è€…ï¼š</strong>æˆå¹´åè§äºº
                </div>
                <div class="info-item">
                  <strong>ä¿æŠ¤ç¨‹åº¦ï¼š</strong>æœ€å¼º
                </div>
              </div>
              
              <div class="legal-effects">
                <h4>æ³•å¾‹è¡Œä¸ºæ•ˆæœ</h4>
                <div class="effect-item positive">
                  <div class="effect-icon">âœ…</div>
                  <div class="effect-content">
                    <strong>å¯ä»¥æ’¤é”€ï¼š</strong>å‡ ä¹æ‰€æœ‰å•ç‹¬è¡Œä¸ºéƒ½å¯ä»¥æ’¤é”€
                  </div>
                </div>
                <div class="special-note">
                  <strong>âš ï¸ ç‰¹åˆ«æ³¨æ„ï¼š</strong>å³ä½¿è·å¾—æˆå¹´åè§äººåŒæ„ï¼Œå•ç‹¬è¡Œä¸ºä»ç„¶å¯ä»¥æ’¤é”€ï¼
                </div>
                <div class="effect-item negative">
                  <div class="effect-icon">âŒ</div>
                  <div class="effect-content">
                    <strong>ä¸èƒ½æ’¤é”€çš„æƒ…å†µï¼š</strong>
                    <ul>
                      <li>æ—¥ç”¨å“è´­ä¹°ç­‰æ—¥å¸¸ç”Ÿæ´»è¡Œä¸º</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="example-box">
                <h4>ğŸ“ æ¡ˆä¾‹ï¼šä¹°é¢åŒ…</h4>
                <p>æˆå¹´è¢«åè§äººAå»ä¾¿åˆ©åº—ä¹°é¢åŒ…ï¼Œè¿™ç§æ—¥å¸¸ç”Ÿæ´»æ‰€å¿…éœ€çš„è¡Œä¸ºæœ‰æ•ˆï¼Œä¸èƒ½æ’¤é”€ã€‚</p>
              </div>
            </div>

            <!-- è¢«ä¿ä½äºº -->
            <div class="type-detail">
              <h3>ğŸ‘¨ è¢«ä¿ä½äºº</h3>
              <div class="type-info">
                <div class="info-item">
                  <strong>å®šä¹‰ï¼š</strong>å› ç²¾ç¥éšœç¢è¾¨è¯†èƒ½åŠ›æ˜¾è‘—ä¸è¶³è€… + ä¿ä½å¼€å§‹å®¡åˆ¤
                </div>
                <div class="info-item">
                  <strong>ä¿æŠ¤è€…ï¼š</strong>ä¿ä½äºº
                </div>
                <div class="info-item">
                  <strong>ä¿æŠ¤ç¨‹åº¦ï¼š</strong>ä¸­ç­‰åå¼±
                </div>
              </div>
              
              <div class="legal-effects">
                <h4>æ³•å¾‹è¡Œä¸ºæ•ˆæœ</h4>
                <div class="effect-item positive">
                  <div class="effect-icon">âœ…</div>
                  <div class="effect-content">
                    <strong>å¯ä»¥æ’¤é”€ï¼š</strong>ä»…é™äºé‡è¦è´¢äº§è¡Œä¸ºæœªç»åŒæ„æ—¶
                  </div>
                </div>
                <div class="effect-item negative">
                  <div class="effect-icon">âŒ</div>
                  <div class="effect-content">
                    <strong>é‡è¦è´¢äº§è¡Œä¸ºï¼ˆéœ€ä¿ä½äººåŒæ„ï¼‰ï¼š</strong>
                    <ul>
                      <li>å€Ÿé’±æˆ–æä¾›ä¿è¯</li>
                      <li>ä¸åŠ¨äº§ä¹°å–ã€ç§Ÿèµ</li>
                      <li>é—äº§ç»§æ‰¿çš„æ‰¿è®¤æˆ–æ”¾å¼ƒ</li>
                      <li>æ–°å»ºã€æ”¹å»ºã€å¤§è§„æ¨¡ä¿®ç¼®å¥‘çº¦</li>
                      <li>é•¿æœŸç§Ÿèµï¼ˆåœŸåœ°5å¹´ä»¥ä¸Šï¼Œå»ºç­‘ç‰©3å¹´ä»¥ä¸Šï¼‰</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <!-- è¢«è¾…åŠ©äºº -->
            <div class="type-detail">
              <h3>ğŸ‘© è¢«è¾…åŠ©äºº</h3>
              <div class="type-info">
                <div class="info-item">
                  <strong>å®šä¹‰ï¼š</strong>å› ç²¾ç¥éšœç¢è¾¨è¯†èƒ½åŠ›ä¸è¶³è€… + è¡¥åŠ©å¼€å§‹å®¡åˆ¤
                </div>
                <div class="info-item">
                  <strong>ä¿æŠ¤è€…ï¼š</strong>è¡¥åŠ©äºº
                </div>
                <div class="info-item">
                  <strong>ä¿æŠ¤ç¨‹åº¦ï¼š</strong>æœ€å¼±
                </div>
              </div>
              
              <div class="legal-effects">
                <h4>æ³•å¾‹è¡Œä¸ºæ•ˆæœ</h4>
                <div class="effect-item">
                  <div class="effect-icon">â„¹ï¸</div>
                  <div class="effect-content">
                    <strong>ä¸ªæ€§åŒ–ä¿æŠ¤ï¼š</strong>ç”±å®¶åº­è£åˆ¤æ‰€é’ˆå¯¹ç‰¹å®šæ³•å¾‹è¡Œä¸ºèµ‹äºˆä¿æŠ¤
                  </div>
                </div>
                <div class="effect-item">
                  <div class="effect-icon">ğŸ”’</div>
                  <div class="effect-content">
                    <strong>ä¿æŠ¤å½¢å¼ï¼ˆä¸‰é€‰ä¸€ï¼‰ï¼š</strong>
                    <ol>
                      <li>æœ¬äººåŒæ„å¿…è¦çš„è¾…åŠ©</li>
                      <li>å®Œå…¨ç”±è¾…åŠ©äººä»£ç†</li>
                      <li>æœ¬äººåŒæ„å’Œè¾…åŠ©äººä»£ç†åŒé‡ä¿æŠ¤</li>
                    </ol>
                  </div>
                </div>
              </div>

              <div class="special-note">
                <strong>ğŸ’¡ é‡è¦ç‰¹å¾ï¼š</strong>æˆä¸ºè¢«è¾…åŠ©äººå¿…é¡»ç»è¿‡æœ¬äººåŒæ„ï¼
              </div>
            </div>
          </div>
        </section>

        <!-- ä¿æŠ¤è€…æƒé™æ¯”è¾ƒ -->
        <section id="protector-rights" class="content-section">
          <h2>3. ä¿æŠ¤è€…æƒé™æ¯”è¾ƒ</h2>
          
          <div class="rights-comparison">
            <div class="table-container">
              <table class="rights-table">
                <thead>
                  <tr>
                    <th>ä¿æŠ¤è€…æƒé™</th>
                    <th>æœªæˆå¹´äººä¿æŠ¤è€…</th>
                    <th>æˆå¹´åè§äºº</th>
                    <th>ä¿ä½äºº</th>
                    <th>è¡¥åŠ©äºº</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>åŒæ„æƒ</strong></td>
                    <td class="has-right">â—</td>
                    <td class="no-right">Ã—</td>
                    <td class="has-right">â—</td>
                    <td class="conditional">â–³</td>
                  </tr>
                  <tr>
                    <td><strong>å–æ¶ˆæƒ</strong></td>
                    <td class="has-right">â—</td>
                    <td class="has-right">â—</td>
                    <td class="has-right">â—</td>
                    <td class="conditional">â–³</td>
                  </tr>
                  <tr>
                    <td><strong>è¿½è®¤æƒ</strong></td>
                    <td class="has-right">â—</td>
                    <td class="has-right">â—</td>
                    <td class="has-right">â—</td>
                    <td class="conditional">â–³</td>
                  </tr>
                  <tr>
                    <td><strong>ä»£ç†æƒ</strong></td>
                    <td class="has-right">â—</td>
                    <td class="has-right">â—</td>
                    <td class="conditional">â–³</td>
                    <td class="conditional">â–³</td>
                  </tr>
                </tbody>
              </table>
            </div>
            
            <div class="legend">
              <div class="legend-item">
                <span class="legend-symbol has-right">â—</span>
                <span class="legend-text">æœ‰è¯¥æƒé™</span>
              </div>
              <div class="legend-item">
                <span class="legend-symbol no-right">Ã—</span>
                <span class="legend-text">æ— è¯¥æƒé™</span>
              </div>
              <div class="legend-item">
                <span class="legend-symbol conditional">â–³</span>
                <span class="legend-text">ç»å®¡åˆ¤å¯è·ç‰¹å®šæƒé™</span>
              </div>
            </div>
          </div>

          <div class="important-notes">
            <h3>ğŸ’¡ é‡è¦æ³¨æ„äº‹é¡¹</h3>
            <div class="notes-grid">
              <div class="note-card">
                <h4>æˆå¹´åè§äººçš„ç‰¹æ®Šè§„å®š</h4>
                <p>æˆå¹´åè§äºº<strong>æ²¡æœ‰åŒæ„æƒ</strong>ï¼Œå› ä¸ºå³ä½¿è·å¾—åŒæ„ï¼Œæˆå¹´è¢«åè§äººä»å¯èƒ½åšå‡ºä¸å½“è¡Œä¸ºã€‚</p>
              </div>
              <div class="note-card">
                <h4>ä¸åŠ¨äº§å¤„åˆ†é™åˆ¶</h4>
                <p>æˆå¹´åè§äººå¤„åˆ†è¢«åè§äººå±…ä½ç”¨ä¸åŠ¨äº§æ—¶ï¼Œå¿…é¡»è·å¾—<strong>å®¶åº­è£åˆ¤æ‰€çš„è®¸å¯</strong>ã€‚</p>
              </div>
              <div class="note-card">
                <h4>è¯ˆæœ¯ä½¿ç”¨åæœ</h4>
                <p>é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººä½¿ç”¨è¯ˆæœ¯ä½¿å¯¹æ–¹ç›¸ä¿¡å…¶ä¸ºå®Œå…¨è¡Œä¸ºèƒ½åŠ›äººæ—¶ï¼Œ<strong>ä¸èƒ½æ’¤é”€</strong>å¥‘çº¦ã€‚</p>
              </div>
            </div>
          </div>
        </section>

        <!-- å–æ¶ˆæƒä¸è¿½è®¤ -->
        <section id="revocation-recognition" class="content-section">
          <h2>4. å–æ¶ˆæƒä¸è¿½è®¤</h2>
          
          <div class="timeline-explanation">
            <h3>åŒæ„ vs è¿½è®¤</h3>
            <div class="timeline">
              <div class="timeline-item">
                <div class="timeline-marker">â‘ </div>
                <div class="timeline-content">
                  <h4>åŒæ„ï¼ˆäº‹å‰ï¼‰</h4>
                  <p>å¥‘çº¦ç­¾è®¢å‰è·å¾—ä¿æŠ¤è€…è®¸å¯</p>
                  <div class="example">
                    <strong>ä¾‹å­ï¼š</strong>"çˆ¸çˆ¸ï¼Œæˆ‘æƒ³ä¹°è¿™ä¸ªæ¸¸æˆæœºï¼" "å¥½çš„ï¼Œä¹°å§ï¼"
                  </div>
                </div>
              </div>
              <div class="timeline-item">
                <div class="timeline-marker">â‘¡</div>
                <div class="timeline-content">
                  <h4>å¥‘çº¦æˆç«‹</h4>
                  <p>é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººç­¾è®¢å¥‘çº¦</p>
                </div>
              </div>
              <div class="timeline-item">
                <div class="timeline-marker">â‘¢</div>
                <div class="timeline-content">
                  <h4>è¿½è®¤ï¼ˆäº‹åï¼‰</h4>
                  <p>å¥‘çº¦ç­¾è®¢åè·å¾—ä¿æŠ¤è€…è¿½è®¤</p>
                  <div class="example">
                    <strong>ä¾‹å­ï¼š</strong>"çˆ¸çˆ¸ï¼Œæˆ‘ä¹°äº†è¿™ä¸ªæ¸¸æˆæœº..." "å¥½å§ï¼Œæ—¢ç„¶ä¹°äº†å°±ç®—äº†ã€‚"
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="cancellation-rights">
            <h3>å–æ¶ˆæƒçš„è¡Œä½¿</h3>
            <div class="rights-details">
              <div class="right-item">
                <h4>è°å¯ä»¥å–æ¶ˆï¼Ÿ</h4>
                <ul>
                  <li>é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººæœ¬äºº</li>
                  <li>æ³•å®šä»£ç†äººï¼ˆä¿æŠ¤è€…ï¼‰</li>
                  <li>é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººæˆä¸ºå®Œå…¨è¡Œä¸ºèƒ½åŠ›äººåçš„æœ¬äºº</li>
                </ul>
              </div>
              <div class="right-item">
                <h4>å–æ¶ˆçš„æ•ˆæœ</h4>
                <ul>
                  <li>å¥‘çº¦è‡ªå§‹æ— æ•ˆ</li>
                  <li>å¯ä»¥å¯¹æŠ—å–„æ„ç¬¬ä¸‰è€…</li>
                  <li>åŒæ–¹äº’ç›¸è¿”è¿˜å·²å—é¢†çš„ç»™ä»˜</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- å¯¹äº¤æ˜“ç›¸å¯¹æ–¹çš„ä¿æŠ¤ -->
        <section id="counterparty-protection" class="content-section">
          <h2>5. å¯¹äº¤æ˜“ç›¸å¯¹æ–¹çš„ä¿æŠ¤</h2>
          
          <div class="protection-measures">
            <div class="protection-card">
              <div class="protection-icon">ğŸ“¢</div>
              <div class="protection-content">
                <h3>å‚¬å‘Šæƒ</h3>
                <p>äº¤æ˜“ç›¸å¯¹æ–¹å¯ä»¥è®¾å®š1ä¸ªæœˆä»¥ä¸ŠæœŸé™ï¼Œå‚¬å‘Šä¿æŠ¤è€…æ˜¯å¦è¿½è®¤</p>
                <div class="protection-detail">
                  <strong>æ•ˆæœï¼š</strong>
                  <ul>
                    <li>æœŸé™å†…æœªç­”å¤ â†’ è§†ä¸ºè¿½è®¤</li>
                    <li>è¢«ä¿ä½äºº/è¢«è¾…åŠ©äººæœ¬äººæœªç­”å¤ â†’ è§†ä¸ºå–æ¶ˆ</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="protection-card">
              <div class="protection-icon">ğŸ­</div>
              <div class="protection-content">
                <h3>è¯ˆæœ¯æŠ—è¾©</h3>
                <p>é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººä½¿ç”¨è¯ˆæœ¯æ—¶ï¼Œä¸èƒ½ä¸»å¼ å–æ¶ˆ</p>
                <div class="protection-detail">
                  <strong>è¦ä»¶ï¼š</strong>
                  <ul>
                    <li>é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººä½¿ç”¨æ¬ºéª—æ‰‹æ®µ</li>
                    <li>ä½¿å¯¹æ–¹ç›¸ä¿¡å…¶ä¸ºå®Œå…¨è¡Œä¸ºèƒ½åŠ›äºº</li>
                    <li>ä½†å¯¹æ–¹æ¶æ„æ—¶ä»å¯å–æ¶ˆ</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="protection-card">
              <div class="protection-icon">â°</div>
              <div class="protection-content">
                <h3>å–æ¶ˆæƒæœŸé—´é™åˆ¶</h3>
                <p>ä¸ºç»´æŠ¤æ³•å¾‹å…³ç³»ç¨³å®šï¼Œè®¾ç½®å–æ¶ˆæƒè¡Œä½¿æœŸé™</p>
                <div class="protection-detail">
                  <strong>æœŸé™ï¼š</strong>
                  <ul>
                    <li>è‡ªå¯è¿½è®¤æ—¶èµ·5å¹´</li>
                    <li>è‡ªè¡Œä¸ºæ—¶èµ·20å¹´</li>
                    <li>ä»¥è¾ƒæ—©è€…ä¸ºå‡†</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="protection-card">
              <div class="protection-icon">âš–ï¸</div>
              <div class="protection-content">
                <h3>æ³•å®šè¿½è®¤</h3>
                <p>ç‰¹å®šè¡Œä¸ºè§†ä¸ºè¿½è®¤ï¼Œæ”¾å¼ƒå–æ¶ˆæƒ</p>
                <div class="protection-detail">
                  <strong>è§†ä¸ºè¿½è®¤çš„è¡Œä¸ºï¼š</strong>
                  <ul>
                    <li>å…¨éƒ¨æˆ–éƒ¨åˆ†å±¥è¡Œå€ºåŠ¡</li>
                    <li>è¯·æ±‚å¯¹æ–¹å±¥è¡Œå¥‘çº¦</li>
                    <li>è½¬è®©å–å¾—çš„æƒåˆ©</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="protection-example">
            <h3>ğŸ“ ä¿æŠ¤æ¡ˆä¾‹ï¼šåœŸåœ°è½¬å–</h3>
            <div class="example-scenario">
              <div class="scenario-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <strong>æœªæˆå¹´äººA</strong>æœªç»çˆ¶æ¯åŒæ„ï¼Œå°†å®¶ä¸­åœŸåœ°å–ç»™<strong>ä¸­ä»‹B</strong>
                </div>
              </div>
              <div class="scenario-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <strong>ä¸­ä»‹B</strong>å°†åœŸåœ°è½¬å–ç»™<strong>å–„æ„ä¹°ä¸»C</strong>å¹¶å®Œæˆç™»è®°
                </div>
              </div>
              <div class="scenario-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <strong>Açš„çˆ¶æ¯</strong>ä»¥æœªæˆå¹´ä¸ºç”±å–æ¶ˆå¥‘çº¦ï¼Œè¦æ±‚<strong>C</strong>è¿”è¿˜åœŸåœ°
                </div>
              </div>
              <div class="scenario-result">
                <div class="result-icon">âœ…</div>
                <div class="result-content">
                  <strong>æ³•å¾‹æ•ˆæœï¼š</strong>Aå¯ä»¥è¦æ±‚Cè¿”è¿˜åœŸåœ°ï¼Œä½†Cå¯è¡Œä½¿å‚¬å‘Šæƒç­‰ä¿æŠ¤æªæ–½
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=limited-capacity" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=limited-capacity" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'four-types', title: 'å››ç§ç±»å‹', icon: 'ğŸ‘¥' },
  { id: 'protector-rights', title: 'ä¿æŠ¤è€…æƒé™', icon: 'âš–ï¸' },
  { id: 'revocation-recognition', title: 'å–æ¶ˆä¸è¿½è®¤', icon: 'ğŸ”„' },
  { id: 'counterparty-protection', title: 'ç›¸å¯¹æ–¹ä¿æŠ¤', icon: 'ğŸ›¡ï¸' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'æ„æ€èƒ½åŠ›ï¼ˆã„ã—ã®ã†ã‚Šã‚‡ãï¼‰',
    chinese: 'æ„æ€èƒ½åŠ›',
    explanation: 'ç†è§£è‡ªå·±è¡Œä¸ºæ³•å¾‹åæœçš„è®¤çŸ¥èƒ½åŠ›ï¼Œå¥‘çº¦æˆç«‹çš„å¿…è¦æ¡ä»¶',
    example: 'å¹¼å„¿ã€æ³¥é†‰è€…ã€é‡åº¦ç²¾ç¥éšœç¢è€…æ— æ„æ€èƒ½åŠ›'
  },
  {
    japanese: 'åˆ¶é™è¡Œç‚ºèƒ½åŠ›è€…ï¼ˆã›ã„ã’ã‚“ã“ã†ã„ã®ã†ã‚Šã‚‡ãã—ã‚ƒï¼‰',
    chinese: 'é™åˆ¶è¡Œä¸ºèƒ½åŠ›äºº',
    explanation: 'æœ‰æ„æ€èƒ½åŠ›ä½†è¡Œä¸ºèƒ½åŠ›å—é™åˆ¶çš„äººï¼ŒåŒ…æ‹¬å››ç§ç±»å‹',
    example: 'æœªæˆå¹´äººã€æˆå¹´è¢«åè§äººã€è¢«ä¿ä½äººã€è¢«è¾…åŠ©äºº'
  },
  {
    japanese: 'æˆå¹´è¢«å¾Œè¦‹äººï¼ˆã›ã„ã­ã‚“ã²ã“ã†ã‘ã‚“ã«ã‚“ï¼‰',
    chinese: 'æˆå¹´è¢«åè§äºº',
    explanation: 'å› ç²¾ç¥éšœç¢æ¬ ç¼ºè¾¨è¯†èƒ½åŠ›çš„å¸¸æ€è€…ï¼Œéœ€ç»åè§å¼€å§‹å®¡åˆ¤',
    example: 'å‡ ä¹æ‰€æœ‰çš„å•ç‹¬æ³•å¾‹è¡Œä¸ºéƒ½å¯ä»¥æ’¤é”€'
  },
  {
    japanese: 'å–æ¶ˆæ¨©ï¼ˆã¨ã‚Šã‘ã—ã‘ã‚“ï¼‰',
    chinese: 'å–æ¶ˆæƒ',
    explanation: 'é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººæˆ–å…¶ä¿æŠ¤è€…æ’¤é”€å¥‘çº¦çš„æƒåˆ©',
    example: 'æœªæˆå¹´äººæœªç»åŒæ„ä¹°æ‰‹æœºï¼Œçˆ¶æ¯å¯ä»¥å–æ¶ˆè´­ä¹°å¥‘çº¦'
  },
  {
    japanese: 'è¿½èªï¼ˆã¤ã„ã«ã‚“ï¼‰',
    chinese: 'è¿½è®¤',
    explanation: 'å¯¹å¯æ’¤é”€è¡Œä¸ºçš„äº‹åæ‰¿è®¤ï¼Œä½¿å¥‘çº¦ç¡®å®šæœ‰æ•ˆ',
    example: 'å­©å­ä¹°äº†æ¸¸æˆæœºåï¼Œçˆ¶æ¯è¯´"æ—¢ç„¶ä¹°äº†å°±ç®—äº†"'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'æ„æ€ç„¡èƒ½åŠ›è€…ã®è¡Œã£ãŸå¥‘ç´„ã¯ã€å–æ¶ˆã™ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æ„æ€æ— èƒ½åŠ›è€…çš„å¥‘çº¦æ˜¯æ— æ•ˆï¼Œä¸æ˜¯å¯æ’¤é”€ã€‚æ— æ•ˆä¸å¯æ’¤é”€æœ‰æœ¬è´¨åŒºåˆ«ã€‚'
  },
  {
    question: 'æˆå¹´è¢«å¾Œè¦‹äººãŒæˆå¹´å¾Œè¦‹äººã®åŒæ„ã‚’å¾—ã¦è¡Œã£ãŸè¡Œç‚ºã¯ã€å–æ¶ˆã™ã“ã¨ãŒã§ããªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æˆå¹´è¢«åè§äººå³ä½¿è·å¾—æˆå¹´åè§äººåŒæ„ï¼Œå•ç‹¬è¡Œä¸ºä»ç„¶å¯ä»¥æ’¤é”€ã€‚'
  },
  {
    question: 'è¢«ä¿ä½äººãŒä¿ä½äººã®åŒæ„ã‚’å¾—ãšã«è¡Œã£ãŸæ—¥ç”¨å“ã®è³¼å…¥ã¯ã€å–æ¶ˆã™ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'è¢«ä¿ä½äººçš„æ—¥ç”¨å“è´­ä¹°ç­‰æ—¥å¸¸ç”Ÿæ´»è¡Œä¸ºï¼Œä¸éœ€è¦ä¿ä½äººåŒæ„ï¼Œä¹Ÿä¸èƒ½æ’¤é”€ã€‚'
  },
  {
    question: 'åˆ¶é™è¡Œç‚ºèƒ½åŠ›è€…ãŒè©è¡“ã‚’ç”¨ã„ã¦è¡Œç‚ºèƒ½åŠ›è€…ã§ã‚ã‚‹ã¨ä¿¡ã˜ã•ã›ãŸå ´åˆã€å½“è©²è¡Œç‚ºã‚’å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ããªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'ä½¿ç”¨è¯ˆæœ¯çš„é™åˆ¶è¡Œä¸ºèƒ½åŠ›äººä¸èƒ½ä¸»å¼ å–æ¶ˆï¼Œè¿™æ˜¯å¯¹äº¤æ˜“å®‰å…¨çš„ä¿æŠ¤ã€‚'
  },
  {
    question: 'æœªæˆå¹´è€…ãŒå˜ç‹¬ã§è¡Œã£ãŸå€Ÿé‡‘ã®å…é™¤å¥‘ç´„ã¯ã€å–æ¶ˆã™ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'å•çº¯è·å¾—æƒåˆ©æˆ–å…é™¤ä¹‰åŠ¡çš„è¡Œä¸ºï¼Œæœªæˆå¹´äººä¸éœ€è¦æ³•å®šä»£ç†äººåŒæ„ï¼Œä¹Ÿä¸èƒ½æ’¤é”€ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('limited-capacity', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('limited-capacity')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('limited-capacity')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('limited-capacity', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.limited-capacity-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.concept-card {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.concept-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.concept-content h3 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.concept-content p {
  margin: 0 0 1rem 0;
  font-weight: 500;
}

.concept-detail {
  font-size: 0.875rem;
  color: #6c757d;
  line-height: 1.5;
}

.capacity-comparison {
  margin-top: 2rem;
}

.comparison-table {
  overflow-x: auto;
}

.comparison-table table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.comparison-table th, .comparison-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: left;
}

.comparison-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.comparison-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.effect-invalid {
  background-color: #ffe7e7 !important;
  color: #c62828;
  font-weight: bold;
}

.effect-revocable {
  background-color: #fff9e6 !important;
  color: #e65100;
  font-weight: bold;
}

/* ========= å››ç§ç±»å‹æ ·å¼ ========= */
.types-overview {
  margin-bottom: 2rem;
}

.type-scale {
  position: relative;
  margin: 2rem 0;
}

.scale-labels {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  color: #6c757d;
}

.scale-bar {
  position: relative;
  height: 8px;
  background: linear-gradient(90deg, #c62828, #ff9800, #4caf50, #2a7960);
  border-radius: 4px;
  margin-bottom: 3rem;
}

.scale-point {
  position: absolute;
  transform: translateX(-50%);
  text-align: center;
}

.point-label {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 0.5rem;
  padding: 0.25rem 0.5rem;
  background: white;
  border: 1px solid #e9ecef;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: 500;
  white-space: nowrap;
}

.types-details {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.type-detail {
  padding: 1.5rem;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
}

.type-info {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.info-item {
  padding: 0.75rem;
  background: white;
  border-radius: 4px;
  font-size: 0.875rem;
}

.legal-effects {
  margin: 1.5rem 0;
}

.effect-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  margin-bottom: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.effect-item.positive {
  border-left: 4px solid #4caf50;
}

.effect-item.negative {
  border-left: 4px solid #f44336;
}

.effect-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.effect-content {
  flex: 1;
}

.effect-content ul {
  margin: 0.5rem 0 0 0;
  padding-left: 1.25rem;
}

.effect-content li {
  margin-bottom: 0.25rem;
  font-size: 0.875rem;
}

.special-note {
  padding: 1rem;
  background: #fff9e6;
  border-radius: 8px;
  border: 1px solid #ffcc00;
  margin: 1rem 0;
  font-weight: 500;
}

.example-box {
  margin-top: 1.5rem;
  padding: 1rem;
  background: #f0f7ff;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
}

.example-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.example-box p {
  margin: 0;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= ä¿æŠ¤è€…æƒé™æ¯”è¾ƒæ ·å¼ ========= */
.rights-comparison {
  margin: 2rem 0;
}

.table-container {
  overflow-x: auto;
  margin-bottom: 1.5rem;
}

.rights-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.rights-table th, .rights-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.rights-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.rights-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.has-right {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
}

.no-right {
  background-color: #ffe7e7 !important;
  color: #c62828;
  font-weight: bold;
}

.conditional {
  background-color: #fff9e6 !important;
  color: #e65100;
  font-weight: bold;
}

.legend {
  display: flex;
  justify-content: center;
  gap: 2rem;
  flex-wrap: wrap;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.legend-symbol {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
}

.legend-symbol.has-right {
  background-color: #e7f7e7;
  color: #2e7d32;
}

.legend-symbol.no-right {
  background-color: #ffe7e7;
  color: #c62828;
}

.legend-symbol.conditional {
  background-color: #fff9e6;
  color: #e65100;
}

.legend-text {
  font-size: 0.875rem;
  color: #6c757d;
}

.important-notes {
  margin-top: 2rem;
}

.notes-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.note-card {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.note-card h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.note-card p {
  margin: 0;
  line-height: 1.6;
  font-size: 0.875rem;
}

/* ========= å–æ¶ˆæƒä¸è¿½è®¤æ ·å¼ ========= */
.timeline-explanation {
  margin-bottom: 2rem;
}

.timeline {
  position: relative;
  max-width: 800px;
  margin: 0 auto;
}

.timeline::before {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  left: 30px;
  width: 2px;
  background: #2a7960;
}

.timeline-item {
  position: relative;
  margin-bottom: 2rem;
  padding-left: 80px;
}

.timeline-marker {
  position: absolute;
  left: 0;
  top: 0;
  width: 60px;
  height: 60px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.25rem;
  z-index: 1;
}

.timeline-content {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.timeline-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timeline-content p {
  margin: 0 0 1rem 0;
}

.example {
  padding: 0.75rem;
  background: #f0f7ff;
  border-radius: 4px;
  font-size: 0.875rem;
}

.cancellation-rights {
  margin-top: 2rem;
}

.rights-details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.right-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.right-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.right-item ul {
  margin: 0;
  padding-left: 1.25rem;
}

.right-item li {
  margin-bottom: 0.5rem;
  line-height: 1.5;
}

/* ========= å¯¹äº¤æ˜“ç›¸å¯¹æ–¹çš„ä¿æŠ¤æ ·å¼ ========= */
.protection-measures {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.protection-card {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.protection-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.protection-content h3 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.protection-content p {
  margin: 0 0 1rem 0;
  font-weight: 500;
}

.protection-detail {
  font-size: 0.875rem;
  color: #6c757d;
}

.protection-detail ul {
  margin: 0.5rem 0 0 0;
  padding-left: 1.25rem;
}

.protection-detail li {
  margin-bottom: 0.25rem;
  line-height: 1.5;
}

.protection-example {
  margin-top: 2rem;
}

.example-scenario {
  padding: 1.5rem;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
}

.scenario-step {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 4px;
}

.step-number {
  width: 30px;
  height: 30px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
}

.scenario-result {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: #e7f7e7;
  border-radius: 4px;
  margin-top: 1rem;
}

.result-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.result-content {
  flex: 1;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .concept-cards {
    grid-template-columns: 1fr;
  }
  
  .type-info {
    grid-template-columns: 1fr;
  }
  
  .protection-measures {
    grid-template-columns: 1fr;
  }
  
  .rights-details {
    grid-template-columns: 1fr;
  }
  
  .notes-grid {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
  
  .timeline::before {
    left: 15px;
  }
  
  .timeline-item {
    padding-left: 50px;
  }
  
  .timeline-marker {
    width: 30px;
    height: 30px;
    font-size: 0.875rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
  
  .legend {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }
}
</style>