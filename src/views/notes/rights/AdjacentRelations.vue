<!-- src/views/notes/rights/AdjacentRelations.vue -->
<template>
  <div class="adjacent-relations-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>ç›¸é‚»å…³ç³»</span>
        </div>
        <h1>ç›¸é‚»å…³ç³»ï¼ˆç›¸éš£é–¢ä¿‚ï¼‰</h1>
        <p>åœŸåœ°æ‰€æœ‰è€…ä¹‹é—´å› åœŸåœ°åˆ©ç”¨è€Œäº§ç”Ÿçš„æƒåˆ©ä¹‰åŠ¡å…³ç³»ï¼ŒåŒ…æ‹¬é‚»åœ°ä½¿ç”¨æƒã€é€šè¡Œæƒã€ç«¹æœ¨å¤„ç†ç­‰é‡è¦çš„æ—¥å¸¸ç”Ÿæ´»æ³•å¾‹é—®é¢˜</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">15</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">45åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£ç›¸é‚»å…³ç³»çš„æ³•å¾‹æ¦‚å¿µå’ŒåŸºæœ¬åŸåˆ™</li>
            <li>æŒæ¡é‚»åœ°ä½¿ç”¨æƒçš„è¡Œä½¿æ¡ä»¶å’Œé™åˆ¶</li>
            <li>ç†Ÿæ‚‰åœŸåœ°é€šè¡Œæƒçš„é€‚ç”¨æ¡ä»¶å’Œä¹‰åŠ¡</li>
            <li>äº†è§£ç«¹æœ¨ææ ¹è¶Šç•Œçš„å¤„ç†è§„åˆ™</li>
            <li>æŒæ¡ç›®éš ã—ä¹‰åŠ¡çš„é€‚ç”¨èŒƒå›´</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. ç›¸é‚»å…³ç³»åŸºæœ¬æ¦‚å¿µ</h2>
          
          <h3>ç›¸é‚»å…³ç³»çš„å®šä¹‰</h3>
          <div class="concept-explanation">
            <p>ç›¸é‚»å…³ç³»æ˜¯æŒ‡ç›¸é‚»åœŸåœ°æ‰€æœ‰è€…ä¹‹é—´ï¼Œåœ¨å„è‡ªè¡Œä½¿æ‰€æœ‰æƒæ—¶ï¼Œå› åœŸåœ°åˆ©ç”¨çš„ç›¸äº’å½±å“è€Œäº§ç”Ÿçš„æƒåˆ©ä¹‰åŠ¡å…³ç³»ã€‚å…¶æ ¸å¿ƒç›®çš„æ˜¯å¹³è¡¡ç›¸é‚»å„æ–¹çš„åˆ©ç›Šï¼Œå®ç°åœŸåœ°èµ„æºçš„åˆç†åˆ©ç”¨ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ ç°å®æ„ä¹‰</h4>
              <p>ç›¸é‚»å…³ç³»æ˜¯æ—¥å¸¸ç”Ÿæ´»ä¸­æœ€å¸¸è§çš„æ³•å¾‹é—®é¢˜ä¹‹ä¸€ï¼Œæ¶‰åŠå›´å¢™ä¿®å»ºã€æ ‘æœ¨ä¿®å‰ªã€é€šè¡Œæƒåˆ©ç­‰æ–¹æ–¹é¢é¢ï¼Œç†è§£è¿™äº›è§„åˆ™æœ‰åŠ©äºå’Œè°é‚»é‡Œå…³ç³»ã€‚</p>
            </div>
          </div>

          <h3>åŸºæœ¬åŸåˆ™</h3>
          <div class="effect-timing">
            <div class="timing-item">
              <div class="timing-icon">ğŸ¤</div>
              <div class="timing-content">
                <h4>ç›¸äº’å°Šé‡åŸåˆ™</h4>
                <p>å°Šé‡é‚»åœ°çš„åˆæ³•æƒç›Šï¼Œä¸å¾—æ»¥ç”¨æƒåˆ©</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">âš–ï¸</div>
              <div class="timing-content">
                <h4>æœ€å°æŸå®³åŸåˆ™</h4>
                <p>é€‰æ‹©å¯¹é‚»åœ°æŸå®³æœ€å°çš„æ–¹å¼è¡Œä½¿æƒåˆ©</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ’°</div>
              <div class="timing-content">
                <h4>åˆç†è¡¥å¿åŸåˆ™</h4>
                <p>é€ æˆæŸå®³æ—¶åº”ç»™äºˆåˆç†çš„ç»æµè¡¥å¿</p>
              </div>
            </div>
          </div>
        </section>

        <!-- é‚»åœ°ä½¿ç”¨æƒ -->
        <section id="neighbor-use-right" class="content-section">
          <h2>2. é‚»åœ°ä½¿ç”¨æƒ</h2>
          
          <h3>ä½¿ç”¨æ¡ä»¶</h3>
          <div class="use-conditions">
            <p>åœŸåœ°æ‰€æœ‰è€…å¯ä»¥åœ¨ä»¥ä¸‹å¿…è¦æƒ…å†µä¸‹è¯·æ±‚ä½¿ç”¨é‚»åœ°ï¼š</p>
            
            <div class="conditions-list">
              <div class="condition-item">
                <div class="condition-icon">ğŸ—ï¸</div>
                <div class="condition-content">
                  <h4>å»ºç­‘å·¥ç¨‹</h4>
                  <p>åœ¨è¾¹ç•Œé™„è¿‘ä¿®ç­‘ã€æ‹†é™¤ã€ä¿®ç¼®å¢™å£æˆ–å»ºç­‘ç‰©</p>
                </div>
              </div>
              <div class="condition-item">
                <div class="condition-icon">ğŸ“</div>
                <div class="condition-content">
                  <h4>æµ‹é‡è°ƒæŸ¥</h4>
                  <p>è¿›è¡Œè¾¹ç•Œæ ‡çš„è°ƒæŸ¥æˆ–è¾¹ç•Œç›¸å…³æµ‹é‡</p>
                </div>
              </div>
              <div class="condition-item">
                <div class="condition-icon">ğŸŒ³</div>
                <div class="condition-content">
                  <h4>æ ‘æœ¨ä¿®å‰ª</h4>
                  <p>ä¿®å‰ªè¶Šå¢ƒæ ‘æç­‰ç›®çš„</p>
                </div>
              </div>
            </div>
          </div>

          <h3>ä½¿ç”¨é™åˆ¶</h3>
          <div class="use-limitations">
            <div class="limitation-item">
              <h4>ğŸšª å±…ä½å»ºç­‘ç‰©</h4>
              <p>å¿…é¡»è·å¾—å±…ä½è€…çš„æ‰¿è¯ºæ‰èƒ½è¿›å…¥</p>
            </div>
            <div class="limitation-item">
              <h4>ğŸ“¢ é€šçŸ¥ä¹‰åŠ¡</h4>
              <p>å¿…é¡»äº‹å…ˆé€šçŸ¥é‚»åœ°æ‰€æœ‰è€…å’Œä½¿ç”¨è€…</p>
            </div>
            <div class="limitation-item">
              <h4>ğŸ” æ–¹æ³•é€‰æ‹©</h4>
              <p>å¿…é¡»é€‰æ‹©å¯¹é‚»åœ°æŸå®³æœ€å°çš„æ–¹æ³•</p>
            </div>
          </div>

          <h3>ç‰¹æ®Šæƒ…å†µå¤„ç†</h3>
          <div class="special-cases">
            <div class="case-item">
              <h4>ç´§æ€¥æƒ…å†µ</h4>
              <p>å¦‚äº‹å‰é€šçŸ¥å›°éš¾ï¼Œå¯åœ¨ä½¿ç”¨ååŠæ—¶é€šçŸ¥</p>
            </div>
            <div class="case-item">
              <h4>æŸå®³è¡¥å¿</h4>
              <p>å› ä½¿ç”¨é€ æˆæŸå®³æ—¶å¿…é¡»æ”¯ä»˜èµ”å¿é‡‘</p>
            </div>
          </div>
        </section>

        <!-- åœŸåœ°é€šè¡Œæƒ -->
        <section id="land-passage-right" class="content-section">
          <h2>3. åœŸåœ°é€šè¡Œæƒ</h2>
          
          <h3>é€šè¡Œæƒæˆç«‹æ¡ä»¶</h3>
          <div class="passage-conditions">
            <p>å½“åœŸåœ°è¢«å…¶ä»–åœŸåœ°åŒ…å›´è€Œæ— é€šè·¯è‡³å…¬å…±é“è·¯æ—¶ï¼Œè¯¥åœŸåœ°æ‰€æœ‰è€…æœ‰æƒé€šè¿‡å‘¨å›´åœŸåœ°åˆ°è¾¾å…¬å…±é“è·¯ã€‚</p>
            
            <div class="condition-flow">
              <div class="flow-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>å®Œå…¨åŒ…å›´</h4>
                  <p>åœŸåœ°å®Œå…¨è¢«å…¶ä»–åœŸåœ°åŒ…å›´</p>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>æ— å…¶ä»–é€šè·¯</h4>
                  <p>æ— å…¶ä»–é€šè·¯è‡³å…¬å…±é“è·¯</p>
                </div>
              </div>
              <div class="flow-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>å¿…é¡»é€šè¿‡</h4>
                  <p>å¿…é¡»é€šè¿‡é‚»åœ°æ‰èƒ½åˆ°è¾¾å…¬å…±é“è·¯</p>
                </div>
              </div>
            </div>
          </div>

          <h3>é€šè¡Œæ–¹å¼é™åˆ¶</h3>
          <div class="passage-limitations">
            <div class="limitation-item">
              <h4>ğŸ›£ï¸ è·¯å¾„é€‰æ‹©</h4>
              <p>å¿…é¡»é€‰æ‹©æŸå®³æœ€å°çš„è·¯å¾„å’Œæ–¹æ³•</p>
            </div>
            <div class="limitation-item">
              <h4>ğŸ’´ å¿é‡‘æ”¯ä»˜</h4>
              <p>é€šè¡Œæƒäººå¿…é¡»å‘é‚»åœ°æ‰€æœ‰è€…æ”¯ä»˜å¿é‡‘</p>
            </div>
            <div class="limitation-item">
              <h4>âš ï¸ ä¾‹å¤–æƒ…å†µ</h4>
              <p>å› åœŸåœ°åˆ†å‰²é€ æˆçš„è¢‹åœ°ï¼Œåªèƒ½é€šè¿‡åˆ†å‰²åçš„å…¶ä»–åœŸåœ°é€šè¡Œ</p>
            </div>
          </div>

          <h3>å®é™…æ¡ˆä¾‹</h3>
          <div class="case-example">
            <div class="example-box">
              <h4>ğŸ“ è¢‹åœ°é€šè¡Œæ¡ˆä¾‹</h4>
              <p>Açš„åœŸåœ°è¢«Bã€Cã€Dä¸‰å—åœŸåœ°å®Œå…¨åŒ…å›´ï¼Œæ— æ³•ç›´æ¥é€šå¾€å…¬å…±é“è·¯ã€‚Aå¯ä»¥é€‰æ‹©å¯¹Bã€Cã€Dä¸­æŸå®³æœ€å°çš„åœŸåœ°ï¼ˆæ¯”å¦‚è·ç¦»å…¬å…±é“è·¯æœ€è¿‘ã€å¯¹é‚»åœ°å½±å“æœ€å°çš„è·¯å¾„ï¼‰è¡Œä½¿é€šè¡Œæƒï¼Œä½†éœ€è¦å‘è¯¥é‚»åœ°æ‰€æœ‰è€…æ”¯ä»˜ç›¸åº”çš„å¿é‡‘ã€‚</p>
            </div>
          </div>
        </section>

        <!-- ç«¹æœ¨ææ ¹å¤„ç† -->
        <section id="tree-branch-root" class="content-section">
          <h2>4. ç«¹æœ¨ææ ¹å¤„ç†è§„åˆ™</h2>
          
          <h3>è¶Šå¢ƒæ ‘æçš„å¤„ç†</h3>
          <div class="branch-handling">
            <div class="handling-methods">
              <div class="method-item">
                <div class="method-icon">ğŸ“‹</div>
                <div class="method-content">
                  <h4>åŸºæœ¬åŸåˆ™</h4>
                  <p>ä¸èƒ½è‡ªè¡Œä¿®å‰ªï¼Œåº”è¦æ±‚ç«¹æœ¨æ‰€æœ‰è€…ä¿®å‰ª</p>
                </div>
              </div>
              <div class="method-item">
                <div class="method-icon">â°</div>
                <div class="method-content">
                  <h4>å‚¬å‘Šåä¿®å‰ª</h4>
                  <p>å‚¬å‘Šååœ¨åˆç†æœŸé—´å†…æœªä¿®å‰ªçš„ï¼Œå¯è‡ªè¡Œä¿®å‰ª</p>
                </div>
              </div>
              <div class="method-item">
                <div class="method-icon">â“</div>
                <div class="method-content">
                  <h4>æ‰€æœ‰è€…ä¸æ˜</h4>
                  <p>ç«¹æœ¨æ‰€æœ‰è€…ä¸æ˜æˆ–æ‰€åœ¨åœ°ä¸æ˜çš„ï¼Œå¯è‡ªè¡Œä¿®å‰ª</p>
                </div>
              </div>
            </div>
          </div>

          <h3>è¶Šå¢ƒæ ‘æ ¹çš„å¤„ç†</h3>
          <div class="root-handling">
            <div class="handling-difference">
              <div class="difference-item">
                <h4>ğŸŒ± è‡ªè¡Œåˆ‡é™¤æƒ</h4>
                <p>é‚»åœ°ç«¹æœ¨çš„æ ¹è¶Šå¢ƒæ—¶ï¼Œå¯è‡ªè¡Œåˆ‡é™¤</p>
              </div>
              <div class="difference-item">
                <h4>ğŸš« æ— éœ€å‚¬å‘Š</h4>
                <p>ä¸æ ‘æä¸åŒï¼Œåˆ‡é™¤æ ‘æ ¹æ— éœ€äº‹å…ˆå‚¬å‘Š</p>
              </div>
            </div>
            
            <div class="example-box">
              <h4>ğŸ“ é‡è¦åŒºåˆ«</h4>
              <p>æ ‘æå’Œæ ‘æ ¹çš„å¤„ç†è§„åˆ™ä¸åŒï¼šæ ‘æåŸåˆ™ä¸Šä¸èƒ½è‡ªè¡Œä¿®å‰ªï¼ˆéœ€å‚¬å‘Šï¼‰ï¼Œè€Œæ ‘æ ¹å¯ä»¥ç«‹å³è‡ªè¡Œåˆ‡é™¤ã€‚è¿™æ˜¯å› ä¸ºæ ‘æ ¹åœ¨åœ°ä¸‹ç”Ÿé•¿ï¼Œå¯¹åœŸåœ°åˆ©ç”¨çš„å½±å“æ›´ä¸ºç›´æ¥å’Œä¸¥é‡ã€‚</p>
            </div>
          </div>
        </section>

        <!-- ç›®éš ã—ä¹‰åŠ¡ -->
        <section id="privacy-obligation" class="content-section">
          <h2>5. ç›®éš ã—ä¹‰åŠ¡</h2>
          
          <h3>é€‚ç”¨èŒƒå›´</h3>
          <div class="obligation-scope">
            <p>åœ¨è·ç¦»è¾¹ç•Œçº¿1ç±³ä»¥å†…çš„ä½ç½®è®¾ç½®èƒ½å¤Ÿä¿¯ç°ä»–äººå®…åœ°çš„çª—æˆ·æˆ–é˜³å°æ—¶ï¼Œå¿…é¡»è®¾ç½®ç›®éš ã—ï¼ˆé®æŒ¡è®¾æ–½ï¼‰ã€‚</p>
            
            <div class="scope-details">
              <div class="detail-item">
                <h4>ğŸ“ è·ç¦»è¦æ±‚</h4>
                <p>è·ç¦»è¾¹ç•Œï¼š1ç±³ä»¥å†…</p>
              </div>
              <div class="detail-item">
                <h4>ğŸ  è®¾æ–½ç±»å‹</h4>
                <p>çª—æˆ·ã€é˜³å°ç­‰å¯ä¿¯ç°çš„è®¾æ–½</p>
              </div>
              <div class="detail-item">
                <h4>ğŸ“ å¯¹è±¡åœŸåœ°</h4>
                <p>ä»–äººçš„å®…åœ°ï¼ˆå±…ä½ç”¨åœ°ï¼‰</p>
              </div>
            </div>
          </div>

          <h3>æ³•å¾‹ç›®çš„</h3>
          <div class="legal-purpose">
            <div class="purpose-explanation">
              <h4>ä¿æŠ¤éšç§æƒ</h4>
              <p>ä¿æŠ¤é‚»åœ°çš„éšç§æƒï¼Œé˜²æ­¢å› è¿‘è·ç¦»è®¾ç½®çª—æˆ·ç­‰è®¾æ–½è€Œä¾µå®³é‚»åœ°çš„å±…ä½å®‰å®ã€‚</p>
              <p>è¿™ä¸€è§„å®šä½“ç°äº†æ³•å¾‹å¯¹ä¸ªäººç”Ÿæ´»ç©ºé—´å’Œéšç§çš„å°Šé‡ï¼Œæ˜¯ç°ä»£éƒ½å¸‚ç”Ÿæ´»ä¸­é‡è¦çš„ç›¸é‚»å…³ç³»è§„åˆ™ã€‚</p>
            </div>
          </div>

          <h3>å®åŠ¡åº”ç”¨</h3>
          <div class="practical-application">
            <div class="application-item">
              <h4>æ–°å»ºå»ºç­‘</h4>
              <p>æ–°å»ºæˆ¿å±‹æ—¶å¿…é¡»åœ¨è®¾è®¡é˜¶æ®µå°±è€ƒè™‘ç›®éš ã—ä¹‰åŠ¡</p>
            </div>
            <div class="application-item">
              <h4>æ”¹é€ å·¥ç¨‹</h4>
              <p>æ”¹é€ ç°æœ‰å»ºç­‘æ—¶å¦‚æ¶‰åŠè¾¹ç•Œé™„è¿‘å¼€çª—ï¼Œå¿…é¡»è®¾ç½®é®æŒ¡</p>
            </div>
            <div class="application-item">
              <h4>é®æŒ¡æ–¹å¼</h4>
              <p>å¯é‡‡ç”¨ç£¨ç ‚ç»ç’ƒã€ç™¾å¶çª—ã€å›ºå®šé®æŒ¡æ¿ç­‰æ–¹å¼</p>
            </div>
          </div>
        </section>

        <!-- ãƒ©ã‚¤ãƒ•ãƒ©ã‚¤ãƒ³è®¾å¤‡æƒ -->
        <section id="lifeline-equipment" class="content-section">
          <h2>6. ãƒ©ã‚¤ãƒ•ãƒ©ã‚¤ãƒ³è®¾å¤‡æƒ</h2>
          
          <h3>è®¾å¤‡è®¾ç½®æƒ</h3>
          <div class="equipment-rights">
            <div class="right-item">
              <div class="right-icon">âš¡</div>
              <div class="right-content">
                <h4>å¿…è¦èŒƒå›´å†…</h4>
                <p>åœ¨å¿…è¦èŒƒå›´å†…ï¼Œå¯ä»¥åœ¨ä»–äººåœŸåœ°ä¸Šè®¾ç½®ç”µæ°”ã€æ°´é“ã€ç…¤æ°”ç­‰ç®¡é“è®¾å¤‡</p>
              </div>
            </div>
          </div>

          <h3>è®¾å¤‡ä½¿ç”¨æƒ</h3>
          <div class="equipment-usage">
            <div class="usage-item">
              <div class="usage-icon">ğŸ”§</div>
              <div class="usage-content">
                <h4>ä½¿ç”¨æƒåˆ©</h4>
                <p>åœ¨å¿…è¦èŒƒå›´å†…ï¼Œå¯ä»¥ä½¿ç”¨ä»–äººæ‰€æœ‰çš„è®¾å¤‡</p>
              </div>
            </div>
          </div>

          <h3>è®¾ç½®ç¨‹åºè¦æ±‚</h3>
          <div class="setup-requirements">
            <div class="requirement-item">
              <h4>ğŸ” æ–¹æ³•é€‰æ‹©</h4>
              <p>å¿…é¡»é€‰æ‹©æŸå®³æœ€å°çš„æ–¹æ³•</p>
            </div>
            <div class="requirement-item">
              <h4>ğŸ“¢ é€šçŸ¥ä¹‰åŠ¡</h4>
              <p>å¿…é¡»æå‰é€šçŸ¥åœŸåœ°æ‰€æœ‰è€…</p>
            </div>
            <div class="requirement-item">
              <h4>âš–ï¸ ç‰¹æ®Šæƒ…å†µ</h4>
              <p>äº‹å‰é€šçŸ¥å›°éš¾æ—¶ï¼Œå¿…é¡»åœ¨æ³•é™¢æŒ‡å®šåœºæ‰€å…¬å‘Šæˆ–åœ¨å®˜æŠ¥ç™»è½½</p>
            </div>
            <div class="requirement-item">
              <h4>ğŸ’° æŸå®³è¡¥å¿</h4>
              <p>é€ æˆæŸå®³æ—¶å¿…é¡»æ”¯ä»˜èµ”å¿é‡‘</p>
            </div>
          </div>
        </section>

        <!-- å®åŠ¡æ³¨æ„äº‹é¡¹ -->
        <section id="practical-notes" class="content-section">
          <h2>7. å®åŠ¡æ³¨æ„äº‹é¡¹</h2>
          
          <h3>æƒåˆ©è¡Œä½¿é¡ºåº</h3>
          <div class="exercise-order">
            <div class="order-steps">
              <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>äº‹å…ˆåå•†</h4>
                  <p>äº‹å…ˆä¸é‚»åœ°æ‰€æœ‰è€…åå•†</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>ä¹¦é¢é€šçŸ¥</h4>
                  <p>ä¹¦é¢é€šçŸ¥å¹¶è¯´æ˜ä½¿ç”¨ç›®çš„å’ŒæœŸé—´</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>æ–¹æ³•é€‰æ‹©</h4>
                  <p>é€‰æ‹©å¯¹é‚»åœ°å½±å“æœ€å°çš„æ–¹æ³•</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                  <h4>æ”¯ä»˜è¡¥å¿</h4>
                  <p>åŠæ—¶æ”¯ä»˜ç›¸å…³è¡¥å¿é‡‘</p>
                </div>
              </div>
            </div>
          </div>

          <h3>çº çº·é¢„é˜²æªæ–½</h3>
          <div class="dispute-prevention">
            <div class="prevention-item">
              <h4>ğŸ“ æ˜ç¡®è¾¹ç•Œ</h4>
              <p>æ˜ç¡®è¾¹ç•Œçº¿ä½ç½®ï¼Œé¿å…äº‰è®®</p>
            </div>
            <div class="prevention-item">
              <h4>ğŸ“ ä¹¦é¢åè®®</h4>
              <p>äº‹å…ˆç­¾è®¢ä¹¦é¢åè®®ï¼Œæ˜ç¡®æƒåˆ©ä¹‰åŠ¡</p>
            </div>
            <div class="prevention-item">
              <h4>ğŸ“¸ ä¿ç•™è¯æ®</h4>
              <p>ä¿ç•™ç›¸å…³è¯æ®ææ–™ï¼Œæ‹ç…§å­˜æ¡£</p>
            </div>
            <div class="prevention-item">
              <h4>ğŸ‘¨â€ğŸ’¼ ä¸“ä¸šååŠ©</h4>
              <p>å¯»æ±‚ä¸“ä¸šäººå£«ååŠ©ï¼Œé¿å…æ³•å¾‹é£é™©</p>
            </div>
          </div>

          <h3>å¸¸è§é—®é¢˜å¤„ç†</h3>
          <div class="common-issues">
            <div class="issue-item">
              <h4>ğŸš¨ ç´§æ€¥æƒ…å†µ</h4>
              <p>å¯å…ˆè¡Œä½¿æƒåˆ©åè¡¥åŠæ‰‹ç»­ï¼Œä½†éœ€åŠæ—¶é€šçŸ¥</p>
            </div>
            <div class="issue-item">
              <h4>âŒ é‚»åœ°æ‹’ç»</h4>
              <p>åœ¨ç¬¦åˆæ³•å®šæ¡ä»¶æ—¶ï¼Œå³ä½¿é‚»åœ°æ‹’ç»ä¹Ÿå¯ä¾æ³•è¡Œä½¿æƒåˆ©</p>
            </div>
            <div class="issue-item">
              <h4>ğŸ’µ è¡¥å¿æ ‡å‡†</h4>
              <p>å‚ç…§å¸‚åœºä»·æ ¼æˆ–å®é™…æŸå¤±ç¡®å®šè¡¥å¿é‡‘é¢</p>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=adjacent-relations" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=adjacent-relations" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'neighbor-use-right', title: 'é‚»åœ°ä½¿ç”¨æƒ', icon: 'ğŸ—ï¸' },
  { id: 'land-passage-right', title: 'åœŸåœ°é€šè¡Œæƒ', icon: 'ğŸ›£ï¸' },
  { id: 'tree-branch-root', title: 'ç«¹æœ¨å¤„ç†', icon: 'ğŸŒ³' },
  { id: 'privacy-obligation', title: 'ç›®éš ã—ä¹‰åŠ¡', icon: 'ğŸšª' },
  { id: 'lifeline-equipment', title: 'è®¾å¤‡æƒ', icon: 'âš¡' },
  { id: 'practical-notes', title: 'å®åŠ¡æ³¨æ„', icon: 'ğŸ’¼' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'ç›¸éš£é–¢ä¿‚ï¼ˆãã†ã‚Šã‚“ã‹ã‚“ã‘ã„ï¼‰',
    chinese: 'ç›¸é‚»å…³ç³»',
    explanation: 'ç›¸é‚»åœŸåœ°æ‰€æœ‰è€…ä¹‹é—´å› åœŸåœ°åˆ©ç”¨è€Œäº§ç”Ÿçš„æƒåˆ©ä¹‰åŠ¡å…³ç³»',
    example: 'é‚»å±…ä¹‹é—´å…³äºå›´å¢™ä¿®å»ºã€æ ‘æœ¨ä¿®å‰ªçš„æƒåˆ©ä¹‰åŠ¡'
  },
  {
    japanese: 'éš£åœ°ä½¿ç”¨æ¨©ï¼ˆã‚Šã‚“ã¡ã—ã‚ˆã†ã‘ã‚“ï¼‰',
    chinese: 'é‚»åœ°ä½¿ç”¨æƒ',
    explanation: 'ä¸ºè¿›è¡Œå¿…è¦çš„å·¥ç¨‹æˆ–æµ‹é‡è€Œä½¿ç”¨é‚»åœ°çš„æƒåˆ©',
    example: 'ä¸ºä¿®ç¼®è‡ªå®¶å›´å¢™è€Œä¸´æ—¶ä½¿ç”¨é‚»å±…åœŸåœ°'
  },
  {
    japanese: 'åœŸåœ°ã®é€šè¡Œæ¨©ï¼ˆã¨ã¡ã®ã¤ã†ã“ã†ã‘ã‚“ï¼‰',
    chinese: 'åœŸåœ°é€šè¡Œæƒ',
    explanation: 'è¢«å…¶ä»–åœŸåœ°åŒ…å›´è€Œæ— é€šè·¯è‡³å…¬å…±é“è·¯æ—¶ï¼Œé€šè¿‡å‘¨å›´åœŸåœ°çš„æƒåˆ©',
    example: 'è¢‹åœ°æ‰€æœ‰è€…é€šè¿‡é‚»åœ°åˆ°è¾¾å…¬å…±é“è·¯'
  },
  {
    japanese: 'ç«¹æœ¨ã®æã¨æ ¹ï¼ˆã¡ãã¼ãã®ãˆã ã¨ã­ï¼‰',
    chinese: 'ç«¹æœ¨çš„æå’Œæ ¹',
    explanation: 'é‚»åœ°ç«¹æœ¨ææ ¹è¶Šç•Œæ—¶çš„å¤„ç†è§„åˆ™',
    example: 'é‚»å±…æ ‘æœ¨ææ¡ä¼¸å…¥è‡ªå®¶é™¢è½æ—¶çš„ä¿®å‰ªæƒåˆ©'
  },
  {
    japanese: 'ç›®éš ã—ï¼ˆã‚ã‹ãã—ï¼‰',
    chinese: 'é®æŒ¡è®¾æ–½',
    explanation: 'åœ¨è¾¹ç•Œé™„è¿‘è®¾ç½®çª—æˆ·æˆ–é˜³å°æ—¶å¿…é¡»å®‰è£…çš„é®æŒ¡è®¾æ–½',
    example: 'è·ç¦»è¾¹ç•Œ1ç±³å†…è®¾ç½®çª—æˆ·æ—¶éœ€è¦å®‰è£…çª—å¸˜æˆ–é®æŒ¡æ¿'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'åœŸåœ°ã®æ‰€æœ‰è€…ã¯ã€éš£åœ°ã‹ã‚‰æœ¨ã®æ ¹ãŒå¢ƒç•Œç·šã‚’è¶Šãˆã¦ä¼¸ã³ã¦ããŸã¨ãã¯ã€è‡ªã‚‰ã“ã‚Œã‚’åˆ‡æ–­ã§ãã‚‹ã€‚ï¼ˆ2004-7-4ï¼‰',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'é‚»åœ°ç«¹æœ¨çš„æ ¹è¶Šå¢ƒæ—¶ï¼ŒåœŸåœ°æ‰€æœ‰è€…å¯ä»¥è‡ªè¡Œåˆ‡é™¤ï¼Œæ— éœ€äº‹å…ˆå‚¬å‘Šã€‚'
  },
  {
    question: 'è¤‡æ•°ã®ç­†ã®ä»–ã®åœŸåœ°ã«å›²ã¾ã‚Œã¦å…¬é“ã«é€šã˜ãªã„åœŸåœ°ã®æ‰€æœ‰è€…ã¯ã€å…¬é“ã«è‡³ã‚‹ãŸã‚ã€ãã®åœŸåœ°ã‚’å›²ã‚“ã§ã„ã‚‹ä»–ã®åœŸåœ°ã‚’è‡ªç”±ã«é¸ã‚“ã§é€šè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ï¼ˆ2009-4-2ï¼‰',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'è¢‹åœ°æ‰€æœ‰è€…å¿…é¡»é€‰æ‹©å¯¹é‚»åœ°æŸå®³æœ€å°çš„è·¯å¾„é€šè¡Œï¼Œä¸èƒ½è‡ªç”±é€‰æ‹©ä»»æ„è·¯å¾„ã€‚'
  },
  {
    question: 'éš£åœ°ä½¿ç”¨æ¨©ã‚’è¡Œä½¿ã™ã‚‹å ´åˆã€ä½å®¶ã§ã‚ã£ã¦ã‚‚ã€å±…ä½è€…ã®æ‰¿è«¾ãŒãªãã¦ã‚‚ç«‹ã¡å…¥ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'ä½¿ç”¨é‚»åœ°æ—¶ï¼Œå¦‚æ¶‰åŠå±…ä½å»ºç­‘ç‰©ï¼Œå¿…é¡»è·å¾—å±…ä½è€…çš„æ‰¿è¯ºæ‰èƒ½è¿›å…¥ã€‚'
  },
  {
    question: 'å¢ƒç•Œç·šã‚ˆã‚Šï¼‘ï½æœªæº€ã®è·é›¢ã§ä»–äººã®å®…åœ°ã‚’è¦‹æ¸¡ã›ã‚‹çª“ã‚’è¨­ã‘ã‚‹ã¨ãã«ã¯ã€ç›®éš ã—ã‚’ã¤ã‘ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'è·ç¦»è¾¹ç•Œ1ç±³ä»¥å†…è®¾ç½®å¯ä¿¯ç°ä»–äººå®…åœ°çš„çª—æˆ·æ—¶ï¼Œå¿…é¡»è®¾ç½®é®æŒ¡è®¾æ–½ã€‚'
  },
  {
    question: 'éš£åœ°ã®ç«¹æœ¨ã®æãŒå¢ƒç•Œç·šã‚’è¶ŠãˆãŸå ´åˆã€ç›´ã¡ã«è‡ªã‚‰åˆ‡é™¤ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'åŸåˆ™ä¸Šåº”è¦æ±‚ç«¹æœ¨æ‰€æœ‰è€…åˆ‡é™¤ï¼Œåªæœ‰åœ¨å‚¬å‘Šåæœªåˆ‡é™¤æˆ–æ‰€æœ‰è€…ä¸æ˜ç­‰ç‰¹æ®Šæƒ…å†µä¸‹æ‰èƒ½è‡ªè¡Œåˆ‡é™¤ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('adjacent-relations', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('adjacent-relations')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('adjacent-relations')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('adjacent-relations', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.adjacent-relations-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-explanation {
  margin-bottom: 2rem;
}

.example-box {
  background: #f0f7ff;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
  border-left: 4px solid #2a7960;
}

.example-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.effect-timing {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.timing-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.timing-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.timing-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timing-content p {
  margin: 0;
  color: #6c757d;
}

/* ========= é‚»åœ°ä½¿ç”¨æƒæ ·å¼ ========= */
.use-conditions {
  margin-bottom: 2rem;
}

.conditions-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.condition-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.condition-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.condition-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.condition-content p {
  margin: 0;
  color: #6c757d;
}

.use-limitations {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.limitation-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.limitation-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.special-cases {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.case-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.case-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= åœŸåœ°é€šè¡Œæƒæ ·å¼ ========= */
.passage-conditions {
  margin-bottom: 2rem;
}

.condition-flow {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.flow-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
}

.step-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.step-content p {
  margin: 0;
  font-size: 0.875rem;
  color: #6c757d;
}

.passage-limitations {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.case-example {
  margin: 2rem 0;
}

/* ========= ç«¹æœ¨å¤„ç†æ ·å¼ ========= */
.branch-handling {
  margin-bottom: 2rem;
}

.handling-methods {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.method-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.method-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.method-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.method-content p {
  margin: 0;
  color: #6c757d;
}

.root-handling {
  margin: 2rem 0;
}

.handling-difference {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.difference-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.difference-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= ç›®éš ã—ä¹‰åŠ¡æ ·å¼ ========= */
.obligation-scope {
  margin-bottom: 2rem;
}

.scope-details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.detail-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.detail-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.legal-purpose {
  margin: 2rem 0;
}

.purpose-explanation {
  padding: 1.5rem;
  background: #f0f7ff;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
}

.purpose-explanation h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.practical-application {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.application-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.application-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= è®¾å¤‡æƒæ ·å¼ ========= */
.equipment-rights {
  margin-bottom: 2rem;
}

.right-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.right-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.right-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.right-content p {
  margin: 0;
  color: #6c757d;
}

.equipment-usage {
  margin: 2rem 0;
}

.usage-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.usage-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.usage-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.usage-content p {
  margin: 0;
  color: #6c757d;
}

.setup-requirements {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.requirement-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.requirement-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= å®åŠ¡æ³¨æ„äº‹é¡¹æ ·å¼ ========= */
.exercise-order {
  margin-bottom: 2rem;
}

.order-steps {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.step {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  flex-shrink: 0;
}

.step-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.step-content p {
  margin: 0;
  color: #6c757d;
}

.dispute-prevention {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.prevention-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.prevention-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.common-issues {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.issue-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.issue-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .effect-timing {
    grid-template-columns: 1fr;
  }
  
  .conditions-list {
    grid-template-columns: 1fr;
  }
  
  .use-limitations {
    grid-template-columns: 1fr;
  }
  
  .special-cases {
    grid-template-columns: 1fr;
  }
  
  .condition-flow {
    grid-template-columns: 1fr;
  }
  
  .passage-limitations {
    grid-template-columns: 1fr;
  }
  
  .handling-methods {
    grid-template-columns: 1fr;
  }
  
  .handling-difference {
    grid-template-columns: 1fr;
  }
  
  .scope-details {
    grid-template-columns: 1fr;
  }
  
  .practical-application {
    grid-template-columns: 1fr;
  }
  
  .setup-requirements {
    grid-template-columns: 1fr;
  }
  
  .order-steps {
    grid-template-columns: 1fr;
  }
  
  .dispute-prevention {
    grid-template-columns: 1fr;
  }
  
  .common-issues {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
}
</style>