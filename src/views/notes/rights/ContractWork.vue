<!-- src/views/notes/rights/ContractWork.vue -->
<template>
  <div class="contract-work-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>è¯·è´Ÿ</span>
        </div>
        <h1>è¯·è´Ÿï¼ˆæ‰¿åŒ…å¥‘çº¦ï¼‰</h1>
        <p>æ—¥æœ¬æ°‘æ³•ä¸­çš„æ‰¿åŒ…å¥‘çº¦åˆ¶åº¦ï¼Œæ¶‰åŠè¯·è´Ÿäººä¸æ³¨æ–‡è€…çš„æƒåˆ©ä¹‰åŠ¡å…³ç³»ã€æ‹…ä¿è´£ä»»ã€å¥‘çº¦è§£é™¤ç­‰é‡è¦å†…å®¹</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">15</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">45åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£è¯·è´Ÿå¥‘çº¦çš„å®šä¹‰å’ŒåŸºæœ¬ç‰¹å¾</li>
            <li>æŒæ¡è¯·è´Ÿäººçš„æ‹…ä¿è´£ä»»å†…å®¹åŠé€‚ç”¨æ¡ä»¶</li>
            <li>ç†Ÿæ‚‰æ³¨æ–‡è€…çš„è§£é™¤æƒè¡Œä½¿æ¡ä»¶å’Œé™åˆ¶</li>
            <li>äº†è§£è¯·è´Ÿå¥‘çº¦ä¸­æŠ¥é…¬æ”¯ä»˜çš„ç‰¹æ®Šè§„åˆ™</li>
            <li>æŒæ¡æ‹…ä¿è´£ä»»çš„æœŸé—´é™åˆ¶å’Œç‰¹çº¦æ•ˆåŠ›</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. è¯·è´Ÿå¥‘çº¦çš„åŸºæœ¬æ¦‚å¿µ</h2>
          
          <h3>è¯·è´Ÿå¥‘çº¦çš„å®šä¹‰</h3>
          <div class="concept-explanation">
            <p>è¯·è´Ÿå¥‘çº¦æ˜¯æŒ‡å½“äº‹äººä¸€æ–¹ï¼ˆè¯·è´Ÿäººï¼‰çº¦å®šå®Œæˆä¸€å®šå·¥ä½œï¼Œå¦ä¸€æ–¹ï¼ˆæ³¨æ–‡è€…ï¼‰çº¦å®šå¯¹æ­¤æ”¯ä»˜æŠ¥é…¬çš„å¥‘çº¦ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ ç°å®æ¡ˆä¾‹</h4>
              <p>Aå§”æ‰˜Bè£…ä¿®æˆ¿å±‹ï¼ŒBå®Œæˆè£…ä¿®å·¥ä½œåï¼ŒAå‘Bæ”¯ä»˜è£…ä¿®è´¹ç”¨ã€‚è¿™å°±æ˜¯å…¸å‹çš„è¯·è´Ÿå¥‘çº¦å…³ç³»ã€‚</p>
            </div>
          </div>

          <h3>å¥‘çº¦ç‰¹å¾</h3>
          <div class="effect-timing">
            <div class="timing-item">
              <div class="timing-icon">ğŸ¤</div>
              <div class="timing-content">
                <h4>åŒåŠ¡å¥‘çº¦</h4>
                <p>åŒæ–¹äº’è´Ÿä¹‰åŠ¡ï¼šè¯·è´Ÿäººå®Œæˆå·¥ä½œï¼Œæ³¨æ–‡è€…æ”¯ä»˜æŠ¥é…¬</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ’°</div>
              <div class="timing-content">
                <h4>æœ‰å¿å¥‘çº¦</h4>
                <p>æ³¨æ–‡è€…å¿…é¡»æ”¯ä»˜ç›¸åº”æŠ¥é…¬</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ“</div>
              <div class="timing-content">
                <h4>è¯ºæˆå¥‘çº¦</h4>
                <p>æ„æ€è¡¨ç¤ºä¸€è‡´å³æˆç«‹ï¼Œæ— éœ€ç‰¹å®šå½¢å¼</p>
              </div>
            </div>
          </div>

          <h3>é‡è¦æ—¶é—´èŠ‚ç‚¹</h3>
          <div class="time-sequence">
            <div class="sequence-step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>å·¥ä½œå®Œæˆ</h4>
                <p>æŠ¥é…¬æ”¯ä»˜è¯·æ±‚æƒäº§ç”Ÿ</p>
              </div>
            </div>
            <div class="sequence-step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>æˆæœç‰©å¼•æ¸¡ä¸æŠ¥é…¬æ”¯ä»˜</h4>
                <p>åŒæ—¶å±¥è¡Œå…³ç³»</p>
              </div>
            </div>
            <div class="sequence-step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>å·¥ä½œå®Œæˆä¸æŠ¥é…¬æ”¯ä»˜</h4>
                <p>éåŒæ—¶å±¥è¡Œå…³ç³»ï¼ˆå·¥ä½œå®Œæˆä¸ºå…ˆï¼‰</p>
              </div>
            </div>
          </div>
        </section>

        <!-- è¯·è´Ÿäººçš„æ‹…ä¿è´£ä»» -->
        <section id="guarantee-responsibility" class="content-section">
          <h2>2. è¯·è´Ÿäººçš„æ‹…ä¿è´£ä»»</h2>
          
          <h3>æ‹…ä¿è´£ä»»çš„å†…å®¹</h3>
          <div class="responsibility-content">
            <p>å½“å·¥ä½œæˆæœå­˜åœ¨å¥‘çº¦ä¸é€‚åˆï¼ˆç‘•ç–µï¼‰æ—¶ï¼Œæ³¨æ–‡è€…å¯ä»¥è¡Œä½¿ä»¥ä¸‹æƒåˆ©ï¼š</p>
            
            <div class="rights-grid">
              <div class="right-item">
                <div class="right-icon">ğŸ”§</div>
                <div class="right-content">
                  <h4>ä¿®è¡¥è¯·æ±‚</h4>
                  <p><strong>åŸåˆ™ä¸Šå¯ä»¥è¦æ±‚è¯·è´Ÿäººè¿›è¡Œä¿®è¡¥</strong></p>
                  <div class="right-note">ä½†ä¿®è¡¥è´¹ç”¨è¿‡é«˜æ—¶ï¼ŒåŸºäºç¤¾ä¼šé€šå¿µå¯èƒ½ä¸è¢«è®¤å¯</div>
                </div>
              </div>
              <div class="right-item">
                <div class="right-icon">ğŸ“‰</div>
                <div class="right-content">
                  <h4>æŠ¥é…¬å‡é¢è¯·æ±‚</h4>
                  <p><strong>éœ€å…ˆè¿›è¡Œå±¥è¡Œè¿½å®Œçš„å‚¬å‘Š</strong></p>
                  <div class="right-note">åœ¨ä¸€å®šæœŸé—´å†…æœªä¿®è¡¥å®Œæˆæ—¶æ–¹å¯è¡Œä½¿</div>
                </div>
              </div>
              <div class="right-item">
                <div class="right-icon">ğŸ’¸</div>
                <div class="right-content">
                  <h4>æŸå®³èµ”å¿è¯·æ±‚</h4>
                  <p><strong>åŸåˆ™ä¸Šå¯ä»¥è¯·æ±‚æŸå®³èµ”å¿</strong></p>
                  <div class="right-note">ä¿®è¡¥ä¸èƒ½æ—¶ç‰¹åˆ«é€‚ç”¨</div>
                </div>
              </div>
              <div class="right-item">
                <div class="right-icon">ğŸš«</div>
                <div class="right-content">
                  <h4>å¥‘çº¦è§£é™¤è¯·æ±‚</h4>
                  <p><strong>éœ€å…ˆå‘å‡ºè¿½å®Œè¯·æ±‚å‚¬å‘Š</strong></p>
                  <div class="right-note">ç»è¿‡ç›¸å½“æœŸé—´ä»æœªä¿®è¡¥æ—¶æ–¹å¯è§£é™¤ï¼›ç‘•ç–µä¸¥é‡å¯¼è‡´å¥‘çº¦ç›®çš„æ˜æ˜¾ä¸èƒ½è¾¾æˆæ—¶ï¼Œå¯æ— å‚¬å‘Šè§£é™¤</div>
                </div>
              </div>
            </div>
          </div>

          <h3>å®åŠ¡æ¡ˆä¾‹</h3>
          <div class="practice-case">
            <div class="case-item">
              <h4>ğŸ’» è½¯ä»¶å¼€å‘æ¡ˆä¾‹</h4>
              <p>å¼€å‘è€…æäº¤çš„ä»£ç å‡ºç°BUGï¼Œæ³¨æ–‡è€…éœ€è¦ï¼š</p>
              <ol>
                <li>å…ˆè¦æ±‚å¼€å‘è€…ä¿®å¤BUGï¼ˆå±¥è¡Œè¿½å®Œï¼‰</li>
                <li>åœ¨ä¸€å®šæœŸé—´å†…ä¿®å¤ä¸æˆï¼Œæ‰èƒ½è¦æ±‚æŠ¥é…¬å‡é¢</li>
                <li>å¦‚æœBUGä¸¥é‡å½±å“ä½¿ç”¨ï¼Œå¯ä»¥è§£é™¤å¥‘çº¦</li>
              </ol>
            </div>
          </div>
        </section>

        <!-- æ‹…ä¿è´£ä»»çš„é™åˆ¶ -->
        <section id="guarantee-limits" class="content-section">
          <h2>3. æ‹…ä¿è´£ä»»çš„é™åˆ¶</h2>
          
          <h3>åŸåˆ™é™åˆ¶</h3>
          <div class="limit-principle">
            <div class="principle-item">
              <div class="principle-icon">ğŸ›¡ï¸</div>
              <div class="principle-content">
                <h4>ææ–™æˆ–æŒ‡ç¤ºé—®é¢˜</h4>
                <p>æŒ‰ç…§æ³¨æ–‡è€…æä¾›çš„ææ–™æˆ–æŒ‡ç¤ºè¿›è¡Œå·¥ä½œæ—¶ï¼Œå‘ç”Ÿå¥‘çº¦ä¸é€‚åˆï¼Œè¯·è´Ÿäºº<strong>ä¸è´Ÿæ‹…ä¿è´£ä»»</strong>ã€‚</p>
              </div>
            </div>
          </div>

          <h3>ä¾‹å¤–æƒ…å†µ</h3>
          <div class="exception-case">
            <div class="exception-item">
              <div class="exception-icon">âš ï¸</div>
              <div class="exception-content">
                <h4>çŸ¥æƒ…ä¸æŠ¥</h4>
                <p>è¯·è´Ÿäºº<strong>æ˜çŸ¥ææ–™æˆ–æŒ‡ç¤ºä¸å½“å´ä¸å‘ŠçŸ¥</strong>æ—¶ï¼Œå³ä½¿æŒ‰ç…§æ³¨æ–‡è€…æŒ‡ç¤ºå·¥ä½œï¼Œä»éœ€è´Ÿæ‹…ä¿è´£ä»»ã€‚</p>
                <div class="exception-note">ä½“ç°äº†è¯šå®ä¿¡ç”¨åŸåˆ™çš„è¦æ±‚</div>
              </div>
            </div>
          </div>
        </section>

        <!-- æ‹…ä¿è´£ä»»çš„æœŸé—´é™åˆ¶ -->
        <section id="time-limits" class="content-section">
          <h2>4. æ‹…ä¿è´£ä»»çš„æœŸé—´é™åˆ¶</h2>
          
          <h3>åŸåˆ™è§„å®š</h3>
          <div class="time-limit-principle">
            <div class="time-limit-item">
              <div class="time-icon">â°</div>
              <div class="time-content">
                <h4>1å¹´é€šçŸ¥æœŸé™</h4>
                <p>æ³¨æ–‡è€…è‡ªçŸ¥æ‚‰å¥‘çº¦ä¸é€‚åˆä¹‹æ—¶èµ·<strong>1å¹´å†…</strong>æœªé€šçŸ¥è¯·è´Ÿäººï¼Œåˆ™ä¸§å¤±æ‹…ä¿è´£ä»»è¿½åŠæƒã€‚</p>
                <div class="time-note">ç›®çš„æ˜¯ä¿ƒè¿›æƒåˆ©åŠæ—¶è¡Œä½¿ï¼Œç»´æŠ¤æ³•å¾‹å…³ç³»ç¨³å®š</div>
              </div>
            </div>
          </div>

          <h3>ä¾‹å¤–æƒ…å†µ</h3>
          <div class="time-exceptions">
            <div class="exception-item">
              <div class="exception-icon">ğŸ”</div>
              <div class="exception-content">
                <h4>è¯·è´ŸäººçŸ¥æƒ…æˆ–é‡å¤§è¿‡å¤±</h4>
                <p>æˆæœç‰©å¼•æ¸¡æ—¶ï¼Œè¯·è´Ÿäºº<strong>å·²çŸ¥æ‚‰ç‘•ç–µ</strong>æˆ–å› <strong>é‡å¤§è¿‡å¤±ä¸çŸ¥æ™“</strong>æ—¶ï¼Œå³ä½¿è¶…è¿‡1å¹´ä»è´Ÿæ‹…ä¿è´£ä»»ã€‚</p>
                <div class="exception-note">é˜²æ­¢è¯·è´Ÿäººæ¶æ„éšç’ç‘•ç–µ</div>
              </div>
            </div>
          </div>
        </section>

        <!-- æ‹…ä¿è´£ä»»çš„ç‰¹çº¦ -->
        <section id="special-agreements" class="content-section">
          <h2>5. æ‹…ä¿è´£ä»»çš„ç‰¹çº¦</h2>
          
          <h3>ç‰¹çº¦æ•ˆåŠ›</h3>
          <div class="agreement-validity">
            <div class="validity-item">
              <div class="validity-icon">ğŸ“„</div>
              <div class="validity-content">
                <h4>å…è´£ç‰¹çº¦åŸåˆ™æœ‰æ•ˆ</h4>
                <p>å½“äº‹äººå¯çº¦å®š"å³ä½¿æˆæœç‰©æœ‰ç‘•ç–µï¼Œè¯·è´Ÿäººä¹Ÿä¸è´Ÿæ‹…ä¿è´£ä»»"ï¼Œè¯¥ç‰¹çº¦<strong>åŸåˆ™ä¸Šæœ‰æ•ˆ</strong>ã€‚</p>
                <div class="validity-note">ä½“ç°å¥‘çº¦è‡ªç”±åŸåˆ™</div>
              </div>
            </div>
          </div>

          <h3>ç‰¹çº¦é™åˆ¶</h3>
          <div class="agreement-limits">
            <div class="limit-item">
              <div class="limit-icon">ğŸš«</div>
              <div class="limit-content">
                <h4>çŸ¥æƒ…ä¸æŠ¥çš„ä¾‹å¤–</h4>
                <p>è¯·è´Ÿäºº<strong>æ˜çŸ¥ç‘•ç–µå­˜åœ¨å´ä¸å‘ŠçŸ¥</strong>æ—¶ï¼Œå³ä½¿æœ‰å…è´£ç‰¹çº¦ä»é¡»è´Ÿæ‹…ä¿è´£ä»»ã€‚</p>
                <div class="limit-note">è¯šå®ä¿¡ç”¨åŸåˆ™ä¼˜å…ˆäºå¥‘çº¦è‡ªç”±åŸåˆ™</div>
              </div>
            </div>
          </div>
        </section>

        <!-- æ³¨æ–‡è€…çš„è§£é™¤æƒ -->
        <section id="client-rights" class="content-section">
          <h2>6. æ³¨æ–‡è€…çš„è§£é™¤æƒ</h2>
          
          <h3>è§£é™¤æ¡ä»¶</h3>
          <div class="termination-conditions">
            <div class="condition-item">
              <div class="condition-icon">ğŸ”„</div>
              <div class="condition-content">
                <h4>ä»»æ„è§£é™¤æƒ</h4>
                <p>å·¥ä½œå®Œæˆå‰ï¼Œæ³¨æ–‡è€…<strong>å¯éšæ—¶è§£é™¤</strong>å¥‘çº¦</p>
                <div class="condition-note">éœ€èµ”å¿è¯·è´Ÿäººå› æ­¤é­å—çš„æŸå®³</div>
              </div>
            </div>
          </div>

          <h3>è§£é™¤æ•ˆæœ</h3>
          <div class="termination-effects">
            <div class="effect-item">
              <div class="effect-icon">âš–ï¸</div>
              <div class="effect-content">
                <h4>å¥‘çº¦é¢å‘å°†æ¥æ¶ˆç­</h4>
                <p>è§£é™¤æ•ˆåŠ›ä¸æº¯åŠæ—¢å¾€ï¼Œå·²å±¥è¡Œçš„éƒ¨åˆ†ä»ç„¶æœ‰æ•ˆ</p>
              </div>
            </div>
            <div class="effect-item">
              <div class="effect-icon">ğŸ’µ</div>
              <div class="effect-content">
                <h4>æ¯”ä¾‹æŠ¥é…¬è¯·æ±‚æƒ</h4>
                <p>è¯·è´Ÿäººå¯æ ¹æ®å·²å®Œæˆå·¥ä½œçš„æ¯”ä¾‹è¯·æ±‚ç›¸åº”æŠ¥é…¬</p>
              </div>
            </div>
          </div>
        </section>

        <!-- è¯·è´Ÿäººçš„æŠ¥é…¬è¯·æ±‚æƒ -->
        <section id="contractor-rights" class="content-section">
          <h2>7. è¯·è´Ÿäººçš„æŠ¥é…¬è¯·æ±‚æƒ</h2>
          
          <h3>æŠ¥é…¬æ”¯ä»˜æ—¶æœŸ</h3>
          <div class="payment-timing">
            <div class="timing-item">
              <div class="timing-icon">âœ…</div>
              <div class="timing-content">
                <h4>å·¥ä½œå®Œæˆå</h4>
                <p>å·¥ä½œå®Œæˆåæ–¹å¯è¯·æ±‚æŠ¥é…¬</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ”„</div>
              <div class="timing-content">
                <h4>åŒæ—¶å±¥è¡Œå…³ç³»</h4>
                <p>æˆæœç‰©å¼•æ¸¡ä¸æŠ¥é…¬æ”¯ä»˜ä¸ºåŒæ—¶å±¥è¡Œå…³ç³»</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">â©</div>
              <div class="timing-content">
                <h4>éåŒæ—¶å±¥è¡Œ</h4>
                <p>å·¥ä½œå®Œæˆä¸æŠ¥é…¬æ”¯ä»˜ä¸æ˜¯åŒæ—¶å±¥è¡Œå…³ç³»ï¼ˆå·¥ä½œå®Œæˆä¸ºå…ˆï¼‰</p>
              </div>
            </div>
          </div>

          <h3>æ¯”ä¾‹æŠ¥é…¬è¯·æ±‚æƒ</h3>
          <div class="proportional-payment">
            <div class="payment-case">
              <h4>é€‚ç”¨æƒ…å½¢</h4>
              <ul>
                <li>å› æ³¨æ–‡è€…å½’è´£äº‹ç”±å¯¼è‡´å·¥ä½œä¸èƒ½å®Œæˆ</li>
                <li>å¥‘çº¦åœ¨å·¥ä½œå®Œæˆå‰è§£é™¤</li>
              </ul>
              <div class="payment-note">
                <p>è¯·è´Ÿäººå¯æ ¹æ®æ³¨æ–‡è€…æ‰€å¾—åˆ©ç›Šæ¯”ä¾‹è¯·æ±‚ç›¸åº”æŠ¥é…¬</p>
              </div>
            </div>
          </div>
        </section>

        <!-- ä¸å§”ä»»å¥‘çº¦çš„æ¯”è¾ƒ -->
        <section id="comparison" class="content-section">
          <h2>8. è¯·è´Ÿä¸å§”ä»»çš„æ¯”è¾ƒ</h2>
          
          <h3>ä¸»è¦åŒºåˆ«</h3>
          <div class="comparison-table">
            <div class="table-container">
              <table class="compare-table">
                <thead>
                  <tr>
                    <th>æ¯”è¾ƒé¡¹ç›®</th>
                    <th>è¯·è´Ÿå¥‘çº¦</th>
                    <th>å§”ä»»å¥‘çº¦</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>æŠ¥é…¬åŸåˆ™</strong></td>
                    <td>æœ‰å¿åŸåˆ™</td>
                    <td>æ— å¿åŸåˆ™</td>
                  </tr>
                  <tr>
                    <td><strong>æˆæœè¦æ±‚</strong></td>
                    <td>ä»¥å·¥ä½œå®Œæˆä¸ºè¦ä»¶</td>
                    <td>ä»¥äº‹åŠ¡å¤„ç†ä¸ºè¦ä»¶</td>
                  </tr>
                  <tr>
                    <td><strong>è§£é™¤æƒ</strong></td>
                    <td>æ³¨æ–‡è€…ä»»æ„è§£é™¤éœ€èµ”å¿</td>
                    <td>åŒæ–¹å‡å¯ä»»æ„è§£é™¤</td>
                  </tr>
                  <tr>
                    <td><strong>æ‹…ä¿è´£ä»»</strong></td>
                    <td>æœ‰æ‹…ä¿è´£ä»»</td>
                    <td>æ— æ‹…ä¿è´£ä»»</td>
                  </tr>
                  <tr>
                    <td><strong>æŠ¥é…¬æ”¯ä»˜</strong></td>
                    <td>å·¥ä½œå®Œæˆåæ”¯ä»˜</td>
                    <td>äº‹åŠ¡å®Œæˆåç»“ç®—</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=contract-work" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=contract-work" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'guarantee-responsibility', title: 'æ‹…ä¿è´£ä»»', icon: 'ğŸ›¡ï¸' },
  { id: 'guarantee-limits', title: 'è´£ä»»é™åˆ¶', icon: 'ğŸš«' },
  { id: 'time-limits', title: 'æœŸé—´é™åˆ¶', icon: 'â°' },
  { id: 'special-agreements', title: 'ç‰¹çº¦æ•ˆåŠ›', icon: 'ğŸ“„' },
  { id: 'client-rights', title: 'æ³¨æ–‡è€…æƒåˆ©', icon: 'ğŸ‘¤' },
  { id: 'contractor-rights', title: 'è¯·è´Ÿäººæƒåˆ©', icon: 'ğŸ‘·' },
  { id: 'comparison', title: 'æ¯”è¾ƒåˆ†æ', icon: 'âš–ï¸' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'è«‹è² ï¼ˆã†ã‘ãŠã„ï¼‰',
    chinese: 'æ‰¿åŒ…å¥‘çº¦',
    explanation: 'å½“äº‹äººçº¦å®šä¸€æ–¹å®Œæˆå·¥ä½œï¼Œå¦ä¸€æ–¹æ”¯ä»˜æŠ¥é…¬çš„å¥‘çº¦',
    example: 'Aå§”æ‰˜Bè£…ä¿®æˆ¿å±‹ï¼ŒBå®Œæˆè£…ä¿®åAæ”¯ä»˜æŠ¥é…¬'
  },
  {
    japanese: 'æ³¨æ–‡è€…ï¼ˆã¡ã‚…ã†ã‚‚ã‚“ã—ã‚ƒï¼‰',
    chinese: 'å®šä½œäºº',
    explanation: 'å§”æ‰˜ä»–äººå®Œæˆå·¥ä½œå¹¶æ”¯ä»˜æŠ¥é…¬çš„ä¸€æ–¹',
    example: 'å§”æ‰˜å»ºç­‘å…¬å¸å»ºé€ æˆ¿å±‹çš„ä¸šä¸»'
  },
  {
    japanese: 'è«‹è² äººï¼ˆã†ã‘ãŠã„ã«ã‚“ï¼‰',
    chinese: 'æ‰¿åŒ…äºº',
    explanation: 'æ¥å—å§”æ‰˜å®Œæˆå·¥ä½œçš„ä¸€æ–¹',
    example: 'æ‰¿æ¥è£…ä¿®å·¥ç¨‹çš„è£…ä¿®å…¬å¸'
  },
  {
    japanese: 'æ‹…ä¿è²¬ä»»ï¼ˆãŸã‚“ã½ã›ãã«ã‚“ï¼‰',
    chinese: 'æ‹…ä¿è´£ä»»',
    explanation: 'è¯·è´Ÿäººå¯¹å·¥ä½œæˆæœä¸ç¬¦åˆçº¦å®šæ—¶æ‰¿æ‹…çš„è´£ä»»',
    example: 'è£…ä¿®è´¨é‡ä¸åˆæ ¼æ—¶ï¼Œè£…ä¿®å…¬å¸éœ€è´Ÿè´£ä¿®å¤'
  },
  {
    japanese: 'å¥‘ç´„ä¸é©åˆï¼ˆã‘ã„ã‚„ããµã¦ãã”ã†ï¼‰',
    chinese: 'å¥‘çº¦ä¸é€‚åˆ',
    explanation: 'å·¥ä½œæˆæœä¸ç¬¦åˆå¥‘çº¦çº¦å®šçš„å“è´¨ã€æ€§èƒ½ç­‰è¦æ±‚',
    example: 'å»ºé€ çš„æˆ¿å±‹å‡ºç°æ¼æ°´ç­‰è´¨é‡é—®é¢˜'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'è«‹è² å¥‘ç´„ã«ãŠã„ã¦ã€ä»•äº‹ã®å®Œæˆå‰ã«æ³¨æ–‡è€…ãŒå¥‘ç´„ã‚’è§£é™¤ã™ã‚‹å ´åˆã€è«‹è² äººãŒå—ã‘ã‚‹æå®³ã‚’è³ å„Ÿã™ã‚‹å¿…è¦ã¯ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'å·¥ä½œå®Œæˆå‰ï¼Œæ³¨æ–‡è€…å¯ä»¥è§£é™¤å¥‘çº¦ï¼Œä½†å¿…é¡»èµ”å¿è¯·è´Ÿäººçš„æŸå®³ã€‚'
  },
  {
    question: 'è«‹è² äººã¯ã€æ³¨æ–‡è€…ã®æŒ‡å›³ã«ã‚ˆã£ã¦ä»•äº‹ã‚’è¡Œã£ãŸå ´åˆã€ãã®ä»•äº‹ã®çµæœã«ã¤ã„ã¦æ‹…ä¿è²¬ä»»ã‚’è² ã‚ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'æŒ‰ç…§æ³¨æ–‡è€…çš„æŒ‡ç¤ºè¿›è¡Œå·¥ä½œï¼Œè¯·è´Ÿäººä¸è´Ÿæ‹…ä¿è´£ä»»ï¼Œä½†è¯·è´Ÿäººæ˜çŸ¥æŒ‡ç¤ºä¸å½“è€Œä¸å‘ŠçŸ¥çš„é™¤å¤–ã€‚'
  },
  {
    question: 'è«‹è² å¥‘ç´„ã®æ‹…ä¿è²¬ä»»ã«ã¤ã„ã¦ã€æ³¨æ–‡è€…ã¯å¥‘ç´„ä¸é©åˆã‚’çŸ¥ã£ãŸæ™‚ã‹ã‚‰1å¹´ä»¥å†…ã«è«‹è² äººã«é€šçŸ¥ã—ãªã‘ã‚Œã°ã€æ‹…ä¿è²¬ä»»ã‚’è¿½åŠã§ããªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'æ³¨æ–‡è€…çŸ¥é“å¥‘çº¦ä¸é€‚åˆå1å¹´å†…å¿…é¡»é€šçŸ¥è¯·è´Ÿäººï¼Œå¦åˆ™ä¸èƒ½è¿½ç©¶æ‹…ä¿è´£ä»»ï¼Œä½†è¯·è´ŸäººçŸ¥é“æˆ–é‡å¤§è¿‡å¤±ä¸çŸ¥é“çš„é™¤å¤–ã€‚'
  },
  {
    question: 'è«‹è² å¥‘ç´„ã«ãŠã„ã¦ã€ä»•äº‹ã®å®Œæˆå‰ã§ã‚ã‚Œã°ã€è«‹è² äººã‚‚æå®³ã‚’è³ å„Ÿã—ã¦å¥‘ç´„ã‚’è§£é™¤ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'åªæœ‰æ³¨æ–‡è€…å¯ä»¥åœ¨å·¥ä½œå®Œæˆå‰èµ”å¿æŸå®³è€Œè§£é™¤å¥‘çº¦ï¼Œè¯·è´Ÿäººæ— æ­¤æƒåˆ©ã€‚'
  },
  {
    question: 'è«‹è² å¥‘ç´„ã«ãŠã„ã¦ã€æˆæœç‰©ã®å¼•æ¸¡ã—ã¨å ±é…¬ã®æ”¯æ‰•ã„ã¯åŒæ™‚å±¥è¡Œã®é–¢ä¿‚ã«ç«‹ã¤ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'æˆæœç‰©å¼•æ¸¡ä¸æŠ¥é…¬æ”¯ä»˜æ˜¯åŒæ—¶å±¥è¡Œå…³ç³»ï¼Œä½†å·¥ä½œå®Œæˆä¸æŠ¥é…¬æ”¯ä»˜ä¸æ˜¯åŒæ—¶å±¥è¡Œå…³ç³»ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('contract-work', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('contract-work')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('contract-work')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('contract-work', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.contract-work-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-explanation {
  margin-bottom: 2rem;
}

.example-box {
  background: #f0f7ff;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
  border-left: 4px solid #2a7960;
}

.example-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.effect-timing {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.timing-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.timing-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.timing-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timing-content p {
  margin: 0;
  color: #6c757d;
}

.time-sequence {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.sequence-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
}

.step-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.step-content p {
  margin: 0;
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= æ‹…ä¿è´£ä»»æ ·å¼ ========= */
.rights-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.right-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.right-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.right-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.right-content p {
  margin: 0.25rem 0;
}

.right-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

.practice-case {
  margin: 2rem 0;
}

.case-item {
  padding: 1.5rem;
  background: #f0f7ff;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
}

.case-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.case-item ol {
  padding-left: 1.5rem;
}

.case-item li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= æ‹…ä¿è´£ä»»é™åˆ¶æ ·å¼ ========= */
.limit-principle, .exception-case {
  margin: 1.5rem 0;
}

.principle-item, .exception-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.principle-icon, .exception-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.principle-content h4, .exception-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.principle-content p, .exception-content p {
  margin: 0.25rem 0;
}

.exception-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #fff9e6;
  border-radius: 4px;
  font-size: 0.875rem;
  border-left: 3px solid #ffcc00;
}

/* ========= æœŸé—´é™åˆ¶æ ·å¼ ========= */
.time-limit-principle, .time-exceptions {
  margin: 1.5rem 0;
}

.time-limit-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.time-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.time-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.time-content p {
  margin: 0.25rem 0;
}

.time-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

/* ========= ç‰¹çº¦æ ·å¼ ========= */
.agreement-validity, .agreement-limits {
  margin: 1.5rem 0;
}

.validity-item, .limit-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.validity-icon, .limit-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.validity-content h4, .limit-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.validity-content p, .limit-content p {
  margin: 0.25rem 0;
}

.validity-note, .limit-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

/* ========= æ³¨æ–‡è€…æƒåˆ©æ ·å¼ ========= */
.termination-conditions, .termination-effects {
  margin: 1.5rem 0;
}

.condition-item, .effect-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.condition-icon, .effect-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.condition-content h4, .effect-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.condition-content p, .effect-content p {
  margin: 0.25rem 0;
}

.condition-note {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #fff9e6;
  border-radius: 4px;
  font-size: 0.875rem;
  border-left: 3px solid #ffcc00;
}

/* ========= è¯·è´Ÿäººæƒåˆ©æ ·å¼ ========= */
.payment-timing, .proportional-payment {
  margin: 1.5rem 0;
}

.payment-case {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.payment-case h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.payment-case ul {
  padding-left: 1.5rem;
  margin-bottom: 1rem;
}

.payment-case li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.payment-note {
  padding: 1rem;
  background: #f0f7ff;
  border-radius: 4px;
  border-left: 3px solid #2a7960;
}

/* ========= æ¯”è¾ƒè¡¨æ ¼æ ·å¼ ========= */
.comparison-table {
  margin: 1.5rem 0;
}

.table-container {
  overflow-x: auto;
}

.compare-table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.compare-table th, .compare-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.compare-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.compare-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .effect-timing {
    grid-template-columns: 1fr;
  }
  
  .time-sequence {
    grid-template-columns: 1fr;
  }
  
  .rights-grid {
    grid-template-columns: 1fr;
  }
  
  .payment-timing {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
}
</style>