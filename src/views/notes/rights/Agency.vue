<!-- src/views/notes/rights/Agency.vue -->
<template>
  <div class="agency-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>ä»£ç†</span>
        </div>
        <h1>ä»£ç†</h1>
        <p>æ³•å¾‹è¡Œä¸ºçš„é‡è¦åˆ¶åº¦ï¼Œä»£ç†äººä»¥æœ¬äººåä¹‰å®æ–½è¡Œä¸ºï¼Œæ•ˆæœç›´æ¥å½’å±äºæœ¬äºº</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">18</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">50åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£ä»£ç†åˆ¶åº¦çš„åŸºæœ¬æ¦‚å¿µå’Œæ³•å¾‹æ•ˆåŠ›</li>
            <li>æŒæ¡æ— æƒä»£ç†çš„æ³•å¾‹æ•ˆæœå’Œæ•‘æµæªæ–½</li>
            <li>ç†Ÿæ‚‰è¡¨è§ä»£ç†çš„æˆç«‹è¦ä»¶å’Œæ³•å¾‹åæœ</li>
            <li>äº†è§£å¤ä»£ç†çš„é€‰ä»»æ¡ä»¶å’Œè´£ä»»å½’å±</li>
            <li>èƒ½å¤ŸåŒºåˆ†è‡ªå·±å¥‘çº¦ã€åŒæ–¹ä»£ç†å’Œåˆ©ç›Šç›¸åè¡Œä¸º</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- ä»£ç†çš„åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. ä»£ç†çš„åŸºæœ¬æ¦‚å¿µ</h2>
          
          <h3>ä»£ç†çš„å®šä¹‰</h3>
          <div class="concept-explanation">
            <p>ä»£ç†æ˜¯æŒ‡ä»£ç†äººä»¥æœ¬äººåä¹‰å®æ–½æ³•å¾‹è¡Œä¸ºï¼Œå…¶æ³•å¾‹æ•ˆæœç›´æ¥å½’å±äºæœ¬äººçš„åˆ¶åº¦ã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ æ¡ˆä¾‹è¯´æ˜</h4>
              <p>Aæƒ³å–æ‰åœŸåœ°ä½†å·¥ä½œç¹å¿™ï¼Œå§”æ‰˜Bä½œä¸ºä»£ç†äººã€‚Bä»¥Açš„åä¹‰ä¸Cç­¾è®¢ä¹°å–å¥‘çº¦ï¼Œå¥‘çº¦æ•ˆæœç›´æ¥å½’å±äºAï¼ŒAä¸Cä¹‹é—´æˆç«‹ä¹°å–å…³ç³»ã€‚</p>
            </div>
          </div>

          <h3>ä»£ç†çš„ä¸‰è¦ä»¶</h3>
          <div class="requirements-grid">
            <div class="requirement-item">
              <div class="req-icon">ğŸ”‘</div>
              <div class="req-content">
                <h4>ä»£ç†æƒå­˜åœ¨</h4>
                <p>ä»£ç†äººå¿…é¡»æ‹¥æœ‰ä»£ç†æƒ</p>
              </div>
            </div>
            <div class="requirement-item">
              <div class="req-icon">ğŸ·ï¸</div>
              <div class="req-content">
                <h4>æ˜¾ååŸåˆ™</h4>
                <p>ä»£ç†äººå¿…é¡»è¡¨æ˜è‡ªå·±æ˜¯ä»£ç†äºº</p>
              </div>
            </div>
            <div class="requirement-item">
              <div class="req-icon">ğŸ“</div>
              <div class="req-content">
                <h4>ä»£ç†è¡Œä¸º</h4>
                <p>åœ¨ä»£ç†æƒé™èŒƒå›´å†…å®æ–½æ³•å¾‹è¡Œä¸º</p>
              </div>
            </div>
          </div>

          <h3>æ˜¾ååŸåˆ™çš„ä¾‹å¤–</h3>
          <div class="exception-cases">
            <div class="exception-item">
              <div class="exception-type">æœ‰æ•ˆ</div>
              <div class="exception-content">
                <strong>å¯¹æ–¹çŸ¥é“ä»£ç†å…³ç³»ï¼š</strong>å³ä½¿æœªæ˜¾åï¼Œæ•ˆæœä¹Ÿå½’å±æœ¬äºº
              </div>
            </div>
            <div class="exception-item">
              <div class="exception-type">æ— æ•ˆ</div>
              <div class="exception-content">
                <strong>å¯¹æ–¹ä¸çŸ¥é“ä»£ç†å…³ç³»ï¼š</strong>æ•ˆæœå½’å±ä»£ç†äºº
              </div>
            </div>
          </div>

          <h3>ä»£ç†å…³ç³»å›¾</h3>
          <div class="relationship-diagram">
            <div class="party">
              <h4>æœ¬äºº A</h4>
              <div class="role">å§”æ‰˜ä»£ç†æƒ</div>
            </div>
            <div class="arrow">â†“</div>
            <div class="party agent">
              <h4>ä»£ç†äºº B</h4>
              <div class="role">ä»¥Aåä¹‰ç­¾çº¦</div>
            </div>
            <div class="arrow">â†“</div>
            <div class="party">
              <h4>ç›¸å¯¹æ–¹ C</h4>
              <div class="role">ä¸Aæˆç«‹å¥‘çº¦</div>
            </div>
          </div>
        </section>

        <!-- ä»£ç†æƒçš„èŒƒå›´ä¸æ¶ˆç­ -->
        <section id="authority-scope" class="content-section">
          <h2>2. ä»£ç†æƒçš„èŒƒå›´ä¸æ¶ˆç­</h2>
          
          <h3>ä»£ç†æƒçš„ç§ç±»</h3>
          <div class="authority-types">
            <div class="type-card">
              <h4>æ³•å®šä»£ç†</h4>
              <p>åŸºäºæ³•å¾‹è§„å®šäº§ç”Ÿ</p>
              <div class="type-examples">
                <div class="example">çˆ¶æ¯å¯¹æœªæˆå¹´å­å¥³</div>
                <div class="example">ç›‘æŠ¤äººå¯¹è¢«ç›‘æŠ¤äºº</div>
              </div>
            </div>
            <div class="type-card">
              <h4>ä»»æ„ä»£ç†</h4>
              <p>åŸºäºæœ¬äººå§”æ‰˜äº§ç”Ÿ</p>
              <div class="type-examples">
                <div class="example">å§”æ‰˜ä¸­ä»‹å–æˆ¿</div>
                <div class="example">å§”æ‰˜å¾‹å¸ˆå¤„ç†äº‹åŠ¡</div>
              </div>
            </div>
          </div>

          <h3>ä»£ç†æƒçš„æ¶ˆç­äº‹ç”±</h3>
          <div class="termination-table">
            <table>
              <thead>
                <tr>
                  <th>æ¶ˆç­äº‹ç”±</th>
                  <th>æœ¬äºº</th>
                  <th>ä»£ç†äºº</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>æ­»äº¡</td>
                  <td class="terminates">â—‹</td>
                  <td class="terminates">â—‹</td>
                </tr>
                <tr>
                  <td>ç ´äº§</td>
                  <td class="conditional">â—‹ï¼ˆä»…ä»»æ„ä»£ç†ï¼‰</td>
                  <td class="terminates">â—‹</td>
                </tr>
                <tr>
                  <td>ç›‘æŠ¤å¼€å§‹</td>
                  <td class="no-terminate">Ã—</td>
                  <td class="terminates">â—‹</td>
                </tr>
              </tbody>
            </table>
          </div>

          <h3>ä¾‹å¤–æƒ…å†µ</h3>
          <div class="exceptions-list">
            <div class="exception-item">
              <div class="exception-icon">ğŸ“‹</div>
              <div class="exception-text">
                <strong>ç™»è®°ç”³è¯·çš„ä»£ç†æƒï¼š</strong>ä¸å› æœ¬äººæ­»äº¡è€Œæ¶ˆç­
              </div>
            </div>
            <div class="exception-item">
              <div class="exception-icon">ğŸ‘µ</div>
              <div class="exception-text">
                <strong>æˆå¹´ç›‘æŠ¤å¼€å§‹ï¼š</strong>ä¸å½±å“ä»£ç†æƒæ•ˆåŠ›
              </div>
            </div>
          </div>
        </section>

        <!-- æ— æƒä»£ç† -->
        <section id="unauthorized-agency" class="content-section">
          <h2>3. æ— æƒä»£ç†</h2>
          
          <h3>æ— æƒä»£ç†çš„æ¦‚å¿µ</h3>
          <div class="concept-explanation">
            <p>æ²¡æœ‰ä»£ç†æƒå´ä»¥ä»£ç†äººèº«ä»½å®æ–½æ³•å¾‹è¡Œä¸ºã€‚</p>
            
            <div class="warning-box">
              <h4>âš ï¸ æ³¨æ„</h4>
              <p>æ— æƒä»£ç†ä¸è¡¨è§ä»£ç†çš„åŒºåˆ«åœ¨äºæœ¬äººæ˜¯å¦æœ‰å½’è´£æ€§ã€‚</p>
            </div>
          </div>

          <h3>æ³•å¾‹æ•ˆæœ</h3>
          <div class="legal-effects">
            <div class="effect-flow">
              <div class="flow-step">
                <div class="step-title">åŸåˆ™ä¸Š</div>
                <div class="step-result invalid">æ— æ•ˆ</div>
              </div>
              <div class="flow-arrow">â†’</div>
              <div class="flow-step">
                <div class="step-title">ç»æœ¬äººè¿½è®¤</div>
                <div class="step-result valid">æº¯åŠæœ‰æ•ˆ</div>
              </div>
              <div class="flow-arrow">â†’</div>
              <div class="flow-step">
                <div class="step-title">è¿½è®¤å¯¹è±¡</div>
                <div class="step-result">å¯å‘æ— æƒä»£ç†äººæˆ–ç›¸å¯¹æ–¹ä½œå‡º</div>
              </div>
            </div>
          </div>

          <h3>å¯¹ç›¸å¯¹æ–¹çš„ä¿æŠ¤åˆ¶åº¦</h3>
          <div class="protection-measures">
            <div class="measure-card">
              <h4>1. å‚¬å‘Šæƒ</h4>
              <p>è¦æ±‚æœ¬äººåœ¨åˆç†æœŸé—´å†…ç¡®è®¤æ˜¯å¦è¿½è®¤</p>
              <div class="measure-details">
                <strong>ç‰¹ç‚¹ï¼š</strong>æ— è®ºç›¸å¯¹æ–¹å–„æ„æ¶æ„å‡å¯è¡Œä½¿
              </div>
            </div>
            <div class="measure-card">
              <h4>2. æ’¤é”€æƒ</h4>
              <p>åœ¨æœ¬äººè¿½è®¤å‰æ’¤é”€å¥‘çº¦</p>
              <div class="measure-details">
                <strong>é™åˆ¶ï¼š</strong>ä»…é™å–„æ„ç›¸å¯¹æ–¹
              </div>
            </div>
            <div class="measure-card">
              <h4>3. å±¥è¡Œ/æŸå®³èµ”å¿è¯·æ±‚</h4>
              <p>å‘æ— æƒä»£ç†äººä¸»å¼ æƒåˆ©</p>
              <div class="measure-details">
                <strong>è¦ä»¶ï¼š</strong>ç›¸å¯¹æ–¹éœ€å–„æ„æ— è¿‡å¤±
              </div>
            </div>
          </div>

          <h3>æ— æƒä»£ç†äººçš„è´£ä»»</h3>
          <div class="liability-rules">
            <div class="rule-item">
              <div class="rule-condition">ç›¸å¯¹æ–¹å–„æ„æ— è¿‡å¤±</div>
              <div class="rule-result">å¯è¯·æ±‚å±¥è¡Œæˆ–æŸå®³èµ”å¿</div>
            </div>
            <div class="rule-item">
              <div class="rule-condition">æ— æƒä»£ç†äººæ¶æ„</div>
              <div class="rule-result">å³ä½¿ç›¸å¯¹æ–¹æœ‰è¿‡å¤±ä¹Ÿå¯è¯·æ±‚</div>
            </div>
            <div class="rule-item">
              <div class="rule-condition">æ— æƒä»£ç†äººä¸ºé™åˆ¶è¡Œä¸ºèƒ½åŠ›è€…</div>
              <div class="rule-result">ä¸å¯è¯·æ±‚</div>
            </div>
          </div>
        </section>

        <!-- è¡¨è§ä»£ç† -->
        <section id="apparent-agency" class="content-section">
          <h2>4. è¡¨è§ä»£ç†</h2>
          
          <h3>è¡¨è§ä»£ç†çš„æˆç«‹è¦ä»¶</h3>
          <div class="requirements-combination">
            <div class="requirement-part">
              <div class="part-title">ç›¸å¯¹æ–¹è¦ä»¶</div>
              <div class="part-content highlight">å–„æ„æ— è¿‡å¤±</div>
            </div>
            <div class="combination-plus">+</div>
            <div class="requirement-part">
              <div class="part-title">æœ¬äººè¦ä»¶</div>
              <div class="part-content highlight">å­˜åœ¨å½’è´£äº‹ç”±</div>
            </div>
          </div>

          <h3>è¡¨è§ä»£ç†çš„ä¸‰ç§ç±»å‹</h3>
          <div class="apparent-types">
            <div class="type-card">
              <h4>1. æˆæƒè¡¨ç¤ºå‹</h4>
              <p>æœ¬äººæ›¾è¡¨ç¤ºæˆäºˆä»£ç†æƒ</p>
              <div class="type-example">
                <strong>ä¾‹å­ï¼š</strong>Aæ›¾ç»™Bå§”ä»»çŠ¶ä½†å·²æ”¶å›ï¼ŒBä»æŒå§”ä»»çŠ¶ä¸Cç­¾çº¦
              </div>
            </div>
            <div class="type-card">
              <h4>2. æƒé™é€¾è¶Šå‹</h4>
              <p>ä»£ç†æƒèŒƒå›´å¤–çš„è¡Œä¸º</p>
              <div class="type-example">
                <strong>ä¾‹å­ï¼š</strong>Aåªèµ‹äºˆBè®¾å®šæŠµæŠ¼æƒçš„æƒé™ï¼ŒBå´ç›´æ¥å–æ‰æˆ¿äº§
              </div>
            </div>
            <div class="type-card">
              <h4>3. æƒé™æ¶ˆç­åå‹</h4>
              <p>ä»£ç†æƒæ¶ˆç­åä»è¡Œä½¿ä»£ç†æƒ</p>
              <div class="type-example">
                <strong>ä¾‹å­ï¼š</strong>Bå·²è¢«è§£é›‡ï¼Œä»ä»¥Aä»£ç†äººèº«ä»½ç­¾çº¦
              </div>
            </div>
          </div>

          <h3>æ³•å¾‹æ•ˆæœ</h3>
          <div class="legal-consequences">
            <div class="consequence-main">
              <div class="consequence-icon">âœ…</div>
              <div class="consequence-content">
                <h4>ä»£ç†è¡Œä¸ºæœ‰æ•ˆ</h4>
                <p>æ•ˆæœå½’å±æœ¬äºº</p>
              </div>
            </div>
            <div class="consequence-options">
              <div class="option">
                <strong>ç›¸å¯¹æ–¹å¯é€‰æ‹©ï¼š</strong>
                <ul>
                  <li>å‘æœ¬äººä¸»å¼ è¡¨è§ä»£ç†</li>
                  <li>å‘æ— æƒä»£ç†äººè¿½åŠè´£ä»»</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- è‡ªå·±å¥‘çº¦ä¸åŒæ–¹ä»£ç† -->
        <section id="self-contract" class="content-section">
          <h2>5. è‡ªå·±å¥‘çº¦ä¸åŒæ–¹ä»£ç†</h2>
          
          <h3>è‡ªå·±å¥‘çº¦</h3>
          <div class="self-contract-explanation">
            <p>ä»£ç†äººè‡ªå·±ä½œä¸ºå¥‘çº¦ç›¸å¯¹æ–¹ä¸æœ¬äººäº¤æ˜“ã€‚</p>
            
            <div class="case-scenario">
              <div class="scenario-title">å…¸å‹æ¡ˆä¾‹</div>
              <div class="scenario-content">
                <div class="actor">Aï¼ˆæœ¬äººï¼‰</div>
                <div class="action">å§”æ‰˜Bå–åœŸåœ°</div>
                <div class="actor agent">Bï¼ˆä»£ç†äººï¼‰</div>
                <div class="action">è‡ªå·±ä½œä¸ºä¹°ä¸»è´­ä¹°</div>
                <div class="result invalid">åŸåˆ™ä¸Šç¦æ­¢</div>
              </div>
            </div>
          </div>

          <h3>åŒæ–¹ä»£ç†</h3>
          <div class="dual-agency-explanation">
            <p>åŒä¸€ä»£ç†äººåŒæ—¶ä»£ç†å¥‘çº¦åŒæ–¹ã€‚</p>
            
            <div class="case-scenario">
              <div class="scenario-title">å…¸å‹æ¡ˆä¾‹</div>
              <div class="scenario-content dual">
                <div class="party-group">
                  <div class="actor">Aï¼ˆå–æ–¹ï¼‰</div>
                  <div class="action">å§”æ‰˜Bå–åœŸåœ°</div>
                </div>
                <div class="agent-central">
                  <div class="actor agent">Bï¼ˆåŒæ–¹ä»£ç†äººï¼‰</div>
                </div>
                <div class="party-group">
                  <div class="actor">Cï¼ˆä¹°æ–¹ï¼‰</div>
                  <div class="action">å§”æ‰˜Bä¹°åœŸåœ°</div>
                </div>
                <div class="result invalid">åŸåˆ™ä¸Šç¦æ­¢</div>
              </div>
            </div>
          </div>

          <h3>ä¾‹å¤–æƒ…å†µ</h3>
          <div class="exceptions-table">
            <table>
              <thead>
                <tr>
                  <th>ç±»å‹</th>
                  <th>åŸåˆ™</th>
                  <th>ä¾‹å¤–</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>è‡ªå·±å¥‘çº¦</strong></td>
                  <td class="prohibited">ç¦æ­¢</td>
                  <td class="allowed">
                    <ul>
                      <li>æœ¬äººåŒæ„</li>
                      <li>å€ºåŠ¡å±¥è¡Œ</li>
                    </ul>
                  </td>
                </tr>
                <tr>
                  <td><strong>åŒæ–¹ä»£ç†</strong></td>
                  <td class="prohibited">ç¦æ­¢</td>
                  <td class="allowed">
                    <ul>
                      <li>åŒæ–¹æœ¬äººåŒæ„</li>
                      <li>å€ºåŠ¡å±¥è¡Œ</li>
                    </ul>
                  </td>
                </tr>
                <tr>
                  <td><strong>åˆ©ç›Šç›¸åè¡Œä¸º</strong></td>
                  <td class="prohibited">ç¦æ­¢</td>
                  <td class="allowed">
                    <ul>
                      <li>æœ¬äººåŒæ„</li>
                    </ul>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- ä»£ç†è¡Œä¸ºçš„æ„æ€è¡¨ç¤ºç‘•ç–µ -->
        <section id="declaration-defects" class="content-section">
          <h2>6. ä»£ç†è¡Œä¸ºçš„æ„æ€è¡¨ç¤ºç‘•ç–µ</h2>
          
          <h3>ä»£ç†äººå—æ¬ºè¯ˆã€å¼ºè¿«</h3>
          <div class="agent-defects">
            <div class="defect-case">
              <div class="case-title">ä»£ç†äººBå—Cçš„å¼ºè¿«</div>
              <div class="case-flow">
                <div class="step">Cå¼ºè¿«Bç­¾çº¦</div>
                <div class="arrow">â†’</div>
                <div class="step">æ’¤é”€æƒå±äºB</div>
                <div class="arrow">â†’</div>
                <div class="step">æ’¤é”€æ•ˆæœå½’å±A</div>
              </div>
            </div>
          </div>

          <h3>æœ¬äººå—æ¬ºè¯ˆã€å¼ºè¿«</h3>
          <div class="principal-defects">
            <div class="defect-case">
              <div class="case-title">æœ¬äººAå—æ¬ºè¯ˆè€Œå§”æ‰˜B</div>
              <div class="case-flow">
                <div class="step">Aè¢«æ¬ºè¯ˆå§”æ‰˜B</div>
                <div class="arrow">â†’</div>
                <div class="step">æ’¤é”€æƒå±äºA</div>
                <div class="arrow">â†’</div>
                <div class="step">ä»¥Aæ„æ€ä¸ºåˆ¤æ–­åŸºå‡†</div>
              </div>
            </div>
          </div>

          <h3>é‡è¦åŸåˆ™</h3>
          <div class="important-principle">
            <div class="principle-icon">âš–ï¸</div>
            <div class="principle-content">
              <p>æ„æ€è¡¨ç¤ºçš„ç‘•ç–µåŸåˆ™ä¸Šä»¥ä»£ç†äººåˆ¤æ–­ï¼Œä½†æ•ˆæœå½’å±æœ¬äººã€‚</p>
            </div>
          </div>

          <h3>ä¼ªè£…è®©æ¸¡çš„ç‰¹æ®Šæƒ…å†µ</h3>
          <div class="special-case">
            <div class="case-description">
              <p>Aä¸Dé€šè°‹è¿›è¡Œä¼ªè£…è®©æ¸¡ï¼Œä»£ç†äººBå–„æ„ä¸çŸ¥æƒ…ã€‚</p>
              <div class="legal-effect">
                <strong>æ•ˆæœï¼š</strong>å³ä½¿ä»£ç†äººå–„æ„ï¼Œæ¶æ„çš„æœ¬äººAä¸èƒ½å–å¾—æˆ¿äº§
              </div>
            </div>
          </div>
        </section>

        <!-- å¤ä»£ç† -->
        <section id="sub-agency" class="content-section">
          <h2>7. å¤ä»£ç†</h2>
          
          <h3>å¤ä»£ç†çš„æ¦‚å¿µ</h3>
          <div class="concept-explanation">
            <p>ä»£ç†äººé€‰ä»»ä»–äººä»£ä¸ºè¡Œä½¿ä»£ç†æƒã€‚</p>
            
            <div class="relationship-chart">
              <div class="level">
                <div class="role-box principal">æœ¬äºº A</div>
              </div>
              <div class="arrow-down">â†“ å§”æ‰˜</div>
              <div class="level">
                <div class="role-box agent">ä»£ç†äºº B</div>
              </div>
              <div class="arrow-down">â†“ é€‰ä»»</div>
              <div class="level">
                <div class="role-box sub-agent">å¤ä»£ç†äºº C</div>
                <div class="note">æœ¬äººçš„ä»£ç†äººï¼Œéä»£ç†äººçš„ä»£ç†äºº</div>
              </div>
            </div>
          </div>

          <h3>é€‰ä»»æ¡ä»¶</h3>
          <div class="appointment-conditions">
            <div class="condition-card">
              <h4>æ³•å®šä»£ç†</h4>
              <div class="condition-result allowed">éšæ—¶å¯ä»¥é€‰ä»»</div>
            </div>
            <div class="condition-card">
              <h4>ä»»æ„ä»£ç†</h4>
              <div class="condition-result conditional">
                éœ€æœ¬äººåŒæ„<br>æˆ–æœ‰ä¸å¾—å·²äº‹ç”±
              </div>
            </div>
          </div>

          <h3>è´£ä»»å½’å±</h3>
          <div class="responsibility-rules">
            <div class="responsibility-card">
              <h4>ä»»æ„ä»£ç†</h4>
              <div class="responsibility-detail">
                ä»£ç†äººå¯¹å¤ä»£ç†äººçš„è¡Œä¸ºå‘æœ¬äººè´Ÿè´£
              </div>
            </div>
            <div class="responsibility-card">
              <h4>æ³•å®šä»£ç†</h4>
              <div class="responsibility-detail">
                <div class="rule-item">åŸåˆ™ä¸Šè´Ÿå…¨éƒ¨è´£ä»»</div>
                <div class="rule-item exception">ä¸å¾—å·²äº‹ç”±æ—¶è´Ÿé€‰ä»»ç›‘ç£è´£ä»»</div>
              </div>
            </div>
          </div>

          <h3>å¤ä»£ç†çš„æ€§è´¨</h3>
          <div class="nature-rules">
            <div class="nature-item">
              <div class="nature-icon">ğŸ”’</div>
              <div class="nature-text">
                <strong>æƒé™é™åˆ¶ï¼š</strong>å¤ä»£ç†æƒä¸èƒ½è¶…è¿‡åŸä»£ç†æƒèŒƒå›´
              </div>
            </div>
            <div class="nature-item">
              <div class="nature-icon">ğŸ”„</div>
              <div class="nature-text">
                <strong>æ¶ˆç­è¿å¸¦ï¼š</strong>åŸä»£ç†æƒæ¶ˆç­ï¼Œå¤ä»£ç†æƒéšä¹‹æ¶ˆç­
              </div>
            </div>
            <div class="nature-item">
              <div class="nature-icon">ğŸ‘¤</div>
              <div class="nature-text">
                <strong>èº«ä»½å½’å±ï¼š</strong>å¤ä»£ç†äººæ˜¯æœ¬äººçš„ä»£ç†äºº
              </div>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=agency" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=agency" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'authority-scope', title: 'ä»£ç†æƒèŒƒå›´', icon: 'ğŸ”‘' },
  { id: 'unauthorized-agency', title: 'æ— æƒä»£ç†', icon: 'ğŸš«' },
  { id: 'apparent-agency', title: 'è¡¨è§ä»£ç†', icon: 'ğŸ‘ï¸' },
  { id: 'self-contract', title: 'è‡ªå·±å¥‘çº¦', icon: 'ğŸ¤' },
  { id: 'declaration-defects', title: 'æ„æ€ç‘•ç–µ', icon: 'âš–ï¸' },
  { id: 'sub-agency', title: 'å¤ä»£ç†', icon: 'ğŸ”„' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'ä»£ç†ï¼ˆã ã„ã‚Šï¼‰',
    chinese: 'ä»£ç†',
    explanation: 'ä»£ç†äººä»¥æœ¬äººåä¹‰å®æ–½æ³•å¾‹è¡Œä¸ºï¼Œæ•ˆæœç›´æ¥å½’å±äºæœ¬äºº',
    example: 'Aå§”æ‰˜Bä»£ä¸ºå‡ºå”®åœŸåœ°ï¼ŒBä¸Cç­¾è®¢ä¹°å–å¥‘çº¦ï¼Œæ•ˆæœç›´æ¥å½’å±äºA'
  },
  {
    japanese: 'ç„¡æ¨©ä»£ç†ï¼ˆã‚€ã‘ã‚“ã ã„ã‚Šï¼‰',
    chinese: 'æ— æƒä»£ç†',
    explanation: 'æ²¡æœ‰ä»£ç†æƒå´ä»¥ä»£ç†äººèº«ä»½å®æ–½æ³•å¾‹è¡Œä¸º',
    example: 'Bæœªç»Aæˆæƒï¼Œæ“…è‡ªä»¥Açš„ä»£ç†äººèº«ä»½å‡ºå”®Açš„åœŸåœ°'
  },
  {
    japanese: 'è¡¨è¦‹ä»£ç†ï¼ˆã²ã‚‡ã†ã‘ã‚“ã ã„ã‚Šï¼‰',
    chinese: 'è¡¨è§ä»£ç†',
    explanation: 'è™½ä¸ºæ— æƒä»£ç†ï¼Œä½†å› æœ¬äººæœ‰è¿‡é”™è€Œä½¿ç¬¬ä¸‰äººç›¸ä¿¡æœ‰ä»£ç†æƒï¼Œä»£ç†è¡Œä¸ºæœ‰æ•ˆ',
    example: 'Aæ›¾ç»™Bå§”ä»»çŠ¶ä½†å·²æ”¶å›ï¼ŒBä»æŒå§”ä»»çŠ¶ä¸Cç­¾çº¦ï¼ŒCå–„æ„æ— è¿‡å¤±'
  },
  {
    japanese: 'å¾©ä»£ç†ï¼ˆãµãã ã„ã‚Šï¼‰',
    chinese: 'å¤ä»£ç†',
    explanation: 'ä»£ç†äººé€‰ä»»ä»–äººä»£ä¸ºè¡Œä½¿ä»£ç†æƒ',
    example: 'Bå—Aå§”æ‰˜å–æˆ¿ï¼Œå› ç”Ÿç—…æ— æ³•å¤„ç†ï¼Œé€‰ä»»Cä»£ä¸ºç­¾çº¦'
  },
  {
    japanese: 'åŒæ–¹ä»£ç†ï¼ˆãã†ã»ã†ã ã„ã‚Šï¼‰',
    chinese: 'åŒæ–¹ä»£ç†',
    explanation: 'åŒä¸€ä»£ç†äººåŒæ—¶ä»£ç†åŒæ–¹å½“äº‹äºº',
    example: 'Bæ—¢æ˜¯å–æ–¹Açš„ä»£ç†äººï¼Œåˆæ˜¯ä¹°æ–¹Cçš„ä»£ç†äºº'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'è²·ä¸»AãŒã€Bã®ä»£ç†äººCã¨ã®é–“ã§Bæ‰€æœ‰ã®ç”²åœ°ã®å£²è²·å¥‘ç´„ã‚’ç· çµã™ã‚‹å ´åˆã«ãŠã„ã¦ã€CãŒBã®ä»£ç†äººã§ã‚ã‚‹ã“ã¨ã‚’Aã«å‘Šã’ã¦ã„ãªãã¦ã‚‚ã€AãŒãã®æ—¨ã‚’çŸ¥ã£ã¦ã„ã‚Œã°ã€å½“è©²å£²è²·å¥‘ç´„ã«ã‚ˆã‚ŠAã¯ç”²åœ°ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'å³ä½¿ä»£ç†äººæœªæ˜¾åï¼Œä½†ç›¸å¯¹æ–¹çŸ¥é“ä»£ç†å…³ç³»æ—¶ï¼Œä»£ç†è¡Œä¸ºæ•ˆæœå½’å±æœ¬äººã€‚'
  },
  {
    question: 'æœªæˆå¹´è€…ãŒä»£ç†äººã¨ãªã£ã¦ç· çµã—ãŸå¥‘ç´„ã®åŠ¹æœã¯ã€å½“è©²è¡Œç‚ºã‚’è¡Œã†ã«ã¤ãå½“è©²æœªæˆå¹´è€…ã®æ³•å®šä»£ç†äººã«ã‚ˆã‚‹åŒæ„ãŒãªã‘ã‚Œã°ã€æœ‰åŠ¹ã«æœ¬äººã«å¸°å±ã—ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æœªæˆå¹´äººå¯ä»¥ä½œä¸ºä»£ç†äººï¼Œå…¶è¡Œä¸ºæ•ˆæœç›´æ¥å½’å±æœ¬äººï¼Œä¸éœ€è¦æ³•å®šä»£ç†äººåŒæ„ã€‚'
  },
  {
    question: 'Aã¯ã€Bã®ä»£ç†äººã¨ã—ã¦ã€Cæ‰€æœ‰ã®åœŸåœ°ã«ã¤ã„ã¦Cã¨å£²è²·å¥‘ç´„ã‚’ç· çµã—ãŸãŒã€CãŒAã‚’ã ã¾ã—ã¦å£²è²·å¥‘ç´„ã‚’ã•ã›ãŸå ´åˆã¯ã€Aã¯å½“è©²å£²è²·å¥‘ç´„ã‚’å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã‚‹ãŒã€Bã¯å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ããªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'ä»£ç†äººå—æ¬ºè¯ˆæ—¶ï¼Œæ’¤é”€æƒå±äºæœ¬äººBï¼Œè€Œéä»£ç†äººAã€‚'
  },
  {
    question: 'AãŒBã«å¯¾ã—ã¦ã€Aæ‰€æœ‰ã®ç”²åœŸåœ°ã‚’å£²å´ã™ã‚‹ä»£ç†æ¨©ã‚’ä»¤å’Œï¼’å¹´ï¼—æœˆï¼‘æ—¥ã«æˆä¸ã—ãŸå ´åˆã€BãŒã€Aã‹ã‚‰ä»£ç†æ¨©ã‚’æˆä¸ã•ã‚Œã¦ã„ãªã„Aæ‰€æœ‰ã®ä¹™åœŸåœ°ã®å£²å´ã«ã¤ãã€Aã®ä»£ç†äººã¨ã—ã¦Fã¨å£²è²·å¥‘ç´„ã‚’ç· çµã—ãŸå ´åˆã€AãŒFã«å¯¾ã—ã¦è¿½èªã®æ„æ€è¡¨ç¤ºã‚’ã™ã‚Œã°ã€Bã®ä»£ç†è¡Œç‚ºã¯è¿½èªã®æ™‚ã‹ã‚‰Aã«å¯¾ã—ã¦åŠ¹åŠ›ã‚’ç”Ÿãšã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'è¿½è®¤å…·æœ‰æº¯åŠåŠ›ï¼Œæ•ˆåŠ›è‡ªæ³•å¾‹è¡Œä¸ºå‘ç”Ÿæ—¶ï¼ˆå¥‘çº¦è®¢ç«‹æ—¶ï¼‰äº§ç”Ÿï¼Œè€Œéè¿½è®¤æ—¶ã€‚'
  },
  {
    question: 'AãŒã€Bã®ä»£ç†äººã¨ã—ã¦Cã¨ã®é–“ã§ã€Bæ‰€æœ‰ã®åœŸåœ°ã®å£²è²·å¥‘ç´„ã‚’ç· çµã™ã‚‹å ´åˆã€BãŒã€Aã«Bæ‰€æœ‰åœŸåœ°ã‚’æ‹…ä¿ã¨ã—ã¦ã€å€Ÿé‡‘ã‚’ã™ã‚‹ã“ã¨ã—ã‹é ¼ã‚“ã§ã„ãªã„å ´åˆã€CãŒAã«åœŸåœ°å£²å´ã®ä»£ç†æ¨©ãŒã‚ã‚‹ã¨ä¿¡ã˜ã€ãã‚Œã«æ­£å½“ã®äº‹ç”±ãŒã‚ã£ã¦ã‚‚ã€BCé–“ã«å£²è²·å¥‘ç´„ã¯æˆç«‹ã—ãªã„ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æ­¤æƒ…å½¢ç¬¦åˆè¡¨è§ä»£ç†ï¼ˆæƒé™é€¾è¶Šå‹ï¼‰ï¼Œå¦‚ç›¸å¯¹æ–¹å–„æ„æ— è¿‡å¤±ï¼ŒBCé—´ä¹°å–å¥‘çº¦æˆç«‹ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('agency', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('agency')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('agency')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('agency', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.agency-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.requirements-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.requirement-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.req-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.req-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.req-content p {
  margin: 0;
  color: #6c757d;
}

.exception-cases {
  margin: 1.5rem 0;
}

.exception-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 0.75rem;
}

.exception-type {
  background: #2a7960;
  color: white;
  padding: 0.25rem 0.75rem;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
  min-width: 60px;
  text-align: center;
}

.exception-content {
  flex: 1;
}

.relationship-diagram {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin: 2rem 0;
  flex-wrap: wrap;
}

.party {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
  min-width: 120px;
}

.party.agent {
  background: #e9f7f0;
  border-color: #2a7960;
}

.party h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.role {
  font-size: 0.875rem;
  color: #6c757d;
}

.arrow {
  font-size: 1.5rem;
  color: #2a7960;
  font-weight: bold;
}

/* ========= ä»£ç†æƒèŒƒå›´æ ·å¼ ========= */
.authority-types {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.type-card {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.type-card h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.type-examples {
  margin-top: 1rem;
}

.example {
  padding: 0.5rem;
  background: #f5f5f5;
  border-radius: 4px;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.termination-table {
  margin: 1.5rem 0;
}

.termination-table table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.termination-table th, .termination-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.termination-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.termination-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.terminates {
  background-color: #ffe7e7 !important;
  color: #c62828;
  font-weight: bold;
}

.conditional {
  background-color: #fff9e6 !important;
  color: #e65100;
  font-weight: bold;
}

.no-terminate {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
}

.exceptions-list {
  margin: 1.5rem 0;
}

.exception-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 0.75rem;
}

.exception-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.exception-text {
  flex: 1;
}

/* ========= æ— æƒä»£ç†æ ·å¼ ========= */
.warning-box {
  background: #fff9e6;
  border-radius: 8px;
  padding: 1.5rem;
  margin: 1rem 0;
  border-left: 4px solid #ffcc00;
}

.warning-box h4 {
  margin: 0 0 0.5rem 0;
  color: #e65100;
}

.effect-flow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  margin: 1.5rem 0;
  flex-wrap: wrap;
}

.flow-step {
  text-align: center;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  min-width: 120px;
}

.step-title {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 0.5rem;
}

.step-result {
  font-weight: bold;
}

.step-result.valid {
  color: #2e7d32;
}

.step-result.invalid {
  color: #c62828;
}

.flow-arrow {
  font-size: 1.25rem;
  color: #2a7960;
  font-weight: bold;
}

.protection-measures {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.measure-card {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.measure-card h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.measure-details {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f5f5f5;
  border-radius: 4px;
  font-size: 0.875rem;
}

.liability-rules {
  margin: 1.5rem 0;
}

.rule-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 0.75rem;
}

.rule-condition {
  font-weight: bold;
  color: #1a472a;
}

.rule-result {
  color: #6c757d;
}

/* ========= è¡¨è§ä»£ç†æ ·å¼ ========= */
.requirements-combination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 2rem;
  margin: 2rem 0;
  flex-wrap: wrap;
}

.requirement-part {
  text-align: center;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  min-width: 150px;
}

.part-title {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 0.5rem;
}

.part-content.highlight {
  color: #2a7960;
  font-weight: bold;
  font-size: 1.125rem;
}

.combination-plus {
  font-size: 1.5rem;
  color: #2a7960;
  font-weight: bold;
}

.apparent-types {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.type-card {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.type-card h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.type-example {
  margin-top: 1rem;
  padding: 0.75rem;
  background: #f0f7ff;
  border-radius: 4px;
  font-size: 0.875rem;
}

.legal-consequences {
  margin: 2rem 0;
}

.consequence-main {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: #e7f7e7;
  border-radius: 8px;
  margin-bottom: 1rem;
}

.consequence-icon {
  font-size: 2rem;
}

.consequence-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.consequence-options {
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

/* ========= è‡ªå·±å¥‘çº¦æ ·å¼ ========= */
.case-scenario {
  margin: 1.5rem 0;
}

.scenario-title {
  font-weight: bold;
  margin-bottom: 1rem;
  color: #1a472a;
}

.scenario-content {
  padding: 1.5rem;
  background: #f5f5f5;
  border-radius: 8px;
  position: relative;
}

.scenario-content.dual {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

.actor {
  padding: 0.5rem 1rem;
  background: white;
  border-radius: 4px;
  border: 1px solid #e9ecef;
  text-align: center;
  margin-bottom: 0.5rem;
}

.actor.agent {
  background: #e9f7f0;
  border-color: #2a7960;
}

.action {
  padding: 0.5rem;
  background: white;
  border-radius: 4px;
  border: 1px solid #e9ecef;
  text-align: center;
  margin-bottom: 0.5rem;
}

.party-group {
  flex: 1;
  text-align: center;
}

.agent-central {
  padding: 0 1rem;
}

.result {
  position: absolute;
  top: -10px;
  right: 20px;
  background: #c62828;
  color: white;
  padding: 0.25rem 0.75rem;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
}

.result.invalid {
  background: #c62828;
}

.exceptions-table {
  margin: 1.5rem 0;
}

.exceptions-table table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.exceptions-table th, .exceptions-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
}

.exceptions-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
  text-align: center;
}

.exceptions-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.prohibited {
  background-color: #ffe7e7 !important;
  color: #c62828;
  font-weight: bold;
  text-align: center;
}

.allowed {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
}

.allowed ul {
  margin: 0;
  padding-left: 1.25rem;
}

.allowed li {
  margin-bottom: 0.25rem;
}

/* ========= æ„æ€ç‘•ç–µæ ·å¼ ========= */
.defect-case {
  margin: 1.5rem 0;
}

.case-title {
  font-weight: bold;
  margin-bottom: 1rem;
  color: #1a472a;
}

.case-flow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  padding: 1.5rem;
  background: #f5f5f5;
  border-radius: 8px;
  flex-wrap: wrap;
}

.step {
  padding: 0.75rem 1rem;
  background: white;
  border-radius: 4px;
  border: 1px solid #e9ecef;
  text-align: center;
  min-width: 100px;
}

.important-principle {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: #fff9e6;
  border-radius: 8px;
  border-left: 4px solid #ffcc00;
  margin: 1.5rem 0;
}

.principle-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.principle-content {
  flex: 1;
}

.special-case {
  margin: 1.5rem 0;
  padding: 1.5rem;
  background: #f0f7ff;
  border-radius: 8px;
  border-left: 4px solid #2a7960;
}

.legal-effect {
  margin-top: 1rem;
  padding: 0.75rem;
  background: white;
  border-radius: 4px;
  font-weight: bold;
}

/* ========= å¤ä»£ç†æ ·å¼ ========= */
.relationship-chart {
  text-align: center;
  margin: 2rem 0;
}

.level {
  margin-bottom: 1rem;
}

.role-box {
  display: inline-block;
  padding: 1rem 2rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin: 0 1rem;
}

.role-box.principal {
  background: #e9f7f0;
  border-color: #2a7960;
}

.role-box.agent {
  background: #e0f0ff;
  border-color: #1976d2;
}

.role-box.sub-agent {
  background: #fff0e0;
  border-color: #e65100;
}

.arrow-down {
  margin: 0.5rem 0;
  color: #2a7960;
  font-weight: bold;
}

.note {
  margin-top: 0.5rem;
  font-size: 0.875rem;
  color: #6c757d;
  font-style: italic;
}

.appointment-conditions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.condition-card {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.condition-card h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.condition-result {
  padding: 1rem;
  border-radius: 4px;
  font-weight: bold;
}

.condition-result.allowed {
  background: #e7f7e7;
  color: #2e7d32;
}

.condition-result.conditional {
  background: #fff9e6;
  color: #e65100;
}

.responsibility-rules {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.responsibility-card {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.responsibility-card h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.responsibility-detail {
  line-height: 1.6;
}

.rule-item {
  margin-bottom: 0.5rem;
}

.rule-item.exception {
  color: #e65100;
  font-style: italic;
}

.nature-rules {
  margin: 1.5rem 0;
}

.nature-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 0.75rem;
}

.nature-icon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.nature-text {
  flex: 1;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .requirements-grid {
    grid-template-columns: 1fr;
  }
  
  .authority-types {
    grid-template-columns: 1fr;
  }
  
  .protection-measures {
    grid-template-columns: 1fr;
  }
  
  .apparent-types {
    grid-template-columns: 1fr;
  }
  
  .appointment-conditions {
    grid-template-columns: 1fr;
  }
  
  .responsibility-rules {
    grid-template-columns: 1fr;
  }
  
  .requirements-combination {
    flex-direction: column;
    gap: 1rem;
  }
  
  .scenario-content.dual {
    flex-direction: column;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
  
  .rule-item {
    flex-direction: column;
    text-align: center;
    gap: 0.5rem;
  }
}
</style>