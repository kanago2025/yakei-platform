<!-- src/views/notes/rights/Tort.vue -->
<template>
  <div class="tort-page">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="page-header">
      <div class="header-content">
        <div class="breadcrumb">
          <router-link to="/notes">ä¸­æ–‡ç¬”è®°</router-link> &gt; 
          <router-link to="/notes?domain=rights">æƒåˆ©å…³ç³»</router-link> &gt; 
          <span>ä¸æ³•è¡Œä¸º</span>
        </div>
        <h1>ä¸æ³•è¡Œä¸ºï¼ˆä¾µæƒè¡Œä¸ºï¼‰</h1>
        <p>æ—¥æœ¬æ°‘æ³•ä¸­çš„ä¸æ³•è¡Œä¸ºåˆ¶åº¦ï¼Œæ¶‰åŠä¸€èˆ¬ä¸æ³•è¡Œä¸ºã€ç‰¹æ®Šä¸æ³•è¡Œä¸ºã€æŸå®³èµ”å¿è¯·æ±‚æƒæ—¶æ•ˆã€è¿‡å¤±ç›¸æ€ç­‰é‡è¦å†…å®¹</p>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">15</span>
            <span class="stat-label">æ ¸å¿ƒè¦ç‚¹</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">45åˆ†é’Ÿ</span>
            <span class="stat-label">å»ºè®®å­¦ä¹ æ—¶é—´</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">5</span>
            <span class="stat-label">ç»ƒä¹ é¢˜</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ userProgress }}%</span>
            <span class="stat-label">æŒæ¡è¿›åº¦</span>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
        <!-- å¿«é€Ÿå¯¼èˆª -->
        <div class="quick-nav">
          <h3>æœ¬é¡µå¯¼èˆª</h3>
          <div class="nav-links">
            <a 
              v-for="section in sections" 
              :key="section.id"
              :href="`#${section.id}`"
              class="nav-link"
              @click.prevent="scrollToSection(section.id)"
            >
              <span class="nav-icon">{{ section.icon }}</span>
              {{ section.title }}
            </a>
          </div>
        </div>

        <!-- å­¦ä¹ ç›®æ ‡ -->
        <section class="learning-goals">
          <h2>ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
          <ul>
            <li>ç†è§£ä¸æ³•è¡Œä¸ºçš„åŸºæœ¬æ¦‚å¿µå’Œæˆç«‹è¦ä»¶</li>
            <li>æŒæ¡ä¸€èˆ¬ä¸æ³•è¡Œä¸ºä¸ç‰¹æ®Šä¸æ³•è¡Œä¸ºçš„åŒºåˆ«</li>
            <li>ç†Ÿæ‚‰ä½¿ç”¨è€…è´£ä»»ã€å…±åŒä¸æ³•è¡Œä¸ºã€å·¥ä½œç‰©è´£ä»»çš„å…·ä½“é€‚ç”¨</li>
            <li>äº†è§£ä¸æ³•è¡Œä¸ºæŸå®³èµ”å¿è¯·æ±‚æƒçš„æ—¶æ•ˆè§„å®š</li>
            <li>æŒæ¡è¿‡å¤±ç›¸æ€åœ¨å®åŠ¡ä¸­çš„è¿ç”¨</li>
          </ul>
        </section>

        <!-- å…³é”®æœ¯è¯­ -->
        <section id="key-terms" class="key-terms">
          <h2>ğŸ”¤ å…³é”®æœ¯è¯­</h2>
          <div class="terms-grid">
            <div 
              v-for="term in keyTerms" 
              :key="term.japanese"
              class="term-card"
            >
              <div class="term-japanese">{{ term.japanese }}</div>
              <div class="term-chinese">{{ term.chinese }}</div>
              <div class="term-explanation">{{ term.explanation }}</div>
              <div class="term-example">{{ term.example }}</div>
            </div>
          </div>
        </section>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <section id="basic-concepts" class="content-section">
          <h2>1. ä¸æ³•è¡Œä¸ºçš„åŸºæœ¬æ¦‚å¿µ</h2>
          
          <h3>ä¸æ³•è¡Œä¸ºçš„å®šä¹‰</h3>
          <div class="concept-explanation">
            <p>ä¸æ³•è¡Œä¸ºæ˜¯æŒ‡å› æ•…æ„æˆ–è¿‡å¤±å®æ–½çš„è¿æ³•è¡Œä¸ºï¼Œç»™ä»–äººé€ æˆæŸå®³çš„è¡Œä¸ºã€‚</p>
            
            <div class="example-box">
              <h4>ğŸ“ é‡è¦æé†’</h4>
              <p>æ­£å½“é˜²å«ã€ç´§æ€¥é¿é™©ä¸å±äºä¸æ³•è¡Œä¸ºã€‚æ— è´£ä»»èƒ½åŠ›çš„æœªæˆå¹´äººæˆ–ç²¾ç¥éšœç¢è€…ä¸æ‰¿æ‹…ä¸æ³•è¡Œä¸ºè´£ä»»ã€‚</p>
            </div>
          </div>

          <h3>æˆç«‹è¦ä»¶</h3>
          <div class="effect-timing">
            <div class="timing-item">
              <div class="timing-icon">ğŸ¯</div>
              <div class="timing-content">
                <h4>æ•…æ„æˆ–è¿‡å¤±</h4>
                <p>ä¸»è§‚ä¸Šå­˜åœ¨è¿‡é”™</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">âš–ï¸</div>
              <div class="timing-content">
                <h4>è¿æ³•è¡Œä¸º</h4>
                <p>è¡Œä¸ºå…·æœ‰è¿æ³•æ€§</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ’¸</div>
              <div class="timing-content">
                <h4>æŸå®³å‘ç”Ÿ</h4>
                <p>é€ æˆå®é™…æŸå®³</p>
              </div>
            </div>
            <div class="timing-item">
              <div class="timing-icon">ğŸ”—</div>
              <div class="timing-content">
                <h4>å› æœå…³ç³»</h4>
                <p>è¡Œä¸ºä¸æŸå®³æœ‰å› æœå…³ç³»</p>
              </div>
            </div>
          </div>
        </section>

        <!-- ä¸€èˆ¬ä¸æ³•è¡Œä¸º -->
        <section id="general-tort" class="content-section">
          <h2>2. ä¸€èˆ¬ä¸æ³•è¡Œä¸º</h2>
          
          <h3>å®šä¹‰ä¸ä¸¾ä¾‹</h3>
          <div class="general-tort-explanation">
            <p>ä¸€èˆ¬ä¸æ³•è¡Œä¸ºæ˜¯å…¸å‹çš„ä¾µæƒè¡Œä¸ºï¼Œå¦‚äº¤é€šäº‹æ•…ã€äººèº«ä¼¤å®³ç­‰ã€‚</p>
            
            <div class="case-examples">
              <div class="case-item">
                <h4>ğŸš— äº¤é€šäº‹æ•…æ¡ˆä¾‹</h4>
                <p>Aå¼€è½¦ä¸æ³¨æ„æ’ä¼¤è¡ŒäººBï¼ŒAå› è¿‡å¤±é€ æˆBå—ä¼¤ï¼Œæ„æˆä¸€èˆ¬ä¸æ³•è¡Œä¸ºã€‚</p>
              </div>
              <div class="case-item">
                <h4>ğŸ’” äººèº«ä¼¤å®³æ¡ˆä¾‹</h4>
                <p>Cæ•…æ„æ®´æ‰“Dè‡´å…¶å—ä¼¤ï¼ŒCå› æ•…æ„é€ æˆDæŸå®³ï¼Œæ„æˆä¸€èˆ¬ä¸æ³•è¡Œä¸ºã€‚</p>
              </div>
            </div>
          </div>

          <h3>æŸå®³èµ”å¿ç‰¹ç‚¹</h3>
          <div class="compensation-features">
            <div class="feature-item">
              <h4>å±¥è¡Œè¿Ÿæ»</h4>
              <p>æŸå®³å‘ç”ŸåŒæ—¶å³é™·å…¥å±¥è¡Œè¿Ÿæ»ï¼Œ<strong>æ— éœ€å‚¬å‘Š</strong></p>
            </div>
            <div class="feature-item">
              <h4>èµ”å¿èŒƒå›´</h4>
              <p>åŒ…æ‹¬è´¢äº§æŸå®³å’Œ<strong>ç²¾ç¥æŸå®³ï¼ˆæ…°è°¢æ–™ï¼‰</strong></p>
            </div>
            <div class="feature-item">
              <h4>ç»§æ‰¿æ€§</h4>
              <p>å³ä½¿è¢«å®³äººç«‹å³æ­»äº¡ï¼Œæ…°è°¢æ–™è¯·æ±‚æƒä»å‘ç”Ÿå¹¶å¯ç»§æ‰¿</p>
            </div>
          </div>
        </section>

        <!-- ç‰¹æ®Šä¸æ³•è¡Œä¸º -->
        <section id="special-tort" class="content-section">
          <h2>3. ç‰¹æ®Šä¸æ³•è¡Œä¸º</h2>
          
          <h3>ä½¿ç”¨è€…è´£ä»»</h3>
          <div class="employer-liability">
            <p>å½“å‘˜å·¥åœ¨å·¥ä½œä¸­é€ æˆä»–äººæŸå®³æ—¶ï¼Œé›‡ä¸»éœ€æ‰¿æ‹…èµ”å¿è´£ä»»ã€‚</p>
            
            <div class="liability-scenario">
              <h4>ğŸ¢ ä½¿ç”¨åœºæ™¯</h4>
              <p>å…¬å¸Açš„å‘˜å·¥Bå¼€ç€å…¬å¸çš„è½¦é€è´§é€”ä¸­æ’ä¼¤è·¯äººCã€‚</p>
              <div class="responsibility-flow">
                <div class="flow-step">
                  <div class="step-number">1</div>
                  <div class="step-content">
                    <h4>è¢«å®³äººCçš„æƒåˆ©</h4>
                    <p>å¯å‘ä½¿ç”¨è€…Aå’ŒåŠ å®³äººBè¯·æ±‚æŸå®³èµ”å¿</p>
                  </div>
                </div>
                <div class="flow-step">
                  <div class="step-number">2</div>
                  <div class="step-content">
                    <h4>å¤–è§‚åˆ¤æ–­åŸåˆ™</h4>
                    <p>å³ä½¿æ˜¯ç§ç”¨å…¬å¸è½¦è¾†ï¼Œä½†å¤–è§‚ä¸Šåƒæ‰§è¡ŒèŒåŠ¡æ—¶ä¹Ÿå¯èƒ½æˆç«‹</p>
                  </div>
                </div>
                <div class="flow-step">
                  <div class="step-number">3</div>
                  <div class="step-content">
                    <h4>æ±‚å¿é™åˆ¶</h4>
                    <p>é›‡ä¸»åªèƒ½åœ¨<strong>ä¿¡ä¹‰åŸåˆ™èŒƒå›´å†…</strong>å‘å‘˜å·¥æ±‚å¿</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <h3>å…±åŒä¸æ³•è¡Œä¸º</h3>
          <div class="joint-tort">
            <p>æ•°äººå…±åŒé€ æˆæŸå®³æ—¶ï¼Œæ‰¿æ‹…è¿å¸¦è´£ä»»ã€‚</p>
            
            <div class="joint-scenario">
              <h4>ğŸ‘¥ å…±åŒè¡Œä¸ºæ¡ˆä¾‹</h4>
              <p>Aå’ŒBåˆä¼™æ®´æ‰“Cï¼Œé€ æˆCå—ä¼¤ã€‚Aå’ŒBæ„æˆå…±åŒä¸æ³•è¡Œä¸ºã€‚</p>
              
              <div class="liability-details">
                <div class="detail-item">
                  <h4>è¿å¸¦è´£ä»»</h4>
                  <p>è¢«å®³äººCå¯å‘Aæˆ–Bä»»ä¸€åŠ å®³äººè¯·æ±‚<strong>å…¨é¢èµ”å¿</strong></p>
                </div>
                <div class="detail-item">
                  <h4>å†…éƒ¨æ±‚å¿</h4>
                  <p>åŠ å®³äººä¹‹é—´å¯æŒ‰è¿‡å¤±æ¯”ä¾‹ç›¸äº’æ±‚å¿</p>
                </div>
              </div>
            </div>
          </div>

          <h3>å·¥ä½œç‰©è´£ä»»</h3>
          <div class="structure-liability">
            <p>å› å»ºç­‘ç‰©ç­‰ç¼ºé™·é€ æˆæŸå®³æ—¶çš„è´£ä»»ã€‚</p>
            
            <div class="responsibility-hierarchy">
              <div class="hierarchy-item">
                <div class="hierarchy-level">ä¸€æ¬¡è´£ä»»äºº</div>
                <div class="hierarchy-content">
                  <h4>å æœ‰è€…</h4>
                  <p>é‡‡å–å¿…è¦æªæ–½å¯å…è´£</p>
                </div>
              </div>
              <div class="hierarchy-item">
                <div class="hierarchy-level">äºŒæ¬¡è´£ä»»äºº</div>
                <div class="hierarchy-content">
                  <h4>æ‰€æœ‰è€…</h4>
                  <p>æ‰¿æ‹…<strong>æ— è¿‡å¤±è´£ä»»</strong>ï¼Œæ²¡æœ‰ä¾‹å¤–</p>
                </div>
              </div>
            </div>
            
            <div class="structure-scenario">
              <h4>ğŸ—ï¸ å·¥ä½œç‰©è´£ä»»æ¡ˆä¾‹</h4>
              <p>ç”²å»ºç­‘ç‰©çš„å¢™å£å› æ–½å·¥ç¼ºé™·å€’å¡Œï¼Œç ¸ä¼¤è·¯äººBã€‚</p>
              <ul>
                <li>å æœ‰è€…Aè‹¥å·²é‡‡å–å¿…è¦é˜²æŠ¤æªæ–½ï¼Œå¯å…è´£</li>
                <li>æ‰€æœ‰è€…Bæ‰¿æ‹…æ— è¿‡å¤±è´£ä»»ï¼Œå¿…é¡»èµ”å¿</li>
                <li>Bèµ”å¿åå¯å‘æ–½å·¥æ–¹Dæ±‚å¿</li>
              </ul>
            </div>
          </div>

          <h3>æ³¨æ–‡è€…è´£ä»»</h3>
          <div class="orderer-liability">
            <p>åœ¨æ‰¿åŒ…å…³ç³»ä¸­ï¼ŒåŸåˆ™ä¸Šæ³¨æ–‡è€…ä¸æ‰¿æ‹…æ‰¿åŒ…äººçš„ä¸æ³•è¡Œä¸ºè´£ä»»ã€‚</p>
            
            <div class="exception-case">
              <h4>ğŸš§ ä¾‹å¤–æƒ…å†µ</h4>
              <p>å¦‚æœæ³¨æ–‡å†…å®¹æˆ–æŒ‡ç¤ºæœ‰è¿‡å¤±ï¼Œæ³¨æ–‡è€…éœ€æ‰¿æ‹…è´£ä»»ã€‚</p>
              <div class="example-box">
                <p><strong>æ¡ˆä¾‹ï¼š</strong>è¯·è´Ÿäººåœ¨å»ºæˆ¿å­è¿‡ç¨‹ä¸­ï¼Œå› æ³¨æ–‡è€…Açš„ä¸å½“æŒ‡ç¤ºå¯¼è‡´ç –å¤´æ‰è½ç ¸ä¼¤è·¯äººï¼ŒAéœ€æ‰¿æ‹…ä¸æ³•è¡Œä¸ºè´£ä»»ã€‚</p>
              </div>
            </div>
          </div>
        </section>

        <!-- æŸå®³èµ”å¿è¯·æ±‚æƒ -->
        <section id="compensation-claim" class="content-section">
          <h2>4. æŸå®³èµ”å¿è¯·æ±‚æƒ</h2>
          
          <h3>æ—¶æ•ˆè§„å®š</h3>
          <div class="statute-limitations">
            <div class="limitation-item">
              <div class="limitation-type">ä¸»è§‚æ—¶æ•ˆ</div>
              <div class="limitation-content">
                <h4>è‡ªçŸ¥æ—¶èµ·ç®—</h4>
                <p>è¢«å®³è€…çŸ¥é“æŸå®³åŠåŠ å®³è€…æ—¶å¼€å§‹è®¡ç®—</p>
              </div>
              <div class="limitation-period">
                <span class="period-general">ä¸€èˆ¬ï¼š3å¹´</span>
                <span class="period-special">äººèº«æŸå®³ï¼š5å¹´</span>
              </div>
            </div>
            <div class="limitation-item">
              <div class="limitation-type">å®¢è§‚æ—¶æ•ˆ</div>
              <div class="limitation-content">
                <h4>è‡ªè¡Œä¸ºæ—¶èµ·ç®—</h4>
                <p>ä¸æ³•è¡Œä¸ºå‘ç”Ÿæ—¶å¼€å§‹è®¡ç®—</p>
              </div>
              <div class="limitation-period">
                <span class="period-absolute">ä¸€å¾‹ï¼š20å¹´</span>
              </div>
            </div>
          </div>

          <h3>å±¥è¡Œè¿Ÿæ»ç‰¹ç‚¹</h3>
          <div class="default-features">
            <div class="comparison-table">
              <table>
                <thead>
                  <tr>
                    <th>æ¯”è¾ƒé¡¹ç›®</th>
                    <th>å€ºåŠ¡ä¸å±¥è¡Œ</th>
                    <th>ä¸æ³•è¡Œä¸º</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>å±¥è¡Œè¿Ÿæ»å¼€å§‹</strong></td>
                    <td>å€ºæƒè€…è¯·æ±‚æ—¶</td>
                    <td class="highlight">æŸå®³å‘ç”Ÿæ—¶</td>
                  </tr>
                  <tr>
                    <td><strong>æ˜¯å¦éœ€è¦å‚¬å‘Š</strong></td>
                    <td>éœ€è¦</td>
                    <td class="highlight">ä¸éœ€è¦</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="feature-note">
              <p>âš ï¸ <strong>æ³¨æ„ï¼š</strong>ä¸æ³•è¡Œä¸ºå¯¹è¢«å®³è€…çš„ä¿æŠ¤æ›´å……åˆ†ï¼ŒæŸå®³å‘ç”Ÿå³äº§ç”Ÿå±¥è¡Œè¿Ÿæ»æ•ˆæœã€‚</p>
            </div>
          </div>
        </section>

        <!-- è¿‡å¤±ç›¸æ€ -->
        <section id="contributory-negligence" class="content-section">
          <h2>5. è¿‡å¤±ç›¸æ€</h2>
          
          <h3>æ¦‚å¿µä¸é€‚ç”¨</h3>
          <div class="negligence-concept">
            <p>å½“è¢«å®³äººä¹Ÿæœ‰è¿‡å¤±æ—¶ï¼Œå¯ç›¸åº”å‡è½»åŠ å®³äººçš„èµ”å¿è´£ä»»ã€‚</p>
            
            <div class="negligence-comparison">
              <div class="comparison-item">
                <h4>å€ºåŠ¡ä¸å±¥è¡Œ</h4>
                <p><strong>å¿…é¡»è€ƒè™‘</strong>è¢«å®³è€…çš„è¿‡å¤±</p>
              </div>
              <div class="comparison-item">
                <h4>ä¸æ³•è¡Œä¸º</h4>
                <p><strong>å¯ä»¥è€ƒè™‘</strong>è¢«å®³è€…çš„è¿‡å¤±ï¼ˆä»»æ„æ€§ï¼‰</p>
              </div>
            </div>
          </div>

          <h3>ç‰¹æ®Šé™åˆ¶</h3>
          <div class="negligence-limits">
            <div class="limit-case">
              <h4>ğŸš« åŠ å®³äººä¸èƒ½ä¸»å¼ çš„æƒ…å†µ</h4>
              <ul>
                <li><strong>æ¶æ„çš„ä¸æ³•è¡Œä¸º</strong></li>
                <li><strong>äººèº«æŸå®³</strong></li>
              </ul>
              <div class="example-box">
                <p><strong>æ¡ˆä¾‹ï¼š</strong>Aæ¬ Bé’±ä¸è¿˜ï¼ŒBæ¶æ„ç ¸åAçš„è½¦çª—ã€‚Bä¸èƒ½ä¸»å¼ ä¿®è½¦è´¹ä¸å€Ÿæ¬¾æŠµæ¶ˆï¼Œä½†Aå¯ä»¥ä¸»å¼ ã€‚</p>
              </div>
            </div>
            <div class="limit-case">
              <h4>âœ… è¢«å®³äººå¯ä»¥ä¸»å¼ çš„æƒ…å†µ</h4>
              <p>åœ¨ä¸Šè¿°é™åˆ¶æƒ…å†µä¸‹ï¼Œ<strong>è¢«å®³äººä»ç„¶å¯ä»¥ä¸»å¼ è¿‡å¤±ç›¸æ€</strong>ã€‚</p>
            </div>
          </div>
        </section>

        <!-- ç»ƒä¹ é¢˜ -->
        <section id="quiz" class="quiz-section">
          <h2>âœï¸ ç»ƒä¹ é¢˜</h2>
          
          <div 
            v-for="(quiz, index) in quizzes" 
            :key="index"
            class="quiz-item"
          >
            <div class="quiz-question">{{ quiz.question }}</div>
            <div class="quiz-options">
              <div 
                v-for="option in quiz.options" 
                :key="option.text"
                class="quiz-option"
                :class="{ 
                  'selected': selectedAnswers[index] === option.text,
                  'correct': showAnswers && option.correct,
                  'incorrect': showAnswers && selectedAnswers[index] === option.text && !option.correct
                }"
                @click="selectAnswer(index, option.text)"
              >
                {{ option.text }}
              </div>
            </div>
            <div class="quiz-actions">
              <button class="answer-btn" @click="toggleAnswer(index)">
                {{ showAnswerIndex === index ? 'éšè—ç­”æ¡ˆ' : 'æ˜¾ç¤ºç­”æ¡ˆ' }}
              </button>
            </div>
            <div 
              v-if="showAnswerIndex === index" 
              class="answer-explanation"
            >
              <strong>ç­”æ¡ˆï¼š</strong> {{ getCorrectAnswer(quiz) }}<br>
              <strong>ä¸­æ–‡è§£é‡Šï¼š</strong> {{ quiz.explanation }}
            </div>
          </div>

          <div class="quiz-footer-actions">
            <button class="btn btn-primary" @click="checkAllAnswers">
              æ£€æŸ¥å…¨éƒ¨ç­”æ¡ˆ
            </button>
            <button class="btn btn-outline" @click="resetQuiz">
              é‡æ–°ç»ƒä¹ 
            </button>
          </div>
        </section>

        <!-- åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® -->
        <div class="action-buttons">
          <router-link to="/video?topic=tort" class="action-button video">
            <span>ğŸ“º</span>
            è§‚çœ‹ç›¸å…³è§†é¢‘
          </router-link>
          <router-link to="/practice?topic=tort" class="action-button">
            <span>ğŸ“</span>
            å¼€å§‹å¼ºåŒ–ç»ƒä¹ 
          </router-link>
          <router-link to="/notes?domain=rights" class="action-button">
            <span>ğŸ“š</span>
            è¿”å›æƒåˆ©å…³ç³»
          </router-link>
        </div>
      </main>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { useLearningStore } from '@/stores/learning'
import { useRouter } from 'vue-router'

const learningStore = useLearningStore()
const router = useRouter()

// ç”¨æˆ·å­¦ä¹ è¿›åº¦
const userProgress = ref(0)
const startTime = ref(new Date())

// é¡µé¢ç« èŠ‚å¯¼èˆª
const sections = [
  { id: 'key-terms', title: 'å…³é”®æœ¯è¯­', icon: 'ğŸ”¤' },
  { id: 'basic-concepts', title: 'åŸºæœ¬æ¦‚å¿µ', icon: 'ğŸ“–' },
  { id: 'general-tort', title: 'ä¸€èˆ¬ä¸æ³•è¡Œä¸º', icon: 'âš–ï¸' },
  { id: 'special-tort', title: 'ç‰¹æ®Šä¸æ³•è¡Œä¸º', icon: 'ğŸ¢' },
  { id: 'compensation-claim', title: 'æŸå®³èµ”å¿', icon: 'ğŸ’¸' },
  { id: 'contributory-negligence', title: 'è¿‡å¤±ç›¸æ€', icon: 'âš–ï¸' },
  { id: 'quiz', title: 'ç»ƒä¹ é¢˜', icon: 'âœï¸' }
]

// å…³é”®æœ¯è¯­æ•°æ®
const keyTerms = [
  {
    japanese: 'ä¸æ³•è¡Œç‚ºï¼ˆãµã»ã†ã“ã†ã„ï¼‰',
    chinese: 'ä¸æ³•è¡Œä¸º',
    explanation: 'å› æ•…æ„æˆ–è¿‡å¤±å®æ–½çš„è¿æ³•è¡Œä¸ºï¼Œç»™ä»–äººé€ æˆæŸå®³çš„è¡Œä¸º',
    example: 'å¼€è½¦ä¸æ³¨æ„æ’ä¼¤è¡Œäºº'
  },
  {
    japanese: 'ä½¿ç”¨è€…è²¬ä»»ï¼ˆã—ã‚ˆã†ã—ã‚ƒã›ãã«ã‚“ï¼‰',
    chinese: 'ä½¿ç”¨è€…è´£ä»»',
    explanation: 'é›‡ä¸»å¯¹å‘˜å·¥åœ¨å·¥ä½œä¸­çš„ä¸æ³•è¡Œä¸ºæ‰¿æ‹…çš„è´£ä»»',
    example: 'å…¬å¸å‘˜å·¥é€è´§é€”ä¸­æ’ä¼¤äººï¼Œå…¬å¸éœ€æ‰¿æ‹…è´£ä»»'
  },
  {
    japanese: 'å…±åŒä¸æ³•è¡Œç‚ºï¼ˆãã‚‡ã†ã©ã†ãµã»ã†ã“ã†ã„ï¼‰',
    chinese: 'å…±åŒä¸æ³•è¡Œä¸º',
    explanation: 'æ•°äººå…±åŒå®æ–½çš„ä¸æ³•è¡Œä¸ºï¼Œæ‰¿æ‹…è¿å¸¦è´£ä»»',
    example: 'ä¸¤äººåˆä¼™æ®´æ‰“ä»–äºº'
  },
  {
    japanese: 'å·¥ä½œç‰©è²¬ä»»ï¼ˆã“ã†ã•ãã¶ã¤ã›ãã«ã‚“ï¼‰',
    chinese: 'å·¥ä½œç‰©è´£ä»»',
    explanation: 'å› å»ºç­‘ç‰©ç­‰ç¼ºé™·é€ æˆæŸå®³æ—¶çš„è´£ä»»',
    example: 'å¢™å£å€’å¡Œç ¸ä¼¤è·¯äºº'
  },
  {
    japanese: 'æ…°è¬æ–™ï¼ˆã„ã—ã‚ƒã‚Šã‚‡ã†ï¼‰',
    chinese: 'ç²¾ç¥æŸå®³èµ”å¿',
    explanation: 'å¯¹ç²¾ç¥ç—›è‹¦çš„ç»æµè¡¥å¿',
    example: 'å› åèª‰å—æŸè·å¾—çš„ç²¾ç¥æŠšæ…°é‡‘'
  }
]

// ç»ƒä¹ é¢˜æ•°æ®
const quizzes = [
  {
    question: 'æ•…æ„åˆã¯éå¤±ã«ã‚ˆã£ã¦ä»–äººã«æå®³ã‚’ä¸ãˆã‚‹è¡Œç‚ºã¯ã€ã™ã¹ã¦ä¸æ³•è¡Œç‚ºã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'æ­£å½“é˜²å«ã€ç´§æ€¥é¿é™©ç­‰è¿æ³•æ€§é˜»å´äº‹ç”±ä¸æ„æˆä¸æ³•è¡Œä¸ºã€‚'
  },
  {
    question: 'ä½¿ç”¨è€…ã¯ã€è¢«ç”¨è€…ã®æ¥­å‹™ä¸Šã®ä¸æ³•è¡Œç‚ºã«ã‚ˆã£ã¦ç”Ÿã˜ãŸæå®³ã«ã¤ã„ã¦ã€è¢«ç”¨è€…ã«å¯¾ã—ã¦å…¨é¡ã®æ±‚å„Ÿã‚’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'ä½¿ç”¨è€…åªèƒ½åœ¨ä¿¡ä¹‰åŸåˆ™èŒƒå›´å†…æ±‚å¿ï¼Œä¸èƒ½å…¨é¢æ±‚å¿ã€‚'
  },
  {
    question: 'ä¸æ³•è¡Œç‚ºã«ã‚ˆã‚‹æå®³è³ å„Ÿè«‹æ±‚æ¨©ã¯ã€æå®³åŠã³åŠ å®³è€…ã‚’çŸ¥ã£ãŸæ™‚ã‹ã‚‰5å¹´é–“è¡Œä½¿ã—ãªã„ã¨æ™‚åŠ¹ã«ã‚ˆã‚Šæ¶ˆæ»…ã™ã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: false },
      { text: 'âœ• (èª¤ã‚Š)', correct: true }
    ],
    explanation: 'ä¸€èˆ¬æƒ…å†µæ˜¯3å¹´ï¼Œåªæœ‰äººèº«æŸå®³æ‰æ˜¯5å¹´ã€‚'
  },
  {
    question: 'å·¥ä½œç‰©ã®å æœ‰è€…ã¯ã€æå®³ç™ºç”Ÿé˜²æ­¢ã«å¿…è¦ãªæªç½®ã‚’è¬›ã˜ã¦ã„ãŸå ´åˆã€å·¥ä½œç‰©è²¬ä»»ã‚’å…ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'å æœ‰è€…é‡‡å–å¿…è¦æªæ–½å¯å…è´£ï¼Œä½†æ‰€æœ‰è€…ä»éœ€æ‰¿æ‹…æ— è¿‡å¤±è´£ä»»ã€‚'
  },
  {
    question: 'å…±åŒä¸æ³•è¡Œç‚ºã«ãŠã„ã¦ã€è¢«å®³è€…ã¯åŠ å®³è€…å…¨å“¡ã«å¯¾ã—ã¦æå®³ã®å…¨é¡ã‚’è«‹æ±‚ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚',
    options: [
      { text: 'ã€‡ (æ­£ã—ã„)', correct: true },
      { text: 'âœ• (èª¤ã‚Š)', correct: false }
    ],
    explanation: 'å…±åŒä¸æ³•è¡Œä¸ºäººæ‰¿æ‹…è¿å¸¦è´£ä»»ï¼Œè¢«å®³äººå¯å‘ä»»ä¸€åŠ å®³äººè¯·æ±‚å…¨é¢èµ”å¿ã€‚'
  }
]

// ç­”é¢˜çŠ¶æ€
const selectedAnswers = ref(Array(quizzes.length).fill(null))
const showAnswerIndex = ref(null)
const showAnswers = ref(false)

// æ–¹æ³•
const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth' })
  }
}

const selectAnswer = (index, answer) => {
  selectedAnswers.value[index] = answer
  // æ›´æ–°å­¦ä¹ è¿›åº¦
  updateProgress()
}

const toggleAnswer = (index) => {
  showAnswerIndex.value = showAnswerIndex.value === index ? null : index
}

const getCorrectAnswer = (quiz) => {
  const correctOption = quiz.options.find(option => option.correct)
  return correctOption ? correctOption.text : ''
}

const checkAllAnswers = () => {
  showAnswers.value = true
  updateProgress()
}

const resetQuiz = () => {
  selectedAnswers.value = Array(quizzes.length).fill(null)
  showAnswers.value = false
  showAnswerIndex.value = null
  userProgress.value = 0
}

const updateProgress = () => {
  const total = quizzes.length
  const correct = quizzes.reduce((count, quiz, index) => {
    const selected = selectedAnswers.value[index]
    if (!selected) return count
    
    const isCorrect = quiz.options.find(opt => opt.text === selected)?.correct || false
    return count + (isCorrect ? 1 : 0)
  }, 0)
  
  userProgress.value = Math.round((correct / total) * 100)
}

// è®°å½•å­¦ä¹ æ—¶é—´
const recordStudyTime = () => {
  const currentTime = new Date()
  const studyTime = Math.floor((currentTime - startTime.value) / 1000) // è½¬æ¢ä¸ºç§’
  learningStore.recordTopicStudyTime('tort', studyTime)
}

// æ ‡è®°çŸ¥è¯†ç‚¹å®Œæˆ
const markTopicCompleted = () => {
  learningStore.completeTopic('tort')
}

// åˆå§‹åŒ–
onMounted(() => {
  // ä»å­¦ä¹ å­˜å‚¨åŠ è½½è¿›åº¦
  const progress = learningStore.getTopicProgress('tort')
  if (progress) {
    userProgress.value = progress.completionPercentage
  }
  
  // è®°å½•ç”¨æˆ·å¼€å§‹å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹
  learningStore.recordTopicStudyTime('tort', 0)
  
  // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯30ç§’è®°å½•ä¸€æ¬¡å­¦ä¹ æ—¶é—´
  const timer = setInterval(() => {
    recordStudyTime()
  }, 30000)
  
  onUnmounted(() => {
    clearInterval(timer)
    // ç»„ä»¶å¸è½½æ—¶è®°å½•æ€»å­¦ä¹ æ—¶é—´
    recordStudyTime()
  })
})
</script>

<style scoped>
.tort-page {
  min-height: 100vh;
  background-color: #f8f9fa;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* ========= é¡µé¢å¤´éƒ¨ ========= */
.page-header {
  background: linear-gradient(135deg, rgba(42, 121, 96, 0.05), rgba(42, 121, 96, 0.02));
  border-radius: 12px;
  padding: 2rem;
  margin: 1rem 0 2rem;
  text-align: center;
}

.breadcrumb {
  font-size: 0.875rem;
  color: #6c757d;
  margin-bottom: 1rem;
}

.breadcrumb a {
  color: #2a7960;
  text-decoration: none;
}

.breadcrumb a:hover {
  text-decoration: underline;
}

.header-content h1 {
  font-size: 2.25rem;
  font-weight: 800;
  color: #1a472a;
  margin-bottom: 1rem;
}

.header-content p {
  font-size: 1.125rem;
  color: #6c757d;
  max-width: 700px;
  margin: 0 auto 2rem;
  line-height: 1.6;
}

.header-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.stat-item {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.75rem;
  font-weight: 700;
  color: #2a7960;
  margin-bottom: 0.25rem;
}

.stat-label {
  font-size: 0.875rem;
  color: #6c757d;
}

/* ========= ä¸»è¦å†…å®¹åŒºåŸŸ ========= */
.main-content {
  margin: 2rem 0;
}

/* ========= å¿«é€Ÿå¯¼èˆª ========= */
.quick-nav {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quick-nav h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin-bottom: 1rem;
}

.nav-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 0.75rem;
}

.nav-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.875rem;
}

.nav-link:hover {
  background: #e9ecef;
  color: #1a472a;
  transform: translateY(-2px);
}

.nav-icon {
  font-size: 1.125rem;
}

/* ========= å­¦ä¹ ç›®æ ‡ ========= */
.learning-goals {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.learning-goals h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.learning-goals ul {
  padding-left: 1.5rem;
}

.learning-goals li {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

/* ========= å…³é”®æœ¯è¯­ ========= */
.key-terms {
  margin-bottom: 2rem;
}

.key-terms h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.terms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.term-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-left: 4px solid #2a7960;
}

.term-japanese {
  font-weight: bold;
  color: #2a7960;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
}

.term-chinese {
  font-weight: bold;
  color: #333;
  margin-bottom: 1rem;
  font-size: 1.125rem;
}

.term-explanation {
  margin-bottom: 1rem;
  line-height: 1.6;
}

.term-example {
  background: #eef7ff;
  padding: 1rem;
  border-radius: 5px;
  font-style: italic;
  border-left: 3px solid #a8c6ff;
  font-size: 0.875rem;
  line-height: 1.5;
}

/* ========= å†…å®¹åŒºå— ========= */
.content-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e9ecef;
}

.content-section h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: #1a472a;
  margin: 1.5rem 0 1rem;
}

.content-section p {
  line-height: 1.6;
  margin-bottom: 1rem;
}

.content-section ul, .content-section ol {
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
}

.content-section li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= åŸºæœ¬æ¦‚å¿µæ ·å¼ ========= */
.concept-explanation {
  margin-bottom: 2rem;
}

.example-box {
  background: #f0f7ff;
  border-radius: 8px;
  padding: 1.5rem;
  margin-top: 1rem;
  border-left: 4px solid #2a7960;
}

.example-box h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.effect-timing {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.timing-item {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.timing-icon {
  font-size: 2rem;
  flex-shrink: 0;
  margin: 0 auto;
}

.timing-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.timing-content p {
  margin: 0;
  color: #6c757d;
}

/* ========= ä¸€èˆ¬ä¸æ³•è¡Œä¸ºæ ·å¼ ========= */
.general-tort-explanation {
  margin-bottom: 2rem;
}

.case-examples {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.case-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.case-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.compensation-features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.feature-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.feature-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= ç‰¹æ®Šä¸æ³•è¡Œä¸ºæ ·å¼ ========= */
.employer-liability {
  margin-bottom: 2rem;
}

.liability-scenario {
  margin: 1.5rem 0;
}

.liability-scenario h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.responsibility-flow {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.flow-step {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.step-number {
  width: 40px;
  height: 40px;
  background: #2a7960;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  margin: 0 auto 1rem;
}

.step-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.step-content p {
  margin: 0;
  font-size: 0.875rem;
  color: #6c757d;
}

.joint-tort {
  margin-bottom: 2rem;
}

.joint-scenario {
  margin: 1.5rem 0;
}

.joint-scenario h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.liability-details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.detail-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.detail-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.structure-liability {
  margin-bottom: 2rem;
}

.responsibility-hierarchy {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.hierarchy-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.hierarchy-level {
  background: #2a7960;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
}

.hierarchy-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.hierarchy-content p {
  margin: 0;
  color: #6c757d;
}

.structure-scenario {
  margin: 1.5rem 0;
}

.structure-scenario h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.structure-scenario ul {
  padding-left: 1.5rem;
}

.structure-scenario li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

.orderer-liability {
  margin-bottom: 2rem;
}

.exception-case {
  margin: 1.5rem 0;
}

.exception-case h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

/* ========= æŸå®³èµ”å¿è¯·æ±‚æƒæ ·å¼ ========= */
.statute-limitations {
  margin: 1.5rem 0;
}

.limitation-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 1rem;
}

.limitation-type {
  background: #2a7960;
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
  min-width: 80px;
  text-align: center;
}

.limitation-content {
  flex: 1;
}

.limitation-content h4 {
  margin: 0 0 0.5rem 0;
  color: #1a472a;
}

.limitation-content p {
  margin: 0;
  color: #6c757d;
  font-size: 0.875rem;
}

.limitation-period {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  min-width: 120px;
}

.period-general, .period-special, .period-absolute {
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
  text-align: center;
}

.period-general {
  background: #e7f7e7;
  color: #2e7d32;
}

.period-special {
  background: #e3f2fd;
  color: #1565c0;
}

.period-absolute {
  background: #fff9e6;
  color: #e65100;
}

.default-features {
  margin: 2rem 0;
}

.comparison-table {
  overflow-x: auto;
  margin-bottom: 1rem;
}

.comparison-table table {
  width: 100%;
  border-collapse: collapse;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
  overflow: hidden;
}

.comparison-table th, .comparison-table td {
  border: 1px solid #e9ecef;
  padding: 12px;
  text-align: center;
}

.comparison-table th {
  background-color: #2a7960;
  color: white;
  font-weight: 600;
}

.comparison-table tr:nth-child(even) {
  background-color: #f8f9fa;
}

.comparison-table .highlight {
  background-color: #e7f7e7 !important;
  color: #2e7d32;
  font-weight: bold;
}

.feature-note {
  padding: 1rem;
  background: #fff9e6;
  border-radius: 8px;
  border-left: 4px solid #ffcc00;
}

.feature-note p {
  margin: 0;
}

/* ========= è¿‡å¤±ç›¸æ€æ ·å¼ ========= */
.negligence-concept {
  margin-bottom: 2rem;
}

.negligence-comparison {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.comparison-item {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  text-align: center;
}

.comparison-item h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
}

.negligence-limits {
  margin: 2rem 0;
}

.limit-case {
  padding: 1.5rem;
  background: white;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  margin-bottom: 1.5rem;
}

.limit-case h4 {
  margin: 0 0 1rem 0;
  color: #1a472a;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.limit-case ul {
  padding-left: 1.5rem;
  margin-bottom: 1rem;
}

.limit-case li {
  margin-bottom: 0.5rem;
  line-height: 1.6;
}

/* ========= ç»ƒä¹ é¢˜æ ·å¼ ========= */
.quiz-section {
  background: white;
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.quiz-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a472a;
  margin-bottom: 1.5rem;
}

.quiz-item {
  background: #f9f9f9;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
}

.quiz-question {
  font-weight: bold;
  margin-bottom: 1.25rem;
  font-size: 1.1rem;
  line-height: 1.5;
}

.quiz-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.quiz-option {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 0.75rem 1rem;
  border: 2px solid #ddd;
  border-radius: 5px;
  transition: all 0.3s ease;
  background: white;
  min-width: 120px;
  justify-content: center;
}

.quiz-option:hover {
  background: #f0f0f0;
}

.quiz-option.selected {
  border-color: #2a7960;
  background: #e9f7f0;
}

.quiz-option.correct {
  border-color: #28a745;
  background: #e7f7e7;
  color: #2e7d32;
}

.quiz-option.incorrect {
  border-color: #dc3545;
  background: #ffe7e7;
  color: #c62828;
}

.quiz-actions {
  margin-bottom: 1rem;
}

.answer-btn {
  background: #2a7960;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-right: 0.5rem;
  font-size: 0.875rem;
}

.answer-btn:hover {
  background: #1a472a;
}

.answer-explanation {
  margin-top: 1rem;
  padding: 1rem;
  background: #f5f5f5;
  border-radius: 5px;
  line-height: 1.6;
}

.quiz-footer-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* ========= æŒ‰é’®æ ·å¼ ========= */
.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 600;
  text-align: center;
  text-decoration: none;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-family: inherit;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: #2a7960;
  color: white;
}

.btn-primary:hover {
  background: #1a472a;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(42, 121, 96, 0.3);
}

.btn-outline {
  background: transparent;
  color: #2a7960;
  border: 1px solid #2a7960;
}

.btn-outline:hover {
  background: #e9f7f0;
  transform: translateY(-2px);
}

/* ========= åº•éƒ¨è¡ŒåŠ¨æŒ‰é’® ========= */
.action-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #e9ecef;
  flex-wrap: wrap;
}

.action-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #2a7960, #1a472a);
  color: white;
  text-decoration: none;
  border-radius: 12px;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.action-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}

.action-button.video {
  background: linear-gradient(135deg, #2a7960, #205e4a);
}

/* ========= å“åº”å¼è®¾è®¡ ========= */
@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .page-header {
    padding: 1.5rem 1rem;
  }
  
  .header-content h1 {
    font-size: 1.75rem;
  }
  
  .header-stats {
    gap: 1.5rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }
  
  .nav-links {
    grid-template-columns: 1fr;
  }
  
  .terms-grid {
    grid-template-columns: 1fr;
  }
  
  .effect-timing {
    grid-template-columns: 1fr;
  }
  
  .case-examples {
    grid-template-columns: 1fr;
  }
  
  .compensation-features {
    grid-template-columns: 1fr;
  }
  
  .responsibility-flow {
    grid-template-columns: 1fr;
  }
  
  .liability-details {
    grid-template-columns: 1fr;
  }
  
  .responsibility-hierarchy {
    grid-template-columns: 1fr;
  }
  
  .limitation-item {
    flex-direction: column;
    text-align: center;
  }
  
  .negligence-comparison {
    grid-template-columns: 1fr;
  }
  
  .quiz-options {
    flex-direction: column;
  }
  
  .quiz-option {
    min-width: auto;
  }
  
  .action-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .action-button {
    width: 100%;
    max-width: 300px;
    justify-content: center;
  }
  
  .content-section, 
  .learning-goals, 
  .quiz-section, 
  .quick-nav {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .header-stats {
    flex-direction: column;
    gap: 1rem;
  }
  
  .quiz-footer-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
}
</style>